(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function QT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sf={exports:{}},hl={},Rf={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function JT(){if(Qy)return be;Qy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function I(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,b={};function x(U,Y,ge){this.props=U,this.context=Y,this.refs=b,this.updater=ge||P}x.prototype.isReactComponent={},x.prototype.setState=function(U,Y){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Y,"setState")},x.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function $(){}$.prototype=x.prototype;function Q(U,Y,ge){this.props=U,this.context=Y,this.refs=b,this.updater=ge||P}var K=Q.prototype=new $;K.constructor=Q,R(K,x.prototype),K.isPureReactComponent=!0;var J=Array.isArray,ie=Object.prototype.hasOwnProperty,ae={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function A(U,Y,ge){var ke,Ne={},Me=null,qe=null;if(Y!=null)for(ke in Y.ref!==void 0&&(qe=Y.ref),Y.key!==void 0&&(Me=""+Y.key),Y)ie.call(Y,ke)&&!D.hasOwnProperty(ke)&&(Ne[ke]=Y[ke]);var He=arguments.length-2;if(He===1)Ne.children=ge;else if(1<He){for(var Qe=Array(He),St=0;St<He;St++)Qe[St]=arguments[St+2];Ne.children=Qe}if(U&&U.defaultProps)for(ke in He=U.defaultProps,He)Ne[ke]===void 0&&(Ne[ke]=He[ke]);return{$$typeof:n,type:U,key:Me,ref:qe,props:Ne,_owner:ae.current}}function k(U,Y){return{$$typeof:n,type:U.type,key:Y,ref:U.ref,props:U.props,_owner:U._owner}}function O(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function M(U){var Y={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ge){return Y[ge]})}var F=/\/+/g;function C(U,Y){return typeof U=="object"&&U!==null&&U.key!=null?M(""+U.key):Y.toString(36)}function ve(U,Y,ge,ke,Ne){var Me=typeof U;(Me==="undefined"||Me==="boolean")&&(U=null);var qe=!1;if(U===null)qe=!0;else switch(Me){case"string":case"number":qe=!0;break;case"object":switch(U.$$typeof){case n:case e:qe=!0}}if(qe)return qe=U,Ne=Ne(qe),U=ke===""?"."+C(qe,0):ke,J(Ne)?(ge="",U!=null&&(ge=U.replace(F,"$&/")+"/"),ve(Ne,Y,ge,"",function(St){return St})):Ne!=null&&(O(Ne)&&(Ne=k(Ne,ge+(!Ne.key||qe&&qe.key===Ne.key?"":(""+Ne.key).replace(F,"$&/")+"/")+U)),Y.push(Ne)),1;if(qe=0,ke=ke===""?".":ke+":",J(U))for(var He=0;He<U.length;He++){Me=U[He];var Qe=ke+C(Me,He);qe+=ve(Me,Y,ge,Qe,Ne)}else if(Qe=I(U),typeof Qe=="function")for(U=Qe.call(U),He=0;!(Me=U.next()).done;)Me=Me.value,Qe=ke+C(Me,He++),qe+=ve(Me,Y,ge,Qe,Ne);else if(Me==="object")throw Y=String(U),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return qe}function De(U,Y,ge){if(U==null)return U;var ke=[],Ne=0;return ve(U,ke,"","",function(Me){return Y.call(ge,Me,Ne++)}),ke}function Pe(U){if(U._status===-1){var Y=U._result;Y=Y(),Y.then(function(ge){(U._status===0||U._status===-1)&&(U._status=1,U._result=ge)},function(ge){(U._status===0||U._status===-1)&&(U._status=2,U._result=ge)}),U._status===-1&&(U._status=0,U._result=Y)}if(U._status===1)return U._result.default;throw U._result}var Te={current:null},ne={transition:null},fe={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:ne,ReactCurrentOwner:ae};function le(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:De,forEach:function(U,Y,ge){De(U,function(){Y.apply(this,arguments)},ge)},count:function(U){var Y=0;return De(U,function(){Y++}),Y},toArray:function(U){return De(U,function(Y){return Y})||[]},only:function(U){if(!O(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},be.Component=x,be.Fragment=t,be.Profiler=o,be.PureComponent=Q,be.StrictMode=i,be.Suspense=f,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,be.act=le,be.cloneElement=function(U,Y,ge){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ke=R({},U.props),Ne=U.key,Me=U.ref,qe=U._owner;if(Y!=null){if(Y.ref!==void 0&&(Me=Y.ref,qe=ae.current),Y.key!==void 0&&(Ne=""+Y.key),U.type&&U.type.defaultProps)var He=U.type.defaultProps;for(Qe in Y)ie.call(Y,Qe)&&!D.hasOwnProperty(Qe)&&(ke[Qe]=Y[Qe]===void 0&&He!==void 0?He[Qe]:Y[Qe])}var Qe=arguments.length-2;if(Qe===1)ke.children=ge;else if(1<Qe){He=Array(Qe);for(var St=0;St<Qe;St++)He[St]=arguments[St+2];ke.children=He}return{$$typeof:n,type:U.type,key:Ne,ref:Me,props:ke,_owner:qe}},be.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},be.createElement=A,be.createFactory=function(U){var Y=A.bind(null,U);return Y.type=U,Y},be.createRef=function(){return{current:null}},be.forwardRef=function(U){return{$$typeof:d,render:U}},be.isValidElement=O,be.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:Pe}},be.memo=function(U,Y){return{$$typeof:m,type:U,compare:Y===void 0?null:Y}},be.startTransition=function(U){var Y=ne.transition;ne.transition={};try{U()}finally{ne.transition=Y}},be.unstable_act=le,be.useCallback=function(U,Y){return Te.current.useCallback(U,Y)},be.useContext=function(U){return Te.current.useContext(U)},be.useDebugValue=function(){},be.useDeferredValue=function(U){return Te.current.useDeferredValue(U)},be.useEffect=function(U,Y){return Te.current.useEffect(U,Y)},be.useId=function(){return Te.current.useId()},be.useImperativeHandle=function(U,Y,ge){return Te.current.useImperativeHandle(U,Y,ge)},be.useInsertionEffect=function(U,Y){return Te.current.useInsertionEffect(U,Y)},be.useLayoutEffect=function(U,Y){return Te.current.useLayoutEffect(U,Y)},be.useMemo=function(U,Y){return Te.current.useMemo(U,Y)},be.useReducer=function(U,Y,ge){return Te.current.useReducer(U,Y,ge)},be.useRef=function(U){return Te.current.useRef(U)},be.useState=function(U){return Te.current.useState(U)},be.useSyncExternalStore=function(U,Y,ge){return Te.current.useSyncExternalStore(U,Y,ge)},be.useTransition=function(){return Te.current.useTransition()},be.version="18.3.1",be}var Jy;function Pp(){return Jy||(Jy=1,Rf.exports=JT()),Rf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function YT(){if(Yy)return hl;Yy=1;var n=Pp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var _,T={},I=null,P=null;m!==void 0&&(I=""+m),f.key!==void 0&&(I=""+f.key),f.ref!==void 0&&(P=f.ref);for(_ in f)i.call(f,_)&&!a.hasOwnProperty(_)&&(T[_]=f[_]);if(d&&d.defaultProps)for(_ in f=d.defaultProps,f)T[_]===void 0&&(T[_]=f[_]);return{$$typeof:e,type:d,key:I,ref:P,props:T,_owner:o.current}}return hl.Fragment=t,hl.jsx=u,hl.jsxs=u,hl}var Xy;function XT(){return Xy||(Xy=1,Sf.exports=YT()),Sf.exports}var v=XT(),V=Pp();const bs=QT(V);var gc={},Af={exports:{}},an={},Cf={exports:{}},xf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function ZT(){return Zy||(Zy=1,function(n){function e(ne,fe){var le=ne.length;ne.push(fe);e:for(;0<le;){var U=le-1>>>1,Y=ne[U];if(0<o(Y,fe))ne[U]=fe,ne[le]=Y,le=U;else break e}}function t(ne){return ne.length===0?null:ne[0]}function i(ne){if(ne.length===0)return null;var fe=ne[0],le=ne.pop();if(le!==fe){ne[0]=le;e:for(var U=0,Y=ne.length,ge=Y>>>1;U<ge;){var ke=2*(U+1)-1,Ne=ne[ke],Me=ke+1,qe=ne[Me];if(0>o(Ne,le))Me<Y&&0>o(qe,Ne)?(ne[U]=qe,ne[Me]=le,U=Me):(ne[U]=Ne,ne[ke]=le,U=ke);else if(Me<Y&&0>o(qe,le))ne[U]=qe,ne[Me]=le,U=Me;else break e}}return fe}function o(ne,fe){var le=ne.sortIndex-fe.sortIndex;return le!==0?le:ne.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],_=1,T=null,I=3,P=!1,R=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(ne){for(var fe=t(m);fe!==null;){if(fe.callback===null)i(m);else if(fe.startTime<=ne)i(m),fe.sortIndex=fe.expirationTime,e(f,fe);else break;fe=t(m)}}function J(ne){if(b=!1,K(ne),!R)if(t(f)!==null)R=!0,Pe(ie);else{var fe=t(m);fe!==null&&Te(J,fe.startTime-ne)}}function ie(ne,fe){R=!1,b&&(b=!1,$(A),A=-1),P=!0;var le=I;try{for(K(fe),T=t(f);T!==null&&(!(T.expirationTime>fe)||ne&&!M());){var U=T.callback;if(typeof U=="function"){T.callback=null,I=T.priorityLevel;var Y=U(T.expirationTime<=fe);fe=n.unstable_now(),typeof Y=="function"?T.callback=Y:T===t(f)&&i(f),K(fe)}else i(f);T=t(f)}if(T!==null)var ge=!0;else{var ke=t(m);ke!==null&&Te(J,ke.startTime-fe),ge=!1}return ge}finally{T=null,I=le,P=!1}}var ae=!1,D=null,A=-1,k=5,O=-1;function M(){return!(n.unstable_now()-O<k)}function F(){if(D!==null){var ne=n.unstable_now();O=ne;var fe=!0;try{fe=D(!0,ne)}finally{fe?C():(ae=!1,D=null)}}else ae=!1}var C;if(typeof Q=="function")C=function(){Q(F)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,De=ve.port2;ve.port1.onmessage=F,C=function(){De.postMessage(null)}}else C=function(){x(F,0)};function Pe(ne){D=ne,ae||(ae=!0,C())}function Te(ne,fe){A=x(function(){ne(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){R||P||(R=!0,Pe(ie))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ne){switch(I){case 1:case 2:case 3:var fe=3;break;default:fe=I}var le=I;I=fe;try{return ne()}finally{I=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,fe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var le=I;I=ne;try{return fe()}finally{I=le}},n.unstable_scheduleCallback=function(ne,fe,le){var U=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?U+le:U):le=U,ne){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=le+Y,ne={id:_++,callback:fe,priorityLevel:ne,startTime:le,expirationTime:Y,sortIndex:-1},le>U?(ne.sortIndex=le,e(m,ne),t(f)===null&&ne===t(m)&&(b?($(A),A=-1):b=!0,Te(J,le-U))):(ne.sortIndex=Y,e(f,ne),R||P||(R=!0,Pe(ie))),ne},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ne){var fe=I;return function(){var le=I;I=fe;try{return ne.apply(this,arguments)}finally{I=le}}}}(xf)),xf}var ev;function eI(){return ev||(ev=1,Cf.exports=ZT()),Cf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function tI(){if(tv)return an;tv=1;var n=Pp(),e=eI();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},T={};function I(r){return f.call(T,r)?!0:f.call(_,r)?!1:m.test(r)?T[r]=!0:(_[r]=!0,!1)}function P(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function R(r,s,l,h){if(s===null||typeof s>"u"||P(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function b(r,s,l,h,p,y,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=E}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){x[r]=new b(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];x[s]=new b(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){x[r]=new b(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){x[r]=new b(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){x[r]=new b(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){x[r]=new b(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){x[r]=new b(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){x[r]=new b(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){x[r]=new b(r,5,!1,r.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function Q(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace($,Q);x[s]=new b(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace($,Q);x[s]=new b(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace($,Q);x[s]=new b(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){x[r]=new b(r,1,!1,r.toLowerCase(),null,!1,!1)}),x.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){x[r]=new b(r,1,!1,r.toLowerCase(),null,!0,!0)});function K(r,s,l,h){var p=x.hasOwnProperty(s)?x[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(R(s,l,p,h)&&(l=null),h||p===null?I(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,h=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var J=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),ae=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),De=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),ne=Symbol.iterator;function fe(r){return r===null||typeof r!="object"?null:(r=ne&&r[ne]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,U;function Y(r){if(U===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+r}var ge=!1;function ke(r,s){if(!r||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(H){var h=H}Reflect.construct(r,[],s)}else{try{s.call()}catch(H){h=H}r.call(s.prototype)}else{try{throw Error()}catch(H){h=H}r()}}catch(H){if(H&&h&&typeof H.stack=="string"){for(var p=H.stack.split(`
`),y=h.stack.split(`
`),E=p.length-1,N=y.length-1;1<=E&&0<=N&&p[E]!==y[N];)N--;for(;1<=E&&0<=N;E--,N--)if(p[E]!==y[N]){if(E!==1||N!==1)do if(E--,N--,0>N||p[E]!==y[N]){var L=`
`+p[E].replace(" at new "," at ");return r.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",r.displayName)),L}while(1<=E&&0<=N);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Y(r):""}function Ne(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=ke(r.type,!1),r;case 11:return r=ke(r.type.render,!1),r;case 1:return r=ke(r.type,!0),r;default:return""}}function Me(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case ae:return"Portal";case k:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case ve:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case O:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case De:return s=r.displayName||null,s!==null?s:Me(r.type)||"Memo";case Pe:s=r._payload,r=r._init;try{return Me(r(s))}catch{}}return null}function qe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function He(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Qe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function St(r){var s=Qe(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function xr(r){r._valueTracker||(r._valueTracker=St(r))}function Gs(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=Qe(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function oi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function es(r,s){var l=s.checked;return le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Qs(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=He(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ya(r,s){s=s.checked,s!=null&&K(r,"checked",s,!1)}function va(r,s){ya(r,s);var l=He(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Js(r,s.type,l):s.hasOwnProperty("defaultValue")&&Js(r,s.type,He(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function tu(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Js(r,s,l){(s!=="number"||oi(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Pr=Array.isArray;function kr(r,s,l,h){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&h&&(r[l].defaultSelected=!0)}else{for(l=""+He(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function _a(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ys(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Pr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:He(l)}}function Xs(r,s){var l=He(s.value),h=He(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function wa(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function yt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?yt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Nr,Ea=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Nr=Nr||document.createElement("div"),Nr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Nr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ai(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ns=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(r){ns.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ts[s]=ts[r]})});function Ta(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ts.hasOwnProperty(r)&&ts[r]?(""+s).trim():s+"px"}function Ia(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=Ta(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,p):r[l]=p}}var Sa=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ra(r,s){if(s){if(Sa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Aa(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rs=null;function Zs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var eo=null,In=null,lr=null;function to(r){if(r=Ja(r)){if(typeof eo!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Nu(s),eo(r.stateNode,r.type,s))}}function ur(r){In?lr?lr.push(r):lr=[r]:In=r}function Ca(){if(In){var r=In,s=lr;if(lr=In=null,to(r),s)for(r=0;r<s.length;r++)to(s[r])}}function is(r,s){return r(s)}function xa(){}var br=!1;function Pa(r,s,l){if(br)return r(s,l);br=!0;try{return is(r,s,l)}finally{br=!1,(In!==null||lr!==null)&&(xa(),Ca())}}function lt(r,s){var l=r.stateNode;if(l===null)return null;var h=Nu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var no=!1;if(d)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){no=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{no=!1}function ss(r,s,l,h,p,y,E,N,L){var H=Array.prototype.slice.call(arguments,3);try{s.apply(l,H)}catch(te){this.onError(te)}}var os=!1,ro=null,Un=!1,ka=null,Yh={onError:function(r){os=!0,ro=r}};function io(r,s,l,h,p,y,E,N,L){os=!1,ro=null,ss.apply(Yh,arguments)}function nu(r,s,l,h,p,y,E,N,L){if(io.apply(this,arguments),os){if(os){var H=ro;os=!1,ro=null}else throw Error(t(198));Un||(Un=!0,ka=H)}}function Bn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function as(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function zn(r){if(Bn(r)!==r)throw Error(t(188))}function ru(r){var s=r.alternate;if(!s){if(s=Bn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,h=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return zn(p),r;if(y===h)return zn(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var E=!1,N=p.child;N;){if(N===l){E=!0,l=p,h=y;break}if(N===h){E=!0,h=p,l=y;break}N=N.sibling}if(!E){for(N=y.child;N;){if(N===l){E=!0,l=y,h=p;break}if(N===h){E=!0,h=y,l=p;break}N=N.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Na(r){return r=ru(r),r!==null?so(r):null}function so(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=so(r);if(s!==null)return s;r=r.sibling}return null}var oo=e.unstable_scheduleCallback,ba=e.unstable_cancelCallback,iu=e.unstable_shouldYield,Xh=e.unstable_requestPaint,Je=e.unstable_now,su=e.unstable_getCurrentPriorityLevel,ls=e.unstable_ImmediatePriority,li=e.unstable_UserBlockingPriority,Sn=e.unstable_NormalPriority,Da=e.unstable_LowPriority,ou=e.unstable_IdlePriority,us=null,fn=null;function au(r){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(us,r,void 0,(r.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:uu,Oa=Math.log,lu=Math.LN2;function uu(r){return r>>>=0,r===0?32:31-(Oa(r)/lu|0)|0}var ao=64,lo=4194304;function ui(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function cs(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,p=r.suspendedLanes,y=r.pingedLanes,E=l&268435455;if(E!==0){var N=E&~p;N!==0?h=ui(N):(y&=E,y!==0&&(h=ui(y)))}else E=l&~p,E!==0?h=ui(E):y!==0&&(h=ui(y));if(h===0)return 0;if(s!==0&&s!==h&&!(s&p)&&(p=h&-h,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if(h&4&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-Qt(s),p=1<<l,h|=r[l],s&=~p;return h}function Zh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dr(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var E=31-Qt(y),N=1<<E,L=p[E];L===-1?(!(N&l)||N&h)&&(p[E]=Zh(N,s)):L<=s&&(r.expiredLanes|=N),y&=~N}}function pn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function hs(){var r=ao;return ao<<=1,!(ao&4194240)&&(ao=64),r}function ci(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function hi(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Qt(s),r[s]=l}function Ge(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-Qt(l),y=1<<p;s[p]=0,h[p]=-1,r[p]=-1,l&=~y}}function di(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-Qt(l),p=1<<h;p&s|r[h]&s&&(r[h]|=s),l&=~p}}var Ve=0;function fi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var cu,uo,hu,du,fu,La=!1,cr=[],Nt=null,$n=null,qn=null,pi=new Map,Rn=new Map,hr=[],ed="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pu(r,s){switch(r){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":pi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(s.pointerId)}}function Zt(r,s,l,h,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Ja(s),s!==null&&uo(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function td(r,s,l,h,p){switch(s){case"focusin":return Nt=Zt(Nt,r,s,l,h,p),!0;case"dragenter":return $n=Zt($n,r,s,l,h,p),!0;case"mouseover":return qn=Zt(qn,r,s,l,h,p),!0;case"pointerover":var y=p.pointerId;return pi.set(y,Zt(pi.get(y)||null,r,s,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,Rn.set(y,Zt(Rn.get(y)||null,r,s,l,h,p)),!0}return!1}function mu(r){var s=gs(r.target);if(s!==null){var l=Bn(s);if(l!==null){if(s=l.tag,s===13){if(s=as(l),s!==null){r.blockedOn=s,fu(r.priority,function(){hu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Or(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=co(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);rs=h,l.target.dispatchEvent(h),rs=null}else return s=Ja(l),s!==null&&uo(s),r.blockedOn=l,!1;s.shift()}return!0}function ds(r,s,l){Or(r)&&l.delete(s)}function gu(){La=!1,Nt!==null&&Or(Nt)&&(Nt=null),$n!==null&&Or($n)&&($n=null),qn!==null&&Or(qn)&&(qn=null),pi.forEach(ds),Rn.forEach(ds)}function Hn(r,s){r.blockedOn===s&&(r.blockedOn=null,La||(La=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gu)))}function Wn(r){function s(p){return Hn(p,r)}if(0<cr.length){Hn(cr[0],r);for(var l=1;l<cr.length;l++){var h=cr[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Nt!==null&&Hn(Nt,r),$n!==null&&Hn($n,r),qn!==null&&Hn(qn,r),pi.forEach(s),Rn.forEach(s),l=0;l<hr.length;l++)h=hr[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<hr.length&&(l=hr[0],l.blockedOn===null);)mu(l),l.blockedOn===null&&hr.shift()}var Lr=J.ReactCurrentBatchConfig,mi=!0;function tt(r,s,l,h){var p=Ve,y=Lr.transition;Lr.transition=null;try{Ve=1,Va(r,s,l,h)}finally{Ve=p,Lr.transition=y}}function nd(r,s,l,h){var p=Ve,y=Lr.transition;Lr.transition=null;try{Ve=4,Va(r,s,l,h)}finally{Ve=p,Lr.transition=y}}function Va(r,s,l,h){if(mi){var p=co(r,s,l,h);if(p===null)fd(r,s,h,fs,l),pu(r,h);else if(td(p,r,s,l,h))h.stopPropagation();else if(pu(r,h),s&4&&-1<ed.indexOf(r)){for(;p!==null;){var y=Ja(p);if(y!==null&&cu(y),y=co(r,s,l,h),y===null&&fd(r,s,h,fs,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else fd(r,s,h,null,l)}}var fs=null;function co(r,s,l,h){if(fs=null,r=Zs(h),r=gs(r),r!==null)if(s=Bn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=as(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return fs=r,null}function ja(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(su()){case ls:return 1;case li:return 4;case Sn:case Da:return 16;case ou:return 536870912;default:return 16}default:return 16}}var mn=null,ho=null,en=null;function Ma(){if(en)return en;var r,s=ho,l=s.length,h,p="value"in mn?mn.value:mn.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var E=l-r;for(h=1;h<=E&&s[l-h]===p[y-h];h++);return en=p.slice(r,1<h?1-h:void 0)}function fo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function dr(){return!0}function Fa(){return!1}function bt(r){function s(l,h,p,y,E){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(l=r[N],this[N]=l?l(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?dr:Fa,this.isPropagationStopped=Fa,this}return le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),s}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},po=bt(Kn),fr=le({},Kn,{view:0,detail:0}),rd=bt(fr),mo,Vr,gi,ps=le({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==gi&&(gi&&r.type==="mousemove"?(mo=r.screenX-gi.screenX,Vr=r.screenY-gi.screenY):Vr=mo=0,gi=r),mo)},movementY:function(r){return"movementY"in r?r.movementY:Vr}}),go=bt(ps),Ua=le({},ps,{dataTransfer:0}),yu=bt(Ua),yo=le({},fr,{relatedTarget:0}),vo=bt(yo),vu=le({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),jr=bt(vu),_u=le({},Kn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),wu=bt(_u),Eu=le({},Kn,{data:0}),Ba=bt(Eu),_o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Tu[r])?!!s[r]:!1}function pr(){return Iu}var c=le({},fr,{key:function(r){if(r.key){var s=_o[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=fo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Jt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pr,charCode:function(r){return r.type==="keypress"?fo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?fo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=bt(c),w=le({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=bt(w),B=le({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pr}),W=bt(B),oe=le({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ke=bt(oe),_t=le({},ps,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Fe=bt(_t),Rt=[9,13,27,32],dt=d&&"CompositionEvent"in window,An=null;d&&"documentMode"in document&&(An=document.documentMode);var gn=d&&"TextEvent"in window&&!An,ms=d&&(!dt||An&&8<An&&11>=An),wo=" ",$m=!1;function qm(r,s){switch(r){case"keyup":return Rt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Eo=!1;function W1(r,s){switch(r){case"compositionend":return Hm(s);case"keypress":return s.which!==32?null:($m=!0,wo);case"textInput":return r=s.data,r===wo&&$m?null:r;default:return null}}function K1(r,s){if(Eo)return r==="compositionend"||!dt&&qm(r,s)?(r=Ma(),en=ho=mn=null,Eo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ms&&s.locale!=="ko"?null:s.data;default:return null}}var G1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!G1[r.type]:s==="textarea"}function Km(r,s,l,h){ur(h),s=xu(s,"onChange"),0<s.length&&(l=new po("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var za=null,$a=null;function Q1(r){hg(r,0)}function Su(r){var s=Ao(r);if(Gs(s))return r}function J1(r,s){if(r==="change")return s}var Gm=!1;if(d){var id;if(d){var sd="oninput"in document;if(!sd){var Qm=document.createElement("div");Qm.setAttribute("oninput","return;"),sd=typeof Qm.oninput=="function"}id=sd}else id=!1;Gm=id&&(!document.documentMode||9<document.documentMode)}function Jm(){za&&(za.detachEvent("onpropertychange",Ym),$a=za=null)}function Ym(r){if(r.propertyName==="value"&&Su($a)){var s=[];Km(s,$a,r,Zs(r)),Pa(Q1,s)}}function Y1(r,s,l){r==="focusin"?(Jm(),za=s,$a=l,za.attachEvent("onpropertychange",Ym)):r==="focusout"&&Jm()}function X1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Su($a)}function Z1(r,s){if(r==="click")return Su(s)}function eT(r,s){if(r==="input"||r==="change")return Su(s)}function tT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Gn=typeof Object.is=="function"?Object.is:tT;function qa(r,s){if(Gn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(s,p)||!Gn(r[p],s[p]))return!1}return!0}function Xm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Zm(r,s){var l=Xm(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Xm(l)}}function eg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?eg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function tg(){for(var r=window,s=oi();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=oi(r.document)}return s}function od(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function nT(r){var s=tg(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&eg(l.ownerDocument.documentElement,l)){if(h!==null&&od(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!r.extend&&y>h&&(p=h,h=y,y=p),p=Zm(l,y);var E=Zm(l,h);p&&E&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var rT=d&&"documentMode"in document&&11>=document.documentMode,To=null,ad=null,Ha=null,ld=!1;function ng(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ld||To==null||To!==oi(h)||(h=To,"selectionStart"in h&&od(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ha&&qa(Ha,h)||(Ha=h,h=xu(ad,"onSelect"),0<h.length&&(s=new po("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=To)))}function Ru(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Io={animationend:Ru("Animation","AnimationEnd"),animationiteration:Ru("Animation","AnimationIteration"),animationstart:Ru("Animation","AnimationStart"),transitionend:Ru("Transition","TransitionEnd")},ud={},rg={};d&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function Au(r){if(ud[r])return ud[r];if(!Io[r])return r;var s=Io[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in rg)return ud[r]=s[l];return r}var ig=Au("animationend"),sg=Au("animationiteration"),og=Au("animationstart"),ag=Au("transitionend"),lg=new Map,ug="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yi(r,s){lg.set(r,s),a(s,[r])}for(var cd=0;cd<ug.length;cd++){var hd=ug[cd],iT=hd.toLowerCase(),sT=hd[0].toUpperCase()+hd.slice(1);yi(iT,"on"+sT)}yi(ig,"onAnimationEnd"),yi(sg,"onAnimationIteration"),yi(og,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(ag,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wa));function cg(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,nu(h,s,void 0,r),r.currentTarget=null}function hg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],p=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var E=h.length-1;0<=E;E--){var N=h[E],L=N.instance,H=N.currentTarget;if(N=N.listener,L!==y&&p.isPropagationStopped())break e;cg(p,N,H),y=L}else for(E=0;E<h.length;E++){if(N=h[E],L=N.instance,H=N.currentTarget,N=N.listener,L!==y&&p.isPropagationStopped())break e;cg(p,N,H),y=L}}}if(Un)throw r=ka,Un=!1,ka=null,r}function Xe(r,s){var l=s[_d];l===void 0&&(l=s[_d]=new Set);var h=r+"__bubble";l.has(h)||(dg(s,r,2,!1),l.add(h))}function dd(r,s,l){var h=0;s&&(h|=4),dg(l,r,h,s)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function Ka(r){if(!r[Cu]){r[Cu]=!0,i.forEach(function(l){l!=="selectionchange"&&(oT.has(l)||dd(l,!1,r),dd(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Cu]||(s[Cu]=!0,dd("selectionchange",!1,s))}}function dg(r,s,l,h){switch(ja(s)){case 1:var p=tt;break;case 4:p=nd;break;default:p=Va}l=p.bind(null,s,l,r),p=void 0,!no||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function fd(r,s,l,h,p){var y=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var N=h.stateNode.containerInfo;if(N===p||N.nodeType===8&&N.parentNode===p)break;if(E===4)for(E=h.return;E!==null;){var L=E.tag;if((L===3||L===4)&&(L=E.stateNode.containerInfo,L===p||L.nodeType===8&&L.parentNode===p))return;E=E.return}for(;N!==null;){if(E=gs(N),E===null)return;if(L=E.tag,L===5||L===6){h=y=E;continue e}N=N.parentNode}}h=h.return}Pa(function(){var H=y,te=Zs(l),re=[];e:{var ee=lg.get(r);if(ee!==void 0){var ue=po,pe=r;switch(r){case"keypress":if(fo(l)===0)break e;case"keydown":case"keyup":ue=g;break;case"focusin":pe="focus",ue=vo;break;case"focusout":pe="blur",ue=vo;break;case"beforeblur":case"afterblur":ue=vo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=W;break;case ig:case sg:case og:ue=jr;break;case ag:ue=Ke;break;case"scroll":ue=rd;break;case"wheel":ue=Fe;break;case"copy":case"cut":case"paste":ue=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=S}var me=(s&4)!==0,ut=!me&&r==="scroll",z=me?ee!==null?ee+"Capture":null:ee;me=[];for(var j=H,q;j!==null;){q=j;var se=q.stateNode;if(q.tag===5&&se!==null&&(q=se,z!==null&&(se=lt(j,z),se!=null&&me.push(Ga(j,se,q)))),ut)break;j=j.return}0<me.length&&(ee=new ue(ee,pe,null,l,te),re.push({event:ee,listeners:me}))}}if(!(s&7)){e:{if(ee=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",ee&&l!==rs&&(pe=l.relatedTarget||l.fromElement)&&(gs(pe)||pe[Mr]))break e;if((ue||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ue?(pe=l.relatedTarget||l.toElement,ue=H,pe=pe?gs(pe):null,pe!==null&&(ut=Bn(pe),pe!==ut||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ue=null,pe=H),ue!==pe)){if(me=go,se="onMouseLeave",z="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(me=S,se="onPointerLeave",z="onPointerEnter",j="pointer"),ut=ue==null?ee:Ao(ue),q=pe==null?ee:Ao(pe),ee=new me(se,j+"leave",ue,l,te),ee.target=ut,ee.relatedTarget=q,se=null,gs(te)===H&&(me=new me(z,j+"enter",pe,l,te),me.target=q,me.relatedTarget=ut,se=me),ut=se,ue&&pe)t:{for(me=ue,z=pe,j=0,q=me;q;q=So(q))j++;for(q=0,se=z;se;se=So(se))q++;for(;0<j-q;)me=So(me),j--;for(;0<q-j;)z=So(z),q--;for(;j--;){if(me===z||z!==null&&me===z.alternate)break t;me=So(me),z=So(z)}me=null}else me=null;ue!==null&&fg(re,ee,ue,me,!1),pe!==null&&ut!==null&&fg(re,ut,pe,me,!0)}}e:{if(ee=H?Ao(H):window,ue=ee.nodeName&&ee.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ee.type==="file")var ye=J1;else if(Wm(ee))if(Gm)ye=eT;else{ye=X1;var we=Y1}else(ue=ee.nodeName)&&ue.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ye=Z1);if(ye&&(ye=ye(r,H))){Km(re,ye,l,te);break e}we&&we(r,ee,H),r==="focusout"&&(we=ee._wrapperState)&&we.controlled&&ee.type==="number"&&Js(ee,"number",ee.value)}switch(we=H?Ao(H):window,r){case"focusin":(Wm(we)||we.contentEditable==="true")&&(To=we,ad=H,Ha=null);break;case"focusout":Ha=ad=To=null;break;case"mousedown":ld=!0;break;case"contextmenu":case"mouseup":case"dragend":ld=!1,ng(re,l,te);break;case"selectionchange":if(rT)break;case"keydown":case"keyup":ng(re,l,te)}var Ee;if(dt)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Eo?qm(r,l)&&(Re="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(ms&&l.locale!=="ko"&&(Eo||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Eo&&(Ee=Ma()):(mn=te,ho="value"in mn?mn.value:mn.textContent,Eo=!0)),we=xu(H,Re),0<we.length&&(Re=new Ba(Re,r,null,l,te),re.push({event:Re,listeners:we}),Ee?Re.data=Ee:(Ee=Hm(l),Ee!==null&&(Re.data=Ee)))),(Ee=gn?W1(r,l):K1(r,l))&&(H=xu(H,"onBeforeInput"),0<H.length&&(te=new Ba("onBeforeInput","beforeinput",null,l,te),re.push({event:te,listeners:H}),te.data=Ee))}hg(re,s)})}function Ga(r,s,l){return{instance:r,listener:s,currentTarget:l}}function xu(r,s){for(var l=s+"Capture",h=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=lt(r,l),y!=null&&h.unshift(Ga(r,y,p)),y=lt(r,s),y!=null&&h.push(Ga(r,y,p))),r=r.return}return h}function So(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function fg(r,s,l,h,p){for(var y=s._reactName,E=[];l!==null&&l!==h;){var N=l,L=N.alternate,H=N.stateNode;if(L!==null&&L===h)break;N.tag===5&&H!==null&&(N=H,p?(L=lt(l,y),L!=null&&E.unshift(Ga(l,L,N))):p||(L=lt(l,y),L!=null&&E.push(Ga(l,L,N)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var aT=/\r\n?/g,lT=/\u0000|\uFFFD/g;function pg(r){return(typeof r=="string"?r:""+r).replace(aT,`
`).replace(lT,"")}function Pu(r,s,l){if(s=pg(s),pg(r)!==s&&l)throw Error(t(425))}function ku(){}var pd=null,md=null;function gd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yd=typeof setTimeout=="function"?setTimeout:void 0,uT=typeof clearTimeout=="function"?clearTimeout:void 0,mg=typeof Promise=="function"?Promise:void 0,cT=typeof queueMicrotask=="function"?queueMicrotask:typeof mg<"u"?function(r){return mg.resolve(null).then(r).catch(hT)}:yd;function hT(r){setTimeout(function(){throw r})}function vd(r,s){var l=s,h=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){r.removeChild(p),Wn(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);Wn(s)}function vi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function gg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),mr="__reactFiber$"+Ro,Qa="__reactProps$"+Ro,Mr="__reactContainer$"+Ro,_d="__reactEvents$"+Ro,dT="__reactListeners$"+Ro,fT="__reactHandles$"+Ro;function gs(r){var s=r[mr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Mr]||l[mr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=gg(r);r!==null;){if(l=r[mr])return l;r=gg(r)}return s}r=l,l=r.parentNode}return null}function Ja(r){return r=r[mr]||r[Mr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ao(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Nu(r){return r[Qa]||null}var wd=[],Co=-1;function _i(r){return{current:r}}function Ze(r){0>Co||(r.current=wd[Co],wd[Co]=null,Co--)}function Ye(r,s){Co++,wd[Co]=r.current,r.current=s}var wi={},Mt=_i(wi),tn=_i(!1),ys=wi;function xo(r,s){var l=r.type.contextTypes;if(!l)return wi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function nn(r){return r=r.childContextTypes,r!=null}function bu(){Ze(tn),Ze(Mt)}function yg(r,s,l){if(Mt.current!==wi)throw Error(t(168));Ye(Mt,s),Ye(tn,l)}function vg(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,qe(r)||"Unknown",p));return le({},l,h)}function Du(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||wi,ys=Mt.current,Ye(Mt,r),Ye(tn,tn.current),!0}function _g(r,s,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=vg(r,s,ys),h.__reactInternalMemoizedMergedChildContext=r,Ze(tn),Ze(Mt),Ye(Mt,r)):Ze(tn),Ye(tn,l)}var Fr=null,Ou=!1,Ed=!1;function wg(r){Fr===null?Fr=[r]:Fr.push(r)}function pT(r){Ou=!0,wg(r)}function Ei(){if(!Ed&&Fr!==null){Ed=!0;var r=0,s=Ve;try{var l=Fr;for(Ve=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Fr=null,Ou=!1}catch(p){throw Fr!==null&&(Fr=Fr.slice(r+1)),oo(ls,Ei),p}finally{Ve=s,Ed=!1}}return null}var Po=[],ko=0,Lu=null,Vu=0,Cn=[],xn=0,vs=null,Ur=1,Br="";function _s(r,s){Po[ko++]=Vu,Po[ko++]=Lu,Lu=r,Vu=s}function Eg(r,s,l){Cn[xn++]=Ur,Cn[xn++]=Br,Cn[xn++]=vs,vs=r;var h=Ur;r=Br;var p=32-Qt(h)-1;h&=~(1<<p),l+=1;var y=32-Qt(s)+p;if(30<y){var E=p-p%5;y=(h&(1<<E)-1).toString(32),h>>=E,p-=E,Ur=1<<32-Qt(s)+p|l<<p|h,Br=y+r}else Ur=1<<y|l<<p|h,Br=r}function Td(r){r.return!==null&&(_s(r,1),Eg(r,1,0))}function Id(r){for(;r===Lu;)Lu=Po[--ko],Po[ko]=null,Vu=Po[--ko],Po[ko]=null;for(;r===vs;)vs=Cn[--xn],Cn[xn]=null,Br=Cn[--xn],Cn[xn]=null,Ur=Cn[--xn],Cn[xn]=null}var yn=null,vn=null,nt=!1,Qn=null;function Tg(r,s){var l=bn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Ig(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,yn=r,vn=vi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,yn=r,vn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=vs!==null?{id:Ur,overflow:Br}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=bn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,yn=r,vn=null,!0):!1;default:return!1}}function Sd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Rd(r){if(nt){var s=vn;if(s){var l=s;if(!Ig(r,s)){if(Sd(r))throw Error(t(418));s=vi(l.nextSibling);var h=yn;s&&Ig(r,s)?Tg(h,l):(r.flags=r.flags&-4097|2,nt=!1,yn=r)}}else{if(Sd(r))throw Error(t(418));r.flags=r.flags&-4097|2,nt=!1,yn=r}}}function Sg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;yn=r}function ju(r){if(r!==yn)return!1;if(!nt)return Sg(r),nt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!gd(r.type,r.memoizedProps)),s&&(s=vn)){if(Sd(r))throw Rg(),Error(t(418));for(;s;)Tg(r,s),s=vi(s.nextSibling)}if(Sg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){vn=vi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}vn=null}}else vn=yn?vi(r.stateNode.nextSibling):null;return!0}function Rg(){for(var r=vn;r;)r=vi(r.nextSibling)}function No(){vn=yn=null,nt=!1}function Ad(r){Qn===null?Qn=[r]:Qn.push(r)}var mT=J.ReactCurrentBatchConfig;function Ya(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var p=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(E){var N=p.refs;E===null?delete N[y]:N[y]=E},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Mu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Ag(r){var s=r._init;return s(r._payload)}function Cg(r){function s(z,j){if(r){var q=z.deletions;q===null?(z.deletions=[j],z.flags|=16):q.push(j)}}function l(z,j){if(!r)return null;for(;j!==null;)s(z,j),j=j.sibling;return null}function h(z,j){for(z=new Map;j!==null;)j.key!==null?z.set(j.key,j):z.set(j.index,j),j=j.sibling;return z}function p(z,j){return z=Pi(z,j),z.index=0,z.sibling=null,z}function y(z,j,q){return z.index=q,r?(q=z.alternate,q!==null?(q=q.index,q<j?(z.flags|=2,j):q):(z.flags|=2,j)):(z.flags|=1048576,j)}function E(z){return r&&z.alternate===null&&(z.flags|=2),z}function N(z,j,q,se){return j===null||j.tag!==6?(j=vf(q,z.mode,se),j.return=z,j):(j=p(j,q),j.return=z,j)}function L(z,j,q,se){var ye=q.type;return ye===D?te(z,j,q.props.children,se,q.key):j!==null&&(j.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Pe&&Ag(ye)===j.type)?(se=p(j,q.props),se.ref=Ya(z,j,q),se.return=z,se):(se=lc(q.type,q.key,q.props,null,z.mode,se),se.ref=Ya(z,j,q),se.return=z,se)}function H(z,j,q,se){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=_f(q,z.mode,se),j.return=z,j):(j=p(j,q.children||[]),j.return=z,j)}function te(z,j,q,se,ye){return j===null||j.tag!==7?(j=Cs(q,z.mode,se,ye),j.return=z,j):(j=p(j,q),j.return=z,j)}function re(z,j,q){if(typeof j=="string"&&j!==""||typeof j=="number")return j=vf(""+j,z.mode,q),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ie:return q=lc(j.type,j.key,j.props,null,z.mode,q),q.ref=Ya(z,null,j),q.return=z,q;case ae:return j=_f(j,z.mode,q),j.return=z,j;case Pe:var se=j._init;return re(z,se(j._payload),q)}if(Pr(j)||fe(j))return j=Cs(j,z.mode,q,null),j.return=z,j;Mu(z,j)}return null}function ee(z,j,q,se){var ye=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ye!==null?null:N(z,j,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case ie:return q.key===ye?L(z,j,q,se):null;case ae:return q.key===ye?H(z,j,q,se):null;case Pe:return ye=q._init,ee(z,j,ye(q._payload),se)}if(Pr(q)||fe(q))return ye!==null?null:te(z,j,q,se,null);Mu(z,q)}return null}function ue(z,j,q,se,ye){if(typeof se=="string"&&se!==""||typeof se=="number")return z=z.get(q)||null,N(j,z,""+se,ye);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case ie:return z=z.get(se.key===null?q:se.key)||null,L(j,z,se,ye);case ae:return z=z.get(se.key===null?q:se.key)||null,H(j,z,se,ye);case Pe:var we=se._init;return ue(z,j,q,we(se._payload),ye)}if(Pr(se)||fe(se))return z=z.get(q)||null,te(j,z,se,ye,null);Mu(j,se)}return null}function pe(z,j,q,se){for(var ye=null,we=null,Ee=j,Re=j=0,xt=null;Ee!==null&&Re<q.length;Re++){Ee.index>Re?(xt=Ee,Ee=null):xt=Ee.sibling;var $e=ee(z,Ee,q[Re],se);if($e===null){Ee===null&&(Ee=xt);break}r&&Ee&&$e.alternate===null&&s(z,Ee),j=y($e,j,Re),we===null?ye=$e:we.sibling=$e,we=$e,Ee=xt}if(Re===q.length)return l(z,Ee),nt&&_s(z,Re),ye;if(Ee===null){for(;Re<q.length;Re++)Ee=re(z,q[Re],se),Ee!==null&&(j=y(Ee,j,Re),we===null?ye=Ee:we.sibling=Ee,we=Ee);return nt&&_s(z,Re),ye}for(Ee=h(z,Ee);Re<q.length;Re++)xt=ue(Ee,z,Re,q[Re],se),xt!==null&&(r&&xt.alternate!==null&&Ee.delete(xt.key===null?Re:xt.key),j=y(xt,j,Re),we===null?ye=xt:we.sibling=xt,we=xt);return r&&Ee.forEach(function(ki){return s(z,ki)}),nt&&_s(z,Re),ye}function me(z,j,q,se){var ye=fe(q);if(typeof ye!="function")throw Error(t(150));if(q=ye.call(q),q==null)throw Error(t(151));for(var we=ye=null,Ee=j,Re=j=0,xt=null,$e=q.next();Ee!==null&&!$e.done;Re++,$e=q.next()){Ee.index>Re?(xt=Ee,Ee=null):xt=Ee.sibling;var ki=ee(z,Ee,$e.value,se);if(ki===null){Ee===null&&(Ee=xt);break}r&&Ee&&ki.alternate===null&&s(z,Ee),j=y(ki,j,Re),we===null?ye=ki:we.sibling=ki,we=ki,Ee=xt}if($e.done)return l(z,Ee),nt&&_s(z,Re),ye;if(Ee===null){for(;!$e.done;Re++,$e=q.next())$e=re(z,$e.value,se),$e!==null&&(j=y($e,j,Re),we===null?ye=$e:we.sibling=$e,we=$e);return nt&&_s(z,Re),ye}for(Ee=h(z,Ee);!$e.done;Re++,$e=q.next())$e=ue(Ee,z,Re,$e.value,se),$e!==null&&(r&&$e.alternate!==null&&Ee.delete($e.key===null?Re:$e.key),j=y($e,j,Re),we===null?ye=$e:we.sibling=$e,we=$e);return r&&Ee.forEach(function(GT){return s(z,GT)}),nt&&_s(z,Re),ye}function ut(z,j,q,se){if(typeof q=="object"&&q!==null&&q.type===D&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case ie:e:{for(var ye=q.key,we=j;we!==null;){if(we.key===ye){if(ye=q.type,ye===D){if(we.tag===7){l(z,we.sibling),j=p(we,q.props.children),j.return=z,z=j;break e}}else if(we.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Pe&&Ag(ye)===we.type){l(z,we.sibling),j=p(we,q.props),j.ref=Ya(z,we,q),j.return=z,z=j;break e}l(z,we);break}else s(z,we);we=we.sibling}q.type===D?(j=Cs(q.props.children,z.mode,se,q.key),j.return=z,z=j):(se=lc(q.type,q.key,q.props,null,z.mode,se),se.ref=Ya(z,j,q),se.return=z,z=se)}return E(z);case ae:e:{for(we=q.key;j!==null;){if(j.key===we)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){l(z,j.sibling),j=p(j,q.children||[]),j.return=z,z=j;break e}else{l(z,j);break}else s(z,j);j=j.sibling}j=_f(q,z.mode,se),j.return=z,z=j}return E(z);case Pe:return we=q._init,ut(z,j,we(q._payload),se)}if(Pr(q))return pe(z,j,q,se);if(fe(q))return me(z,j,q,se);Mu(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,j!==null&&j.tag===6?(l(z,j.sibling),j=p(j,q),j.return=z,z=j):(l(z,j),j=vf(q,z.mode,se),j.return=z,z=j),E(z)):l(z,j)}return ut}var bo=Cg(!0),xg=Cg(!1),Fu=_i(null),Uu=null,Do=null,Cd=null;function xd(){Cd=Do=Uu=null}function Pd(r){var s=Fu.current;Ze(Fu),r._currentValue=s}function kd(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function Oo(r,s){Uu=r,Cd=Do=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(rn=!0),r.firstContext=null)}function Pn(r){var s=r._currentValue;if(Cd!==r)if(r={context:r,memoizedValue:s,next:null},Do===null){if(Uu===null)throw Error(t(308));Do=r,Uu.dependencies={lanes:0,firstContext:r}}else Do=Do.next=r;return s}var ws=null;function Nd(r){ws===null?ws=[r]:ws.push(r)}function Pg(r,s,l,h){var p=s.interleaved;return p===null?(l.next=l,Nd(s)):(l.next=p.next,p.next=l),s.interleaved=l,zr(r,h)}function zr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Ti=!1;function bd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function $r(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Ii(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,Be&2){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,zr(r,l)}return p=h.interleaved,p===null?(s.next=s,Nd(h)):(s.next=p.next,p.next=s),h.interleaved=s,zr(r,l)}function Bu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,di(r,l)}}function Ng(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function zu(r,s,l,h){var p=r.updateQueue;Ti=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var L=N,H=L.next;L.next=null,E===null?y=H:E.next=H,E=L;var te=r.alternate;te!==null&&(te=te.updateQueue,N=te.lastBaseUpdate,N!==E&&(N===null?te.firstBaseUpdate=H:N.next=H,te.lastBaseUpdate=L))}if(y!==null){var re=p.baseState;E=0,te=H=L=null,N=y;do{var ee=N.lane,ue=N.eventTime;if((h&ee)===ee){te!==null&&(te=te.next={eventTime:ue,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var pe=r,me=N;switch(ee=s,ue=l,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){re=pe.call(ue,re,ee);break e}re=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,ee=typeof pe=="function"?pe.call(ue,re,ee):pe,ee==null)break e;re=le({},re,ee);break e;case 2:Ti=!0}}N.callback!==null&&N.lane!==0&&(r.flags|=64,ee=p.effects,ee===null?p.effects=[N]:ee.push(N))}else ue={eventTime:ue,lane:ee,tag:N.tag,payload:N.payload,callback:N.callback,next:null},te===null?(H=te=ue,L=re):te=te.next=ue,E|=ee;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;ee=N,N=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);if(te===null&&(L=re),p.baseState=L,p.firstBaseUpdate=H,p.lastBaseUpdate=te,s=p.shared.interleaved,s!==null){p=s;do E|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);Is|=E,r.lanes=E,r.memoizedState=re}}function bg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var Xa={},gr=_i(Xa),Za=_i(Xa),el=_i(Xa);function Es(r){if(r===Xa)throw Error(t(174));return r}function Dd(r,s){switch(Ye(el,s),Ye(Za,r),Ye(gr,Xa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:vt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=vt(s,r)}Ze(gr),Ye(gr,s)}function Lo(){Ze(gr),Ze(Za),Ze(el)}function Dg(r){Es(el.current);var s=Es(gr.current),l=vt(s,r.type);s!==l&&(Ye(Za,r),Ye(gr,l))}function Od(r){Za.current===r&&(Ze(gr),Ze(Za))}var it=_i(0);function $u(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ld=[];function Vd(){for(var r=0;r<Ld.length;r++)Ld[r]._workInProgressVersionPrimary=null;Ld.length=0}var qu=J.ReactCurrentDispatcher,jd=J.ReactCurrentBatchConfig,Ts=0,st=null,wt=null,At=null,Hu=!1,tl=!1,nl=0,gT=0;function Ft(){throw Error(t(321))}function Md(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Gn(r[l],s[l]))return!1;return!0}function Fd(r,s,l,h,p,y){if(Ts=y,st=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,qu.current=r===null||r.memoizedState===null?wT:ET,r=l(h,p),tl){y=0;do{if(tl=!1,nl=0,25<=y)throw Error(t(301));y+=1,At=wt=null,s.updateQueue=null,qu.current=TT,r=l(h,p)}while(tl)}if(qu.current=Gu,s=wt!==null&&wt.next!==null,Ts=0,At=wt=st=null,Hu=!1,s)throw Error(t(300));return r}function Ud(){var r=nl!==0;return nl=0,r}function yr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?st.memoizedState=At=r:At=At.next=r,At}function kn(){if(wt===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var s=At===null?st.memoizedState:At.next;if(s!==null)At=s,wt=r;else{if(r===null)throw Error(t(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},At===null?st.memoizedState=At=r:At=At.next=r}return At}function rl(r,s){return typeof s=="function"?s(r):s}function Bd(r){var s=kn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=wt,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var N=E=null,L=null,H=y;do{var te=H.lane;if((Ts&te)===te)L!==null&&(L=L.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),h=H.hasEagerState?H.eagerState:r(h,H.action);else{var re={lane:te,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};L===null?(N=L=re,E=h):L=L.next=re,st.lanes|=te,Is|=te}H=H.next}while(H!==null&&H!==y);L===null?E=h:L.next=N,Gn(h,s.memoizedState)||(rn=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=L,l.lastRenderedState=h}if(r=l.interleaved,r!==null){p=r;do y=p.lane,st.lanes|=y,Is|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function zd(r){var s=kn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=r(y,E.action),E=E.next;while(E!==p);Gn(y,s.memoizedState)||(rn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function Og(){}function Lg(r,s){var l=st,h=kn(),p=s(),y=!Gn(h.memoizedState,p);if(y&&(h.memoizedState=p,rn=!0),h=h.queue,$d(Mg.bind(null,l,h,r),[r]),h.getSnapshot!==s||y||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,il(9,jg.bind(null,l,h,p,s),void 0,null),Ct===null)throw Error(t(349));Ts&30||Vg(l,s,p)}return p}function Vg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function jg(r,s,l,h){s.value=l,s.getSnapshot=h,Fg(s)&&Ug(r)}function Mg(r,s,l){return l(function(){Fg(s)&&Ug(r)})}function Fg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Gn(r,l)}catch{return!0}}function Ug(r){var s=zr(r,1);s!==null&&Zn(s,r,1,-1)}function Bg(r){var s=yr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:r},s.queue=r,r=r.dispatch=_T.bind(null,st,r),[s.memoizedState,r]}function il(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function zg(){return kn().memoizedState}function Wu(r,s,l,h){var p=yr();st.flags|=r,p.memoizedState=il(1|s,l,void 0,h===void 0?null:h)}function Ku(r,s,l,h){var p=kn();h=h===void 0?null:h;var y=void 0;if(wt!==null){var E=wt.memoizedState;if(y=E.destroy,h!==null&&Md(h,E.deps)){p.memoizedState=il(s,l,y,h);return}}st.flags|=r,p.memoizedState=il(1|s,l,y,h)}function $g(r,s){return Wu(8390656,8,r,s)}function $d(r,s){return Ku(2048,8,r,s)}function qg(r,s){return Ku(4,2,r,s)}function Hg(r,s){return Ku(4,4,r,s)}function Wg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Kg(r,s,l){return l=l!=null?l.concat([r]):null,Ku(4,4,Wg.bind(null,s,r),l)}function qd(){}function Gg(r,s){var l=kn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Md(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function Qg(r,s){var l=kn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Md(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function Jg(r,s,l){return Ts&21?(Gn(l,s)||(l=hs(),st.lanes|=l,Is|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,rn=!0),r.memoizedState=l)}function yT(r,s){var l=Ve;Ve=l!==0&&4>l?l:4,r(!0);var h=jd.transition;jd.transition={};try{r(!1),s()}finally{Ve=l,jd.transition=h}}function Yg(){return kn().memoizedState}function vT(r,s,l){var h=Ci(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Xg(r))Zg(s,l);else if(l=Pg(r,s,l,h),l!==null){var p=Xt();Zn(l,r,h,p),ey(l,s,h)}}function _T(r,s,l){var h=Ci(r),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xg(r))Zg(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,N=y(E,l);if(p.hasEagerState=!0,p.eagerState=N,Gn(N,E)){var L=s.interleaved;L===null?(p.next=p,Nd(s)):(p.next=L.next,L.next=p),s.interleaved=p;return}}catch{}finally{}l=Pg(r,s,p,h),l!==null&&(p=Xt(),Zn(l,r,h,p),ey(l,s,h))}}function Xg(r){var s=r.alternate;return r===st||s!==null&&s===st}function Zg(r,s){tl=Hu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function ey(r,s,l){if(l&4194240){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,di(r,l)}}var Gu={readContext:Pn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},wT={readContext:Pn,useCallback:function(r,s){return yr().memoizedState=[r,s===void 0?null:s],r},useContext:Pn,useEffect:$g,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Wu(4194308,4,Wg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Wu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Wu(4,2,r,s)},useMemo:function(r,s){var l=yr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=yr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=vT.bind(null,st,r),[h.memoizedState,r]},useRef:function(r){var s=yr();return r={current:r},s.memoizedState=r},useState:Bg,useDebugValue:qd,useDeferredValue:function(r){return yr().memoizedState=r},useTransition:function(){var r=Bg(!1),s=r[0];return r=yT.bind(null,r[1]),yr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=st,p=yr();if(nt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Ct===null)throw Error(t(349));Ts&30||Vg(h,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,$g(Mg.bind(null,h,y,r),[r]),h.flags|=2048,il(9,jg.bind(null,h,y,l,s),void 0,null),l},useId:function(){var r=yr(),s=Ct.identifierPrefix;if(nt){var l=Br,h=Ur;l=(h&~(1<<32-Qt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=nl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=gT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},ET={readContext:Pn,useCallback:Gg,useContext:Pn,useEffect:$d,useImperativeHandle:Kg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Qg,useReducer:Bd,useRef:zg,useState:function(){return Bd(rl)},useDebugValue:qd,useDeferredValue:function(r){var s=kn();return Jg(s,wt.memoizedState,r)},useTransition:function(){var r=Bd(rl)[0],s=kn().memoizedState;return[r,s]},useMutableSource:Og,useSyncExternalStore:Lg,useId:Yg,unstable_isNewReconciler:!1},TT={readContext:Pn,useCallback:Gg,useContext:Pn,useEffect:$d,useImperativeHandle:Kg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Qg,useReducer:zd,useRef:zg,useState:function(){return zd(rl)},useDebugValue:qd,useDeferredValue:function(r){var s=kn();return wt===null?s.memoizedState=r:Jg(s,wt.memoizedState,r)},useTransition:function(){var r=zd(rl)[0],s=kn().memoizedState;return[r,s]},useMutableSource:Og,useSyncExternalStore:Lg,useId:Yg,unstable_isNewReconciler:!1};function Jn(r,s){if(r&&r.defaultProps){s=le({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Hd(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:le({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Qu={isMounted:function(r){return(r=r._reactInternals)?Bn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=Xt(),p=Ci(r),y=$r(h,p);y.payload=s,l!=null&&(y.callback=l),s=Ii(r,y,p),s!==null&&(Zn(s,r,p,h),Bu(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=Xt(),p=Ci(r),y=$r(h,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=Ii(r,y,p),s!==null&&(Zn(s,r,p,h),Bu(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Xt(),h=Ci(r),p=$r(l,h);p.tag=2,s!=null&&(p.callback=s),s=Ii(r,p,h),s!==null&&(Zn(s,r,h,l),Bu(s,r,h))}};function ty(r,s,l,h,p,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,E):s.prototype&&s.prototype.isPureReactComponent?!qa(l,h)||!qa(p,y):!0}function ny(r,s,l){var h=!1,p=wi,y=s.contextType;return typeof y=="object"&&y!==null?y=Pn(y):(p=nn(s)?ys:Mt.current,h=s.contextTypes,y=(h=h!=null)?xo(r,p):wi),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Qu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function ry(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&Qu.enqueueReplaceState(s,s.state,null)}function Wd(r,s,l,h){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},bd(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Pn(y):(y=nn(s)?ys:Mt.current,p.context=xo(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Hd(r,s,y,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Qu.enqueueReplaceState(p,p.state,null),zu(r,l,p,h),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Vo(r,s){try{var l="",h=s;do l+=Ne(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function Kd(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Gd(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var IT=typeof WeakMap=="function"?WeakMap:Map;function iy(r,s,l){l=$r(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){nc||(nc=!0,cf=h),Gd(r,s)},l}function sy(r,s,l){l=$r(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;l.payload=function(){return h(p)},l.callback=function(){Gd(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Gd(r,s),typeof h!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function oy(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new IT;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(l)||(p.add(l),r=jT.bind(null,r,s,l),s.then(r,r))}function ay(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function ly(r,s,l,h,p){return r.mode&1?(r.flags|=65536,r.lanes=p,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=$r(-1,1),s.tag=2,Ii(l,s,1))),l.lanes|=1),r)}var ST=J.ReactCurrentOwner,rn=!1;function Yt(r,s,l,h){s.child=r===null?xg(s,null,l,h):bo(s,r.child,l,h)}function uy(r,s,l,h,p){l=l.render;var y=s.ref;return Oo(s,p),h=Fd(r,s,l,h,y,p),l=Ud(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,qr(r,s,p)):(nt&&l&&Td(s),s.flags|=1,Yt(r,s,h,p),s.child)}function cy(r,s,l,h,p){if(r===null){var y=l.type;return typeof y=="function"&&!yf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,hy(r,s,y,h,p)):(r=lc(l.type,null,h,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!(r.lanes&p)){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:qa,l(E,h)&&r.ref===s.ref)return qr(r,s,p)}return s.flags|=1,r=Pi(y,h),r.ref=s.ref,r.return=s,s.child=r}function hy(r,s,l,h,p){if(r!==null){var y=r.memoizedProps;if(qa(y,h)&&r.ref===s.ref)if(rn=!1,s.pendingProps=h=y,(r.lanes&p)!==0)r.flags&131072&&(rn=!0);else return s.lanes=r.lanes,qr(r,s,p)}return Qd(r,s,l,h,p)}function dy(r,s,l){var h=s.pendingProps,p=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Mo,_n),_n|=l;else{if(!(l&1073741824))return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ye(Mo,_n),_n|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Ye(Mo,_n),_n|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,Ye(Mo,_n),_n|=h;return Yt(r,s,p,l),s.child}function fy(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Qd(r,s,l,h,p){var y=nn(l)?ys:Mt.current;return y=xo(s,y),Oo(s,p),l=Fd(r,s,l,h,y,p),h=Ud(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,qr(r,s,p)):(nt&&h&&Td(s),s.flags|=1,Yt(r,s,l,p),s.child)}function py(r,s,l,h,p){if(nn(l)){var y=!0;Du(s)}else y=!1;if(Oo(s,p),s.stateNode===null)Yu(r,s),ny(s,l,h),Wd(s,l,h,p),h=!0;else if(r===null){var E=s.stateNode,N=s.memoizedProps;E.props=N;var L=E.context,H=l.contextType;typeof H=="object"&&H!==null?H=Pn(H):(H=nn(l)?ys:Mt.current,H=xo(s,H));var te=l.getDerivedStateFromProps,re=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function";re||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(N!==h||L!==H)&&ry(s,E,h,H),Ti=!1;var ee=s.memoizedState;E.state=ee,zu(s,h,E,p),L=s.memoizedState,N!==h||ee!==L||tn.current||Ti?(typeof te=="function"&&(Hd(s,l,te,h),L=s.memoizedState),(N=Ti||ty(s,l,N,h,ee,L,H))?(re||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=L),E.props=h,E.state=L,E.context=H,h=N):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,kg(r,s),N=s.memoizedProps,H=s.type===s.elementType?N:Jn(s.type,N),E.props=H,re=s.pendingProps,ee=E.context,L=l.contextType,typeof L=="object"&&L!==null?L=Pn(L):(L=nn(l)?ys:Mt.current,L=xo(s,L));var ue=l.getDerivedStateFromProps;(te=typeof ue=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(N!==re||ee!==L)&&ry(s,E,h,L),Ti=!1,ee=s.memoizedState,E.state=ee,zu(s,h,E,p);var pe=s.memoizedState;N!==re||ee!==pe||tn.current||Ti?(typeof ue=="function"&&(Hd(s,l,ue,h),pe=s.memoizedState),(H=Ti||ty(s,l,H,h,ee,pe,L)||!1)?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,pe,L),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,pe,L)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||N===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=pe),E.props=h,E.state=pe,E.context=L,h=H):(typeof E.componentDidUpdate!="function"||N===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),h=!1)}return Jd(r,s,l,h,y,p)}function Jd(r,s,l,h,p,y){fy(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return p&&_g(s,l,!1),qr(r,s,y);h=s.stateNode,ST.current=s;var N=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=bo(s,r.child,null,y),s.child=bo(s,null,N,y)):Yt(r,s,N,y),s.memoizedState=h.state,p&&_g(s,l,!0),s.child}function my(r){var s=r.stateNode;s.pendingContext?yg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&yg(r,s.context,!1),Dd(r,s.containerInfo)}function gy(r,s,l,h,p){return No(),Ad(p),s.flags|=256,Yt(r,s,l,h),s.child}var Yd={dehydrated:null,treeContext:null,retryLane:0};function Xd(r){return{baseLanes:r,cachePool:null,transitions:null}}function yy(r,s,l){var h=s.pendingProps,p=it.current,y=!1,E=(s.flags&128)!==0,N;if((N=E)||(N=r!==null&&r.memoizedState===null?!1:(p&2)!==0),N?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Ye(it,p&1),r===null)return Rd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=h.children,r=h.fallback,y?(h=s.mode,y=s.child,E={mode:"hidden",children:E},!(h&1)&&y!==null?(y.childLanes=0,y.pendingProps=E):y=uc(E,h,0,null),r=Cs(r,h,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Xd(l),s.memoizedState=Yd,r):Zd(s,E));if(p=r.memoizedState,p!==null&&(N=p.dehydrated,N!==null))return RT(r,s,E,h,N,p,l);if(y){y=h.fallback,E=s.mode,p=r.child,N=p.sibling;var L={mode:"hidden",children:h.children};return!(E&1)&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=L,s.deletions=null):(h=Pi(p,L),h.subtreeFlags=p.subtreeFlags&14680064),N!==null?y=Pi(N,y):(y=Cs(y,E,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,E=r.child.memoizedState,E=E===null?Xd(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=r.childLanes&~l,s.memoizedState=Yd,h}return y=r.child,r=y.sibling,h=Pi(y,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function Zd(r,s){return s=uc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ju(r,s,l,h){return h!==null&&Ad(h),bo(s,r.child,null,l),r=Zd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function RT(r,s,l,h,p,y,E){if(l)return s.flags&256?(s.flags&=-257,h=Kd(Error(t(422))),Ju(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,p=s.mode,h=uc({mode:"visible",children:h.children},p,0,null),y=Cs(y,p,E,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,s.mode&1&&bo(s,r.child,null,E),s.child.memoizedState=Xd(E),s.memoizedState=Yd,y);if(!(s.mode&1))return Ju(r,s,E,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var N=h.dgst;return h=N,y=Error(t(419)),h=Kd(y,h,void 0),Ju(r,s,E,h)}if(N=(E&r.childLanes)!==0,rn||N){if(h=Ct,h!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(h.suspendedLanes|E)?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,zr(r,p),Zn(h,r,p,-1))}return gf(),h=Kd(Error(t(421))),Ju(r,s,E,h)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=MT.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,vn=vi(p.nextSibling),yn=s,nt=!0,Qn=null,r!==null&&(Cn[xn++]=Ur,Cn[xn++]=Br,Cn[xn++]=vs,Ur=r.id,Br=r.overflow,vs=s),s=Zd(s,h.children),s.flags|=4096,s)}function vy(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),kd(r.return,s,l)}function ef(r,s,l,h,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function _y(r,s,l){var h=s.pendingProps,p=h.revealOrder,y=h.tail;if(Yt(r,s,h.children,l),h=it.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&vy(r,l,s);else if(r.tag===19)vy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ye(it,h),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&$u(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),ef(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&$u(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}ef(s,!0,l,null,y);break;case"together":ef(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Yu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function qr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Is|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Pi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Pi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function AT(r,s,l){switch(s.tag){case 3:my(s),No();break;case 5:Dg(s);break;case 1:nn(s.type)&&Du(s);break;case 4:Dd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;Ye(Fu,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ye(it,it.current&1),s.flags|=128,null):l&s.child.childLanes?yy(r,s,l):(Ye(it,it.current&1),r=qr(r,s,l),r!==null?r.sibling:null);Ye(it,it.current&1);break;case 19:if(h=(l&s.childLanes)!==0,r.flags&128){if(h)return _y(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ye(it,it.current),h)break;return null;case 22:case 23:return s.lanes=0,dy(r,s,l)}return qr(r,s,l)}var wy,tf,Ey,Ty;wy=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},tf=function(){},Ey=function(r,s,l,h){var p=r.memoizedProps;if(p!==h){r=s.stateNode,Es(gr.current);var y=null;switch(l){case"input":p=es(r,p),h=es(r,h),y=[];break;case"select":p=le({},p,{value:void 0}),h=le({},h,{value:void 0}),y=[];break;case"textarea":p=_a(r,p),h=_a(r,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=ku)}Ra(l,h);var E;l=null;for(H in p)if(!h.hasOwnProperty(H)&&p.hasOwnProperty(H)&&p[H]!=null)if(H==="style"){var N=p[H];for(E in N)N.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?y||(y=[]):(y=y||[]).push(H,null));for(H in h){var L=h[H];if(N=p!=null?p[H]:void 0,h.hasOwnProperty(H)&&L!==N&&(L!=null||N!=null))if(H==="style")if(N){for(E in N)!N.hasOwnProperty(E)||L&&L.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in L)L.hasOwnProperty(E)&&N[E]!==L[E]&&(l||(l={}),l[E]=L[E])}else l||(y||(y=[]),y.push(H,l)),l=L;else H==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,N=N?N.__html:void 0,L!=null&&N!==L&&(y=y||[]).push(H,L)):H==="children"?typeof L!="string"&&typeof L!="number"||(y=y||[]).push(H,""+L):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(L!=null&&H==="onScroll"&&Xe("scroll",r),y||N===L||(y=[])):(y=y||[]).push(H,L))}l&&(y=y||[]).push("style",l);var H=y;(s.updateQueue=H)&&(s.flags|=4)}},Ty=function(r,s,l,h){l!==h&&(s.flags|=4)};function sl(r,s){if(!nt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ut(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function CT(r,s,l){var h=s.pendingProps;switch(Id(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return nn(s.type)&&bu(),Ut(s),null;case 3:return h=s.stateNode,Lo(),Ze(tn),Ze(Mt),Vd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(ju(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Qn!==null&&(ff(Qn),Qn=null))),tf(r,s),Ut(s),null;case 5:Od(s);var p=Es(el.current);if(l=s.type,r!==null&&s.stateNode!=null)Ey(r,s,l,h,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Ut(s),null}if(r=Es(gr.current),ju(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[mr]=s,h[Qa]=y,r=(s.mode&1)!==0,l){case"dialog":Xe("cancel",h),Xe("close",h);break;case"iframe":case"object":case"embed":Xe("load",h);break;case"video":case"audio":for(p=0;p<Wa.length;p++)Xe(Wa[p],h);break;case"source":Xe("error",h);break;case"img":case"image":case"link":Xe("error",h),Xe("load",h);break;case"details":Xe("toggle",h);break;case"input":Qs(h,y),Xe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Xe("invalid",h);break;case"textarea":Ys(h,y),Xe("invalid",h)}Ra(l,y),p=null;for(var E in y)if(y.hasOwnProperty(E)){var N=y[E];E==="children"?typeof N=="string"?h.textContent!==N&&(y.suppressHydrationWarning!==!0&&Pu(h.textContent,N,r),p=["children",N]):typeof N=="number"&&h.textContent!==""+N&&(y.suppressHydrationWarning!==!0&&Pu(h.textContent,N,r),p=["children",""+N]):o.hasOwnProperty(E)&&N!=null&&E==="onScroll"&&Xe("scroll",h)}switch(l){case"input":xr(h),tu(h,y,!0);break;case"textarea":xr(h),wa(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=ku)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=yt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(l,{is:h.is}):(r=E.createElement(l),l==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,l),r[mr]=s,r[Qa]=h,wy(r,s,!1,!1),s.stateNode=r;e:{switch(E=Aa(l,h),l){case"dialog":Xe("cancel",r),Xe("close",r),p=h;break;case"iframe":case"object":case"embed":Xe("load",r),p=h;break;case"video":case"audio":for(p=0;p<Wa.length;p++)Xe(Wa[p],r);p=h;break;case"source":Xe("error",r),p=h;break;case"img":case"image":case"link":Xe("error",r),Xe("load",r),p=h;break;case"details":Xe("toggle",r),p=h;break;case"input":Qs(r,h),p=es(r,h),Xe("invalid",r);break;case"option":p=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},p=le({},h,{value:void 0}),Xe("invalid",r);break;case"textarea":Ys(r,h),p=_a(r,h),Xe("invalid",r);break;default:p=h}Ra(l,p),N=p;for(y in N)if(N.hasOwnProperty(y)){var L=N[y];y==="style"?Ia(r,L):y==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Ea(r,L)):y==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&ai(r,L):typeof L=="number"&&ai(r,""+L):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?L!=null&&y==="onScroll"&&Xe("scroll",r):L!=null&&K(r,y,L,E))}switch(l){case"input":xr(r),tu(r,h,!1);break;case"textarea":xr(r),wa(r);break;case"option":h.value!=null&&r.setAttribute("value",""+He(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?kr(r,!!h.multiple,y,!1):h.defaultValue!=null&&kr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=ku)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ut(s),null;case 6:if(r&&s.stateNode!=null)Ty(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=Es(el.current),Es(gr.current),ju(s)){if(h=s.stateNode,l=s.memoizedProps,h[mr]=s,(y=h.nodeValue!==l)&&(r=yn,r!==null))switch(r.tag){case 3:Pu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Pu(h.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[mr]=s,s.stateNode=h}return Ut(s),null;case 13:if(Ze(it),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(nt&&vn!==null&&s.mode&1&&!(s.flags&128))Rg(),No(),s.flags|=98560,y=!1;else if(y=ju(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[mr]=s}else No(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Ut(s),y=!1}else Qn!==null&&(ff(Qn),Qn=null),y=!0;if(!y)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||it.current&1?Et===0&&(Et=3):gf())),s.updateQueue!==null&&(s.flags|=4),Ut(s),null);case 4:return Lo(),tf(r,s),r===null&&Ka(s.stateNode.containerInfo),Ut(s),null;case 10:return Pd(s.type._context),Ut(s),null;case 17:return nn(s.type)&&bu(),Ut(s),null;case 19:if(Ze(it),y=s.memoizedState,y===null)return Ut(s),null;if(h=(s.flags&128)!==0,E=y.rendering,E===null)if(h)sl(y,!1);else{if(Et!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(E=$u(r),E!==null){for(s.flags|=128,sl(y,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,r=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,r=E.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ye(it,it.current&1|2),s.child}r=r.sibling}y.tail!==null&&Je()>Fo&&(s.flags|=128,h=!0,sl(y,!1),s.lanes=4194304)}else{if(!h)if(r=$u(E),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),sl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!nt)return Ut(s),null}else 2*Je()-y.renderingStartTime>Fo&&l!==1073741824&&(s.flags|=128,h=!0,sl(y,!1),s.lanes=4194304);y.isBackwards?(E.sibling=s.child,s.child=E):(l=y.last,l!==null?l.sibling=E:s.child=E,y.last=E)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Je(),s.sibling=null,l=it.current,Ye(it,h?l&1|2:l&1),s):(Ut(s),null);case 22:case 23:return mf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?_n&1073741824&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function xT(r,s){switch(Id(s),s.tag){case 1:return nn(s.type)&&bu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Lo(),Ze(tn),Ze(Mt),Vd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Od(s),null;case 13:if(Ze(it),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));No()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ze(it),null;case 4:return Lo(),null;case 10:return Pd(s.type._context),null;case 22:case 23:return mf(),null;case 24:return null;default:return null}}var Xu=!1,Bt=!1,PT=typeof WeakSet=="function"?WeakSet:Set,de=null;function jo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){at(r,s,h)}else l.current=null}function nf(r,s,l){try{l()}catch(h){at(r,s,h)}}var Iy=!1;function kT(r,s){if(pd=mi,r=tg(),od(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,N=-1,L=-1,H=0,te=0,re=r,ee=null;t:for(;;){for(var ue;re!==l||p!==0&&re.nodeType!==3||(N=E+p),re!==y||h!==0&&re.nodeType!==3||(L=E+h),re.nodeType===3&&(E+=re.nodeValue.length),(ue=re.firstChild)!==null;)ee=re,re=ue;for(;;){if(re===r)break t;if(ee===l&&++H===p&&(N=E),ee===y&&++te===h&&(L=E),(ue=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=ue}l=N===-1||L===-1?null:{start:N,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(md={focusedElem:r,selectionRange:l},mi=!1,de=s;de!==null;)if(s=de,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,de=r;else for(;de!==null;){s=de;try{var pe=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,ut=pe.memoizedState,z=s.stateNode,j=z.getSnapshotBeforeUpdate(s.elementType===s.type?me:Jn(s.type,me),ut);z.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){at(s,s.return,se)}if(r=s.sibling,r!==null){r.return=s.return,de=r;break}de=s.return}return pe=Iy,Iy=!1,pe}function ol(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&nf(s,l,y)}p=p.next}while(p!==h)}}function Zu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function rf(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Sy(r){var s=r.alternate;s!==null&&(r.alternate=null,Sy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[mr],delete s[Qa],delete s[_d],delete s[dT],delete s[fT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Ry(r){return r.tag===5||r.tag===3||r.tag===4}function Ay(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ry(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function sf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ku));else if(h!==4&&(r=r.child,r!==null))for(sf(r,s,l),r=r.sibling;r!==null;)sf(r,s,l),r=r.sibling}function of(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(of(r,s,l),r=r.sibling;r!==null;)of(r,s,l),r=r.sibling}var Dt=null,Yn=!1;function Si(r,s,l){for(l=l.child;l!==null;)Cy(r,s,l),l=l.sibling}function Cy(r,s,l){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(us,l)}catch{}switch(l.tag){case 5:Bt||jo(l,s);case 6:var h=Dt,p=Yn;Dt=null,Si(r,s,l),Dt=h,Yn=p,Dt!==null&&(Yn?(r=Dt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Dt.removeChild(l.stateNode));break;case 18:Dt!==null&&(Yn?(r=Dt,l=l.stateNode,r.nodeType===8?vd(r.parentNode,l):r.nodeType===1&&vd(r,l),Wn(r)):vd(Dt,l.stateNode));break;case 4:h=Dt,p=Yn,Dt=l.stateNode.containerInfo,Yn=!0,Si(r,s,l),Dt=h,Yn=p;break;case 0:case 11:case 14:case 15:if(!Bt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,E=y.destroy;y=y.tag,E!==void 0&&(y&2||y&4)&&nf(l,s,E),p=p.next}while(p!==h)}Si(r,s,l);break;case 1:if(!Bt&&(jo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(N){at(l,s,N)}Si(r,s,l);break;case 21:Si(r,s,l);break;case 22:l.mode&1?(Bt=(h=Bt)||l.memoizedState!==null,Si(r,s,l),Bt=h):Si(r,s,l);break;default:Si(r,s,l)}}function xy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new PT),s.forEach(function(h){var p=FT.bind(null,r,h);l.has(h)||(l.add(h),h.then(p,p))})}}function Xn(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=r,E=s,N=E;e:for(;N!==null;){switch(N.tag){case 5:Dt=N.stateNode,Yn=!1;break e;case 3:Dt=N.stateNode.containerInfo,Yn=!0;break e;case 4:Dt=N.stateNode.containerInfo,Yn=!0;break e}N=N.return}if(Dt===null)throw Error(t(160));Cy(y,E,p),Dt=null,Yn=!1;var L=p.alternate;L!==null&&(L.return=null),p.return=null}catch(H){at(p,s,H)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Py(s,r),s=s.sibling}function Py(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Xn(s,r),vr(r),h&4){try{ol(3,r,r.return),Zu(3,r)}catch(me){at(r,r.return,me)}try{ol(5,r,r.return)}catch(me){at(r,r.return,me)}}break;case 1:Xn(s,r),vr(r),h&512&&l!==null&&jo(l,l.return);break;case 5:if(Xn(s,r),vr(r),h&512&&l!==null&&jo(l,l.return),r.flags&32){var p=r.stateNode;try{ai(p,"")}catch(me){at(r,r.return,me)}}if(h&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,E=l!==null?l.memoizedProps:y,N=r.type,L=r.updateQueue;if(r.updateQueue=null,L!==null)try{N==="input"&&y.type==="radio"&&y.name!=null&&ya(p,y),Aa(N,E);var H=Aa(N,y);for(E=0;E<L.length;E+=2){var te=L[E],re=L[E+1];te==="style"?Ia(p,re):te==="dangerouslySetInnerHTML"?Ea(p,re):te==="children"?ai(p,re):K(p,te,re,H)}switch(N){case"input":va(p,y);break;case"textarea":Xs(p,y);break;case"select":var ee=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ue=y.value;ue!=null?kr(p,!!y.multiple,ue,!1):ee!==!!y.multiple&&(y.defaultValue!=null?kr(p,!!y.multiple,y.defaultValue,!0):kr(p,!!y.multiple,y.multiple?[]:"",!1))}p[Qa]=y}catch(me){at(r,r.return,me)}}break;case 6:if(Xn(s,r),vr(r),h&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(me){at(r,r.return,me)}}break;case 3:if(Xn(s,r),vr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Wn(s.containerInfo)}catch(me){at(r,r.return,me)}break;case 4:Xn(s,r),vr(r);break;case 13:Xn(s,r),vr(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(uf=Je())),h&4&&xy(r);break;case 22:if(te=l!==null&&l.memoizedState!==null,r.mode&1?(Bt=(H=Bt)||te,Xn(s,r),Bt=H):Xn(s,r),vr(r),h&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!te&&r.mode&1)for(de=r,te=r.child;te!==null;){for(re=de=te;de!==null;){switch(ee=de,ue=ee.child,ee.tag){case 0:case 11:case 14:case 15:ol(4,ee,ee.return);break;case 1:jo(ee,ee.return);var pe=ee.stateNode;if(typeof pe.componentWillUnmount=="function"){h=ee,l=ee.return;try{s=h,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(me){at(h,l,me)}}break;case 5:jo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){by(re);continue}}ue!==null?(ue.return=ee,de=ue):by(re)}te=te.sibling}e:for(te=null,re=r;;){if(re.tag===5){if(te===null){te=re;try{p=re.stateNode,H?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(N=re.stateNode,L=re.memoizedProps.style,E=L!=null&&L.hasOwnProperty("display")?L.display:null,N.style.display=Ta("display",E))}catch(me){at(r,r.return,me)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=H?"":re.memoizedProps}catch(me){at(r,r.return,me)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===r)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===r)break e;for(;re.sibling===null;){if(re.return===null||re.return===r)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Xn(s,r),vr(r),h&4&&xy(r);break;case 21:break;default:Xn(s,r),vr(r)}}function vr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Ry(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(ai(p,""),h.flags&=-33);var y=Ay(r);of(r,y,p);break;case 3:case 4:var E=h.stateNode.containerInfo,N=Ay(r);sf(r,N,E);break;default:throw Error(t(161))}}catch(L){at(r,r.return,L)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function NT(r,s,l){de=r,ky(r)}function ky(r,s,l){for(var h=(r.mode&1)!==0;de!==null;){var p=de,y=p.child;if(p.tag===22&&h){var E=p.memoizedState!==null||Xu;if(!E){var N=p.alternate,L=N!==null&&N.memoizedState!==null||Bt;N=Xu;var H=Bt;if(Xu=E,(Bt=L)&&!H)for(de=p;de!==null;)E=de,L=E.child,E.tag===22&&E.memoizedState!==null?Dy(p):L!==null?(L.return=E,de=L):Dy(p);for(;y!==null;)de=y,ky(y),y=y.sibling;de=p,Xu=N,Bt=H}Ny(r)}else p.subtreeFlags&8772&&y!==null?(y.return=p,de=y):Ny(r)}}function Ny(r){for(;de!==null;){var s=de;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Bt||Zu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Bt)if(l===null)h.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:Jn(s.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&bg(s,y,h);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}bg(s,E,l)}break;case 5:var N=s.stateNode;if(l===null&&s.flags&4){l=N;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var H=s.alternate;if(H!==null){var te=H.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&Wn(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bt||s.flags&512&&rf(s)}catch(ee){at(s,s.return,ee)}}if(s===r){de=null;break}if(l=s.sibling,l!==null){l.return=s.return,de=l;break}de=s.return}}function by(r){for(;de!==null;){var s=de;if(s===r){de=null;break}var l=s.sibling;if(l!==null){l.return=s.return,de=l;break}de=s.return}}function Dy(r){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Zu(4,s)}catch(L){at(s,l,L)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(L){at(s,p,L)}}var y=s.return;try{rf(s)}catch(L){at(s,y,L)}break;case 5:var E=s.return;try{rf(s)}catch(L){at(s,E,L)}}}catch(L){at(s,s.return,L)}if(s===r){de=null;break}var N=s.sibling;if(N!==null){N.return=s.return,de=N;break}de=s.return}}var bT=Math.ceil,ec=J.ReactCurrentDispatcher,af=J.ReactCurrentOwner,Nn=J.ReactCurrentBatchConfig,Be=0,Ct=null,ft=null,Ot=0,_n=0,Mo=_i(0),Et=0,al=null,Is=0,tc=0,lf=0,ll=null,sn=null,uf=0,Fo=1/0,Hr=null,nc=!1,cf=null,Ri=null,rc=!1,Ai=null,ic=0,ul=0,hf=null,sc=-1,oc=0;function Xt(){return Be&6?Je():sc!==-1?sc:sc=Je()}function Ci(r){return r.mode&1?Be&2&&Ot!==0?Ot&-Ot:mT.transition!==null?(oc===0&&(oc=hs()),oc):(r=Ve,r!==0||(r=window.event,r=r===void 0?16:ja(r.type)),r):1}function Zn(r,s,l,h){if(50<ul)throw ul=0,hf=null,Error(t(185));hi(r,l,h),(!(Be&2)||r!==Ct)&&(r===Ct&&(!(Be&2)&&(tc|=l),Et===4&&xi(r,Ot)),on(r,h),l===1&&Be===0&&!(s.mode&1)&&(Fo=Je()+500,Ou&&Ei()))}function on(r,s){var l=r.callbackNode;Dr(r,s);var h=cs(r,r===Ct?Ot:0);if(h===0)l!==null&&ba(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&ba(l),s===1)r.tag===0?pT(Ly.bind(null,r)):wg(Ly.bind(null,r)),cT(function(){!(Be&6)&&Ei()}),l=null;else{switch(fi(h)){case 1:l=ls;break;case 4:l=li;break;case 16:l=Sn;break;case 536870912:l=ou;break;default:l=Sn}l=$y(l,Oy.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Oy(r,s){if(sc=-1,oc=0,Be&6)throw Error(t(327));var l=r.callbackNode;if(Uo()&&r.callbackNode!==l)return null;var h=cs(r,r===Ct?Ot:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=ac(r,h);else{s=h;var p=Be;Be|=2;var y=jy();(Ct!==r||Ot!==s)&&(Hr=null,Fo=Je()+500,Rs(r,s));do try{LT();break}catch(N){Vy(r,N)}while(!0);xd(),ec.current=y,Be=p,ft!==null?s=0:(Ct=null,Ot=0,s=Et)}if(s!==0){if(s===2&&(p=pn(r),p!==0&&(h=p,s=df(r,p))),s===1)throw l=al,Rs(r,0),xi(r,h),on(r,Je()),l;if(s===6)xi(r,h);else{if(p=r.current.alternate,!(h&30)&&!DT(p)&&(s=ac(r,h),s===2&&(y=pn(r),y!==0&&(h=y,s=df(r,y))),s===1))throw l=al,Rs(r,0),xi(r,h),on(r,Je()),l;switch(r.finishedWork=p,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:As(r,sn,Hr);break;case 3:if(xi(r,h),(h&130023424)===h&&(s=uf+500-Je(),10<s)){if(cs(r,0)!==0)break;if(p=r.suspendedLanes,(p&h)!==h){Xt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=yd(As.bind(null,r,sn,Hr),s);break}As(r,sn,Hr);break;case 4:if(xi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,p=-1;0<h;){var E=31-Qt(h);y=1<<E,E=s[E],E>p&&(p=E),h&=~y}if(h=p,h=Je()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*bT(h/1960))-h,10<h){r.timeoutHandle=yd(As.bind(null,r,sn,Hr),h);break}As(r,sn,Hr);break;case 5:As(r,sn,Hr);break;default:throw Error(t(329))}}}return on(r,Je()),r.callbackNode===l?Oy.bind(null,r):null}function df(r,s){var l=ll;return r.current.memoizedState.isDehydrated&&(Rs(r,s).flags|=256),r=ac(r,s),r!==2&&(s=sn,sn=l,s!==null&&ff(s)),r}function ff(r){sn===null?sn=r:sn.push.apply(sn,r)}function DT(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!Gn(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function xi(r,s){for(s&=~lf,s&=~tc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Qt(s),h=1<<l;r[l]=-1,s&=~h}}function Ly(r){if(Be&6)throw Error(t(327));Uo();var s=cs(r,0);if(!(s&1))return on(r,Je()),null;var l=ac(r,s);if(r.tag!==0&&l===2){var h=pn(r);h!==0&&(s=h,l=df(r,h))}if(l===1)throw l=al,Rs(r,0),xi(r,s),on(r,Je()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,As(r,sn,Hr),on(r,Je()),null}function pf(r,s){var l=Be;Be|=1;try{return r(s)}finally{Be=l,Be===0&&(Fo=Je()+500,Ou&&Ei())}}function Ss(r){Ai!==null&&Ai.tag===0&&!(Be&6)&&Uo();var s=Be;Be|=1;var l=Nn.transition,h=Ve;try{if(Nn.transition=null,Ve=1,r)return r()}finally{Ve=h,Nn.transition=l,Be=s,!(Be&6)&&Ei()}}function mf(){_n=Mo.current,Ze(Mo)}function Rs(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,uT(l)),ft!==null)for(l=ft.return;l!==null;){var h=l;switch(Id(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&bu();break;case 3:Lo(),Ze(tn),Ze(Mt),Vd();break;case 5:Od(h);break;case 4:Lo();break;case 13:Ze(it);break;case 19:Ze(it);break;case 10:Pd(h.type._context);break;case 22:case 23:mf()}l=l.return}if(Ct=r,ft=r=Pi(r.current,null),Ot=_n=s,Et=0,al=null,lf=tc=Is=0,sn=ll=null,ws!==null){for(s=0;s<ws.length;s++)if(l=ws[s],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var E=y.next;y.next=p,h.next=E}l.pending=h}ws=null}return r}function Vy(r,s){do{var l=ft;try{if(xd(),qu.current=Gu,Hu){for(var h=st.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Hu=!1}if(Ts=0,At=wt=st=null,tl=!1,nl=0,af.current=null,l===null||l.return===null){Et=1,al=s,ft=null;break}e:{var y=r,E=l.return,N=l,L=s;if(s=Ot,N.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var H=L,te=N,re=te.tag;if(!(te.mode&1)&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ue=ay(E);if(ue!==null){ue.flags&=-257,ly(ue,E,N,y,s),ue.mode&1&&oy(y,H,s),s=ue,L=H;var pe=s.updateQueue;if(pe===null){var me=new Set;me.add(L),s.updateQueue=me}else pe.add(L);break e}else{if(!(s&1)){oy(y,H,s),gf();break e}L=Error(t(426))}}else if(nt&&N.mode&1){var ut=ay(E);if(ut!==null){!(ut.flags&65536)&&(ut.flags|=256),ly(ut,E,N,y,s),Ad(Vo(L,N));break e}}y=L=Vo(L,N),Et!==4&&(Et=2),ll===null?ll=[y]:ll.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var z=iy(y,L,s);Ng(y,z);break e;case 1:N=L;var j=y.type,q=y.stateNode;if(!(y.flags&128)&&(typeof j.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Ri===null||!Ri.has(q)))){y.flags|=65536,s&=-s,y.lanes|=s;var se=sy(y,N,s);Ng(y,se);break e}}y=y.return}while(y!==null)}Fy(l)}catch(ye){s=ye,ft===l&&l!==null&&(ft=l=l.return);continue}break}while(!0)}function jy(){var r=ec.current;return ec.current=Gu,r===null?Gu:r}function gf(){(Et===0||Et===3||Et===2)&&(Et=4),Ct===null||!(Is&268435455)&&!(tc&268435455)||xi(Ct,Ot)}function ac(r,s){var l=Be;Be|=2;var h=jy();(Ct!==r||Ot!==s)&&(Hr=null,Rs(r,s));do try{OT();break}catch(p){Vy(r,p)}while(!0);if(xd(),Be=l,ec.current=h,ft!==null)throw Error(t(261));return Ct=null,Ot=0,Et}function OT(){for(;ft!==null;)My(ft)}function LT(){for(;ft!==null&&!iu();)My(ft)}function My(r){var s=zy(r.alternate,r,_n);r.memoizedProps=r.pendingProps,s===null?Fy(r):ft=s,af.current=null}function Fy(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=xT(l,s),l!==null){l.flags&=32767,ft=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Et=6,ft=null;return}}else if(l=CT(l,s,_n),l!==null){ft=l;return}if(s=s.sibling,s!==null){ft=s;return}ft=s=r}while(s!==null);Et===0&&(Et=5)}function As(r,s,l){var h=Ve,p=Nn.transition;try{Nn.transition=null,Ve=1,VT(r,s,l,h)}finally{Nn.transition=p,Ve=h}return null}function VT(r,s,l,h){do Uo();while(Ai!==null);if(Be&6)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(Ge(r,y),r===Ct&&(ft=Ct=null,Ot=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||rc||(rc=!0,$y(Sn,function(){return Uo(),null})),y=(l.flags&15990)!==0,l.subtreeFlags&15990||y){y=Nn.transition,Nn.transition=null;var E=Ve;Ve=1;var N=Be;Be|=4,af.current=null,kT(r,l),Py(l,r),nT(md),mi=!!pd,md=pd=null,r.current=l,NT(l),Xh(),Be=N,Ve=E,Nn.transition=y}else r.current=l;if(rc&&(rc=!1,Ai=r,ic=p),y=r.pendingLanes,y===0&&(Ri=null),au(l.stateNode),on(r,Je()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(nc)throw nc=!1,r=cf,cf=null,r;return ic&1&&r.tag!==0&&Uo(),y=r.pendingLanes,y&1?r===hf?ul++:(ul=0,hf=r):ul=0,Ei(),null}function Uo(){if(Ai!==null){var r=fi(ic),s=Nn.transition,l=Ve;try{if(Nn.transition=null,Ve=16>r?16:r,Ai===null)var h=!1;else{if(r=Ai,Ai=null,ic=0,Be&6)throw Error(t(331));var p=Be;for(Be|=4,de=r.current;de!==null;){var y=de,E=y.child;if(de.flags&16){var N=y.deletions;if(N!==null){for(var L=0;L<N.length;L++){var H=N[L];for(de=H;de!==null;){var te=de;switch(te.tag){case 0:case 11:case 15:ol(8,te,y)}var re=te.child;if(re!==null)re.return=te,de=re;else for(;de!==null;){te=de;var ee=te.sibling,ue=te.return;if(Sy(te),te===H){de=null;break}if(ee!==null){ee.return=ue,de=ee;break}de=ue}}}var pe=y.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var ut=me.sibling;me.sibling=null,me=ut}while(me!==null)}}de=y}}if(y.subtreeFlags&2064&&E!==null)E.return=y,de=E;else e:for(;de!==null;){if(y=de,y.flags&2048)switch(y.tag){case 0:case 11:case 15:ol(9,y,y.return)}var z=y.sibling;if(z!==null){z.return=y.return,de=z;break e}de=y.return}}var j=r.current;for(de=j;de!==null;){E=de;var q=E.child;if(E.subtreeFlags&2064&&q!==null)q.return=E,de=q;else e:for(E=j;de!==null;){if(N=de,N.flags&2048)try{switch(N.tag){case 0:case 11:case 15:Zu(9,N)}}catch(ye){at(N,N.return,ye)}if(N===E){de=null;break e}var se=N.sibling;if(se!==null){se.return=N.return,de=se;break e}de=N.return}}if(Be=p,Ei(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(us,r)}catch{}h=!0}return h}finally{Ve=l,Nn.transition=s}}return!1}function Uy(r,s,l){s=Vo(l,s),s=iy(r,s,1),r=Ii(r,s,1),s=Xt(),r!==null&&(hi(r,1,s),on(r,s))}function at(r,s,l){if(r.tag===3)Uy(r,r,l);else for(;s!==null;){if(s.tag===3){Uy(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ri===null||!Ri.has(h))){r=Vo(l,r),r=sy(s,r,1),s=Ii(s,r,1),r=Xt(),s!==null&&(hi(s,1,r),on(s,r));break}}s=s.return}}function jT(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=Xt(),r.pingedLanes|=r.suspendedLanes&l,Ct===r&&(Ot&l)===l&&(Et===4||Et===3&&(Ot&130023424)===Ot&&500>Je()-uf?Rs(r,0):lf|=l),on(r,s)}function By(r,s){s===0&&(r.mode&1?(s=lo,lo<<=1,!(lo&130023424)&&(lo=4194304)):s=1);var l=Xt();r=zr(r,s),r!==null&&(hi(r,s,l),on(r,l))}function MT(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),By(r,l)}function FT(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),By(r,l)}var zy;zy=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||tn.current)rn=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return rn=!1,AT(r,s,l);rn=!!(r.flags&131072)}else rn=!1,nt&&s.flags&1048576&&Eg(s,Vu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Yu(r,s),r=s.pendingProps;var p=xo(s,Mt.current);Oo(s,l),p=Fd(null,s,h,r,p,l);var y=Ud();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,nn(h)?(y=!0,Du(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,bd(s),p.updater=Qu,s.stateNode=p,p._reactInternals=s,Wd(s,h,r,l),s=Jd(null,s,h,!0,y,l)):(s.tag=0,nt&&y&&Td(s),Yt(null,s,p,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Yu(r,s),r=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=BT(h),r=Jn(h,r),p){case 0:s=Qd(null,s,h,r,l);break e;case 1:s=py(null,s,h,r,l);break e;case 11:s=uy(null,s,h,r,l);break e;case 14:s=cy(null,s,h,Jn(h.type,r),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Jn(h,p),Qd(r,s,h,p,l);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Jn(h,p),py(r,s,h,p,l);case 3:e:{if(my(s),r===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,p=y.element,kg(r,s),zu(s,h,null,l);var E=s.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=Vo(Error(t(423)),s),s=gy(r,s,h,l,p);break e}else if(h!==p){p=Vo(Error(t(424)),s),s=gy(r,s,h,l,p);break e}else for(vn=vi(s.stateNode.containerInfo.firstChild),yn=s,nt=!0,Qn=null,l=xg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(No(),h===p){s=qr(r,s,l);break e}Yt(r,s,h,l)}s=s.child}return s;case 5:return Dg(s),r===null&&Rd(s),h=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,E=p.children,gd(h,p)?E=null:y!==null&&gd(h,y)&&(s.flags|=32),fy(r,s),Yt(r,s,E,l),s.child;case 6:return r===null&&Rd(s),null;case 13:return yy(r,s,l);case 4:return Dd(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=bo(s,null,h,l):Yt(r,s,h,l),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Jn(h,p),uy(r,s,h,p,l);case 7:return Yt(r,s,s.pendingProps,l),s.child;case 8:return Yt(r,s,s.pendingProps.children,l),s.child;case 12:return Yt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,y=s.memoizedProps,E=p.value,Ye(Fu,h._currentValue),h._currentValue=E,y!==null)if(Gn(y.value,E)){if(y.children===p.children&&!tn.current){s=qr(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var N=y.dependencies;if(N!==null){E=y.child;for(var L=N.firstContext;L!==null;){if(L.context===h){if(y.tag===1){L=$r(-1,l&-l),L.tag=2;var H=y.updateQueue;if(H!==null){H=H.shared;var te=H.pending;te===null?L.next=L:(L.next=te.next,te.next=L),H.pending=L}}y.lanes|=l,L=y.alternate,L!==null&&(L.lanes|=l),kd(y.return,l,s),N.lanes|=l;break}L=L.next}}else if(y.tag===10)E=y.type===s.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=l,N=E.alternate,N!==null&&(N.lanes|=l),kd(E,l,s),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Yt(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,Oo(s,l),p=Pn(p),h=h(p),s.flags|=1,Yt(r,s,h,l),s.child;case 14:return h=s.type,p=Jn(h,s.pendingProps),p=Jn(h.type,p),cy(r,s,h,p,l);case 15:return hy(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Jn(h,p),Yu(r,s),s.tag=1,nn(h)?(r=!0,Du(s)):r=!1,Oo(s,l),ny(s,h,p),Wd(s,h,p,l),Jd(null,s,h,!0,r,l);case 19:return _y(r,s,l);case 22:return dy(r,s,l)}throw Error(t(156,s.tag))};function $y(r,s){return oo(r,s)}function UT(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(r,s,l,h){return new UT(r,s,l,h)}function yf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function BT(r){if(typeof r=="function")return yf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===De)return 14}return 2}function Pi(r,s){var l=r.alternate;return l===null?(l=bn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function lc(r,s,l,h,p,y){var E=2;if(h=r,typeof r=="function")yf(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case D:return Cs(l.children,p,y,s);case A:E=8,p|=8;break;case k:return r=bn(12,l,s,p|2),r.elementType=k,r.lanes=y,r;case C:return r=bn(13,l,s,p),r.elementType=C,r.lanes=y,r;case ve:return r=bn(19,l,s,p),r.elementType=ve,r.lanes=y,r;case Te:return uc(l,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:E=10;break e;case M:E=9;break e;case F:E=11;break e;case De:E=14;break e;case Pe:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=bn(E,l,s,p),s.elementType=r,s.type=h,s.lanes=y,s}function Cs(r,s,l,h){return r=bn(7,r,h,s),r.lanes=l,r}function uc(r,s,l,h){return r=bn(22,r,h,s),r.elementType=Te,r.lanes=l,r.stateNode={isHidden:!1},r}function vf(r,s,l){return r=bn(6,r,null,s),r.lanes=l,r}function _f(r,s,l){return s=bn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function zT(r,s,l,h,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ci(0),this.expirationTimes=ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function wf(r,s,l,h,p,y,E,N,L){return r=new zT(r,s,l,N,L),s===1?(s=1,y===!0&&(s|=8)):s=0,y=bn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},bd(y),r}function $T(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function qy(r){if(!r)return wi;r=r._reactInternals;e:{if(Bn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(nn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(nn(l))return vg(r,l,s)}return s}function Hy(r,s,l,h,p,y,E,N,L){return r=wf(l,h,!0,r,p,y,E,N,L),r.context=qy(null),l=r.current,h=Xt(),p=Ci(l),y=$r(h,p),y.callback=s??null,Ii(l,y,p),r.current.lanes=p,hi(r,p,h),on(r,h),r}function cc(r,s,l,h){var p=s.current,y=Xt(),E=Ci(p);return l=qy(l),s.context===null?s.context=l:s.pendingContext=l,s=$r(y,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Ii(p,s,E),r!==null&&(Zn(r,p,E,y),Bu(r,p,E)),E}function hc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Wy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Ef(r,s){Wy(r,s),(r=r.alternate)&&Wy(r,s)}function qT(){return null}var Ky=typeof reportError=="function"?reportError:function(r){console.error(r)};function Tf(r){this._internalRoot=r}dc.prototype.render=Tf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));cc(r,s,null,null)},dc.prototype.unmount=Tf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ss(function(){cc(null,r,null,null)}),s[Mr]=null}};function dc(r){this._internalRoot=r}dc.prototype.unstable_scheduleHydration=function(r){if(r){var s=du();r={blockedOn:null,target:r,priority:s};for(var l=0;l<hr.length&&s!==0&&s<hr[l].priority;l++);hr.splice(l,0,r),l===0&&mu(r)}};function If(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function fc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Gy(){}function HT(r,s,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var H=hc(E);y.call(H)}}var E=Hy(s,h,r,0,null,!1,!1,"",Gy);return r._reactRootContainer=E,r[Mr]=E.current,Ka(r.nodeType===8?r.parentNode:r),Ss(),E}for(;p=r.lastChild;)r.removeChild(p);if(typeof h=="function"){var N=h;h=function(){var H=hc(L);N.call(H)}}var L=wf(r,0,!1,null,null,!1,!1,"",Gy);return r._reactRootContainer=L,r[Mr]=L.current,Ka(r.nodeType===8?r.parentNode:r),Ss(function(){cc(s,L,l,h)}),L}function pc(r,s,l,h,p){var y=l._reactRootContainer;if(y){var E=y;if(typeof p=="function"){var N=p;p=function(){var L=hc(E);N.call(L)}}cc(s,E,r,p)}else E=HT(l,s,r,p,h);return hc(E)}cu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=ui(s.pendingLanes);l!==0&&(di(s,l|1),on(s,Je()),!(Be&6)&&(Fo=Je()+500,Ei()))}break;case 13:Ss(function(){var h=zr(r,1);if(h!==null){var p=Xt();Zn(h,r,1,p)}}),Ef(r,1)}},uo=function(r){if(r.tag===13){var s=zr(r,134217728);if(s!==null){var l=Xt();Zn(s,r,134217728,l)}Ef(r,134217728)}},hu=function(r){if(r.tag===13){var s=Ci(r),l=zr(r,s);if(l!==null){var h=Xt();Zn(l,r,s,h)}Ef(r,s)}},du=function(){return Ve},fu=function(r,s){var l=Ve;try{return Ve=r,s()}finally{Ve=l}},eo=function(r,s,l){switch(s){case"input":if(va(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var p=Nu(h);if(!p)throw Error(t(90));Gs(h),va(h,p)}}}break;case"textarea":Xs(r,l);break;case"select":s=l.value,s!=null&&kr(r,!!l.multiple,s,!1)}},is=pf,xa=Ss;var WT={usingClientEntryPoint:!1,Events:[Ja,Ao,Nu,ur,Ca,pf]},cl={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KT={bundleType:cl.bundleType,version:cl.version,rendererPackageName:cl.rendererPackageName,rendererConfig:cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Na(r),r===null?null:r.stateNode},findFiberByHostInstance:cl.findFiberByHostInstance||qT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{us=mc.inject(KT),fn=mc}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WT,an.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!If(s))throw Error(t(200));return $T(r,s,null,l)},an.createRoot=function(r,s){if(!If(r))throw Error(t(299));var l=!1,h="",p=Ky;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=wf(r,1,!1,null,null,l,!1,h,p),r[Mr]=s.current,Ka(r.nodeType===8?r.parentNode:r),new Tf(s)},an.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Na(s),r=r===null?null:r.stateNode,r},an.flushSync=function(r){return Ss(r)},an.hydrate=function(r,s,l){if(!fc(s))throw Error(t(200));return pc(null,r,s,!0,l)},an.hydrateRoot=function(r,s,l){if(!If(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",E=Ky;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=Hy(s,null,r,1,l??null,p,!1,y,E),r[Mr]=s.current,Ka(r),h)for(r=0;r<h.length;r++)l=h[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new dc(s)},an.render=function(r,s,l){if(!fc(s))throw Error(t(200));return pc(null,r,s,!1,l)},an.unmountComponentAtNode=function(r){if(!fc(r))throw Error(t(40));return r._reactRootContainer?(Ss(function(){pc(null,null,r,!1,function(){r._reactRootContainer=null,r[Mr]=null})}),!0):!1},an.unstable_batchedUpdates=pf,an.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!fc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return pc(r,s,l,!1,h)},an.version="18.3.1-next-f1338f8080-20240426",an}var nv;function nI(){if(nv)return Af.exports;nv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Af.exports=tI(),Af.exports}var rv;function rI(){if(rv)return gc;rv=1;var n=nI();return gc.createRoot=n.createRoot,gc.hydrateRoot=n.hydrateRoot,gc}var iI=rI(),dl={},iv;function sI(){if(iv)return dl;iv=1,Object.defineProperty(dl,"__esModule",{value:!0}),dl.parse=u,dl.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function u(I,P){const R=new a,b=I.length;if(b<2)return R;const x=(P==null?void 0:P.decode)||_;let $=0;do{const Q=I.indexOf("=",$);if(Q===-1)break;const K=I.indexOf(";",$),J=K===-1?b:K;if(Q>J){$=I.lastIndexOf(";",Q-1)+1;continue}const ie=d(I,$,Q),ae=f(I,Q,ie),D=I.slice(ie,ae);if(R[D]===void 0){let A=d(I,Q+1,J),k=f(I,J,A);const O=x(I.slice(A,k));R[D]=O}$=J+1}while($<b);return R}function d(I,P,R){do{const b=I.charCodeAt(P);if(b!==32&&b!==9)return P}while(++P<R);return R}function f(I,P,R){for(;P>R;){const b=I.charCodeAt(--P);if(b!==32&&b!==9)return P+1}return R}function m(I,P,R){const b=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(I))throw new TypeError(`argument name is invalid: ${I}`);const x=b(P);if(!e.test(x))throw new TypeError(`argument val is invalid: ${P}`);let $=I+"="+x;if(!R)return $;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);$+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);$+="; Domain="+R.domain}if(R.path){if(!i.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);$+="; Path="+R.path}if(R.expires){if(!T(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);$+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&($+="; HttpOnly"),R.secure&&($+="; Secure"),R.partitioned&&($+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return $}function _(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function T(I){return o.call(I)==="[object Date]"}return dl}sI();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sv="popstate";function oI(n={}){function e(i,o){let{pathname:a,search:u,hash:d}=i.location;return Gf("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Cl(o)}return lI(e,t,null,n)}function rt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function er(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aI(){return Math.random().toString(36).substring(2,10)}function ov(n,e){return{usr:n.state,key:n.key,idx:e}}function Gf(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?sa(e):e,state:t,key:e&&e.key||i||aI()}}function Cl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function sa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function lI(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,d="POP",f=null,m=_();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function _(){return(u.state||{idx:null}).idx}function T(){d="POP";let x=_(),$=x==null?null:x-m;m=x,f&&f({action:d,location:b.location,delta:$})}function I(x,$){d="PUSH";let Q=Gf(b.location,x,$);m=_()+1;let K=ov(Q,m),J=b.createHref(Q);try{u.pushState(K,"",J)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(J)}a&&f&&f({action:d,location:b.location,delta:1})}function P(x,$){d="REPLACE";let Q=Gf(b.location,x,$);m=_();let K=ov(Q,m),J=b.createHref(Q);u.replaceState(K,"",J),a&&f&&f({action:d,location:b.location,delta:0})}function R(x){let $=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof x=="string"?x:Cl(x);return Q=Q.replace(/ $/,"%20"),rt($,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,$)}let b={get action(){return d},get location(){return n(o,u)},listen(x){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(sv,T),f=x,()=>{o.removeEventListener(sv,T),f=null}},createHref(x){return e(o,x)},createURL:R,encodeLocation(x){let $=R(x);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:I,replace:P,go(x){return u.go(x)}};return b}function h0(n,e,t="/"){return uI(n,e,t,!1)}function uI(n,e,t,i){let o=typeof e=="string"?sa(e):e,a=zi(o.pathname||"/",t);if(a==null)return null;let u=d0(n);cI(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=EI(a);d=_I(u[f],m,i)}return d}function d0(n,e=[],t=[],i=""){let o=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(rt(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let m=Qr([i,f.relativePath]),_=t.concat(f);a.children&&a.children.length>0&&(rt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),d0(a.children,e,_,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:yI(m,a.index),routesMeta:_})};return n.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,u);else for(let f of f0(a.path))o(a,u,f)}),e}function f0(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=f0(i.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function cI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:vI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var hI=/^:[\w-]+$/,dI=3,fI=2,pI=1,mI=10,gI=-2,av=n=>n==="*";function yI(n,e){let t=n.split("/"),i=t.length;return t.some(av)&&(i+=gI),e&&(i+=fI),t.filter(o=>!av(o)).reduce((o,a)=>o+(hI.test(a)?dI:a===""?pI:mI),i)}function vI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function _I(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",u=[];for(let d=0;d<i.length;++d){let f=i[d],m=d===i.length-1,_=a==="/"?e:e.slice(a.length)||"/",T=Uc({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},_),I=f.route;if(!T&&m&&t&&!i[i.length-1].route.index&&(T=Uc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),u.push({params:o,pathname:Qr([a,T.pathname]),pathnameBase:RI(Qr([a,T.pathnameBase])),route:I}),T.pathnameBase!=="/"&&(a=Qr([a,T.pathnameBase]))}return u}function Uc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=wI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((m,{paramName:_,isOptional:T},I)=>{if(_==="*"){let R=d[I]||"";u=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const P=d[I];return T&&!P?m[_]=void 0:m[_]=(P||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function wI(n,e=!1,t=!0){er(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function EI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return er(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function zi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function TI(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?sa(n):n;return{pathname:t?t.startsWith("/")?t:II(t,e):e,search:AI(i),hash:CI(o)}}function II(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Pf(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function kp(n){let e=SI(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Np(n,e,t,i=!1){let o;typeof n=="string"?o=sa(n):(o={...n},rt(!o.pathname||!o.pathname.includes("?"),Pf("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),Pf("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),Pf("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=t;else{let T=e.length-1;if(!i&&u.startsWith("..")){let I=u.split("/");for(;I[0]==="..";)I.shift(),T-=1;o.pathname=I.join("/")}d=T>=0?e[T]:"/"}let f=TI(o,d),m=u&&u!=="/"&&u.endsWith("/"),_=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||_)&&(f.pathname+="/"),f}var Qr=n=>n.join("/").replace(/\/\/+/g,"/"),RI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),AI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,CI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function xI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var p0=["POST","PUT","PATCH","DELETE"];new Set(p0);var PI=["GET",...p0];new Set(PI);var oa=V.createContext(null);oa.displayName="DataRouter";var dh=V.createContext(null);dh.displayName="DataRouterState";var m0=V.createContext({isTransitioning:!1});m0.displayName="ViewTransition";var kI=V.createContext(new Map);kI.displayName="Fetchers";var NI=V.createContext(null);NI.displayName="Await";var ir=V.createContext(null);ir.displayName="Navigation";var Bl=V.createContext(null);Bl.displayName="Location";var sr=V.createContext({outlet:null,matches:[],isDataRoute:!1});sr.displayName="Route";var bp=V.createContext(null);bp.displayName="RouteError";function bI(n,{relative:e}={}){rt(aa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=V.useContext(ir),{hash:o,pathname:a,search:u}=zl(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:Qr([t,a])),i.createHref({pathname:d,search:u,hash:o})}function aa(){return V.useContext(Bl)!=null}function si(){return rt(aa(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Bl).location}var g0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function y0(n){V.useContext(ir).static||V.useLayoutEffect(n)}function Cr(){let{isDataRoute:n}=V.useContext(sr);return n?WI():DI()}function DI(){rt(aa(),"useNavigate() may be used only in the context of a <Router> component.");let n=V.useContext(oa),{basename:e,navigator:t}=V.useContext(ir),{matches:i}=V.useContext(sr),{pathname:o}=si(),a=JSON.stringify(kp(i)),u=V.useRef(!1);return y0(()=>{u.current=!0}),V.useCallback((f,m={})=>{if(er(u.current,g0),!u.current)return;if(typeof f=="number"){t.go(f);return}let _=Np(f,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Qr([e,_.pathname])),(m.replace?t.replace:t.push)(_,m.state,m)},[e,t,a,o,n])}V.createContext(null);function OI(){let{matches:n}=V.useContext(sr),e=n[n.length-1];return e?e.params:{}}function zl(n,{relative:e}={}){let{matches:t}=V.useContext(sr),{pathname:i}=si(),o=JSON.stringify(kp(t));return V.useMemo(()=>Np(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function LI(n,e){return v0(n,e)}function v0(n,e,t,i){var Q;rt(aa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=V.useContext(ir),{matches:u}=V.useContext(sr),d=u[u.length-1],f=d?d.params:{},m=d?d.pathname:"/",_=d?d.pathnameBase:"/",T=d&&d.route;{let K=T&&T.path||"";_0(m,!T||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let I=si(),P;if(e){let K=typeof e=="string"?sa(e):e;rt(_==="/"||((Q=K.pathname)==null?void 0:Q.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${K.pathname}" was given in the \`location\` prop.`),P=K}else P=I;let R=P.pathname||"/",b=R;if(_!=="/"){let K=_.replace(/^\//,"").split("/");b="/"+R.replace(/^\//,"").split("/").slice(K.length).join("/")}let x=!a&&t&&t.matches&&t.matches.length>0?t.matches:h0(n,{pathname:b});er(T||x!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),er(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=UI(x&&x.map(K=>Object.assign({},K,{params:Object.assign({},f,K.params),pathname:Qr([_,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?_:Qr([_,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),u,t,i);return e&&$?V.createElement(Bl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},$):$}function VI(){let n=HI(),e=xI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:a},"ErrorBoundary")," or"," ",V.createElement("code",{style:a},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:o},t):null,u)}var jI=V.createElement(VI,null),MI=class extends V.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?V.createElement(sr.Provider,{value:this.props.routeContext},V.createElement(bp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FI({routeContext:n,match:e,children:t}){let i=V.useContext(oa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(sr.Provider,{value:n},t)}function UI(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let f=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);rt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(t)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:_,errors:T}=t,I=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!T||T[m.route.id]===void 0);if(m.route.lazy||I){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,m,_)=>{let T,I=!1,P=null,R=null;t&&(T=a&&m.route.id?a[m.route.id]:void 0,P=m.route.errorElement||jI,u&&(d<0&&_===0?(_0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,R=null):d===_&&(I=!0,R=m.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,_+1)),x=()=>{let $;return T?$=P:I?$=R:m.route.Component?$=V.createElement(m.route.Component,null):m.route.element?$=m.route.element:$=f,V.createElement(FI,{match:m,routeContext:{outlet:f,matches:b,isDataRoute:t!=null},children:$})};return t&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?V.createElement(MI,{location:t.location,revalidation:t.revalidation,component:P,error:T,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}function Dp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BI(n){let e=V.useContext(oa);return rt(e,Dp(n)),e}function zI(n){let e=V.useContext(dh);return rt(e,Dp(n)),e}function $I(n){let e=V.useContext(sr);return rt(e,Dp(n)),e}function Op(n){let e=$I(n),t=e.matches[e.matches.length-1];return rt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function qI(){return Op("useRouteId")}function HI(){var i;let n=V.useContext(bp),e=zI("useRouteError"),t=Op("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function WI(){let{router:n}=BI("useNavigate"),e=Op("useNavigate"),t=V.useRef(!1);return y0(()=>{t.current=!0}),V.useCallback(async(o,a={})=>{er(t.current,g0),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var lv={};function _0(n,e,t){!e&&!lv[n]&&(lv[n]=!0,er(!1,t))}V.memo(KI);function KI({routes:n,future:e,state:t}){return v0(n,void 0,t,e)}function GI({to:n,replace:e,state:t,relative:i}){rt(aa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=V.useContext(ir);er(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=V.useContext(sr),{pathname:u}=si(),d=Cr(),f=Np(n,kp(a),u,i==="path"),m=JSON.stringify(f);return V.useEffect(()=>{d(JSON.parse(m),{replace:e,state:t,relative:i})},[d,m,i,e,t]),null}function Dn(n){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){rt(!aa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=V.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=sa(t));let{pathname:f="/",search:m="",hash:_="",state:T=null,key:I="default"}=t,P=V.useMemo(()=>{let R=zi(f,u);return R==null?null:{location:{pathname:R,search:m,hash:_,state:T,key:I},navigationType:i}},[u,f,m,_,T,I,i]);return er(P!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:V.createElement(ir.Provider,{value:d},V.createElement(Bl.Provider,{children:e,value:P}))}function JI({children:n,location:e}){return LI(Qf(n),e)}function Qf(n,e=[]){let t=[];return V.Children.forEach(n,(i,o)=>{if(!V.isValidElement(i))return;let a=[...e,o];if(i.type===V.Fragment){t.push.apply(t,Qf(i.props.children,a));return}rt(i.type===Dn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Qf(i.props.children,a)),t.push(u)}),t}var Sc="get",Rc="application/x-www-form-urlencoded";function fh(n){return n!=null&&typeof n.tagName=="string"}function YI(n){return fh(n)&&n.tagName.toLowerCase()==="button"}function XI(n){return fh(n)&&n.tagName.toLowerCase()==="form"}function ZI(n){return fh(n)&&n.tagName.toLowerCase()==="input"}function eS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tS(n,e){return n.button===0&&(!e||e==="_self")&&!eS(n)}var yc=null;function nS(){if(yc===null)try{new FormData(document.createElement("form"),0),yc=!1}catch{yc=!0}return yc}var rS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kf(n){return n!=null&&!rS.has(n)?(er(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rc}"`),null):n}function iS(n,e){let t,i,o,a,u;if(XI(n)){let d=n.getAttribute("action");i=d?zi(d,e):null,t=n.getAttribute("method")||Sc,o=kf(n.getAttribute("enctype"))||Rc,a=new FormData(n)}else if(YI(n)||ZI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(i=f?zi(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Sc,o=kf(n.getAttribute("formenctype"))||kf(d.getAttribute("enctype"))||Rc,a=new FormData(d,n),!nS()){let{name:m,type:_,value:T}=n;if(_==="image"){let I=m?`${m}.`:"";a.append(`${I}x`,"0"),a.append(`${I}y`,"0")}else m&&a.append(m,T)}}else{if(fh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sc,i=null,o=Rc,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:u}}function Lp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function sS(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oS(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function aS(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await sS(a,t);return u.links?u.links():[]}return[]}));return hS(i.flat(1).filter(oS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function uv(n,e,t,i,o,a){let u=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,d=(f,m)=>{var _;return t[m].pathname!==f.pathname||((_=t[m].route.path)==null?void 0:_.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,m)=>u(f,m)||d(f,m)):a==="data"?e.filter((f,m)=>{var T;let _=i.routes[f.route.id];if(!_||!_.hasLoader)return!1;if(u(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let I=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function lS(n,e,{includeHydrateFallback:t}={}){return uS(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function uS(n){return[...new Set(n)]}function cS(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function hS(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(cS(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function dS(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function fS(){let n=V.useContext(oa);return Lp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function pS(){let n=V.useContext(dh);return Lp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Vp=V.createContext(void 0);Vp.displayName="FrameworkContext";function w0(){let n=V.useContext(Vp);return Lp(n,"You must render this element inside a <HydratedRouter> element"),n}function mS(n,e){let t=V.useContext(Vp),[i,o]=V.useState(!1),[a,u]=V.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:_,onTouchStart:T}=e,I=V.useRef(null);V.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let b=$=>{$.forEach(Q=>{u(Q.isIntersecting)})},x=new IntersectionObserver(b,{threshold:.5});return I.current&&x.observe(I.current),()=>{x.disconnect()}}},[n]),V.useEffect(()=>{if(i){let b=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(b)}}},[i]);let P=()=>{o(!0)},R=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,I,{}]:[a,I,{onFocus:fl(d,P),onBlur:fl(f,R),onMouseEnter:fl(m,P),onMouseLeave:fl(_,R),onTouchStart:fl(T,P)}]:[!1,I,{}]}function fl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function gS({page:n,...e}){let{router:t}=fS(),i=V.useMemo(()=>h0(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?V.createElement(vS,{page:n,matches:i,...e}):null}function yS(n){let{manifest:e,routeModules:t}=w0(),[i,o]=V.useState([]);return V.useEffect(()=>{let a=!1;return aS(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),i}function vS({page:n,matches:e,...t}){let i=si(),{manifest:o,routeModules:a}=w0(),{loaderData:u,matches:d}=pS(),f=V.useMemo(()=>uv(n,e,d,o,i,"data"),[n,e,d,o,i]),m=V.useMemo(()=>uv(n,e,d,o,i,"assets"),[n,e,d,o,i]),_=V.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let P=new Set,R=!1;if(e.forEach(x=>{var Q;let $=o.routes[x.route.id];!$||!$.hasLoader||(!f.some(K=>K.route.id===x.route.id)&&x.route.id in u&&((Q=a[x.route.id])!=null&&Q.shouldRevalidate)||$.hasClientLoader?R=!0:P.add(x.route.id))}),P.size===0)return[];let b=dS(n);return R&&P.size>0&&b.searchParams.set("_routes",e.filter(x=>P.has(x.route.id)).map(x=>x.route.id).join(",")),[b.pathname+b.search]},[u,i,o,f,e,n,a]),T=V.useMemo(()=>lS(m,o),[m,o]),I=yS(m);return V.createElement(V.Fragment,null,_.map(P=>V.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),T.map(P=>V.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),I.map(({key:P,link:R})=>V.createElement("link",{key:P,...R})))}function _S(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var E0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E0&&(window.__reactRouterVersion="7.2.0")}catch{}function wS({basename:n,children:e,window:t}){let i=V.useRef();i.current==null&&(i.current=oI({window:t,v5Compat:!0}));let o=i.current,[a,u]=V.useState({action:o.action,location:o.location}),d=V.useCallback(f=>{V.startTransition(()=>u(f))},[u]);return V.useLayoutEffect(()=>o.listen(d),[o,d]),V.createElement(QI,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var T0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ji=V.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:d,target:f,to:m,preventScrollReset:_,viewTransition:T,...I},P){let{basename:R}=V.useContext(ir),b=typeof m=="string"&&T0.test(m),x,$=!1;if(typeof m=="string"&&b&&(x=m,E0))try{let k=new URL(window.location.href),O=m.startsWith("//")?new URL(k.protocol+m):new URL(m),M=zi(O.pathname,R);O.origin===k.origin&&M!=null?m=M+O.search+O.hash:$=!0}catch{er(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=bI(m,{relative:o}),[K,J,ie]=mS(i,I),ae=SS(m,{replace:u,state:d,target:f,preventScrollReset:_,relative:o,viewTransition:T});function D(k){e&&e(k),k.defaultPrevented||ae(k)}let A=V.createElement("a",{...I,...ie,href:x||Q,onClick:$||a?e:D,ref:_S(P,J),target:f,"data-discover":!b&&t==="render"?"true":void 0});return K&&!b?V.createElement(V.Fragment,null,A,V.createElement(gS,{page:Q})):A});ji.displayName="Link";var ES=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:d,children:f,...m},_){let T=zl(u,{relative:m.relative}),I=si(),P=V.useContext(dh),{navigator:R,basename:b}=V.useContext(ir),x=P!=null&&PS(T)&&d===!0,$=R.encodeLocation?R.encodeLocation(T).pathname:T.pathname,Q=I.pathname,K=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),K=K?K.toLowerCase():null,$=$.toLowerCase()),K&&b&&(K=zi(K,b)||K);const J=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ie=Q===$||!o&&Q.startsWith($)&&Q.charAt(J)==="/",ae=K!=null&&(K===$||!o&&K.startsWith($)&&K.charAt($.length)==="/"),D={isActive:ie,isPending:ae,isTransitioning:x},A=ie?e:void 0,k;typeof i=="function"?k=i(D):k=[i,ie?"active":null,ae?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(D):a;return V.createElement(ji,{...m,"aria-current":A,className:k,ref:_,style:O,to:u,viewTransition:d},typeof f=="function"?f(D):f)});ES.displayName="NavLink";var TS=V.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:u=Sc,action:d,onSubmit:f,relative:m,preventScrollReset:_,viewTransition:T,...I},P)=>{let R=CS(),b=xS(d,{relative:m}),x=u.toLowerCase()==="get"?"get":"post",$=typeof d=="string"&&T0.test(d),Q=K=>{if(f&&f(K),K.defaultPrevented)return;K.preventDefault();let J=K.nativeEvent.submitter,ie=(J==null?void 0:J.getAttribute("formmethod"))||u;R(J||K.currentTarget,{fetcherKey:e,method:ie,navigate:t,replace:o,state:a,relative:m,preventScrollReset:_,viewTransition:T})};return V.createElement("form",{ref:P,method:x,action:b,onSubmit:i?f:Q,...I,"data-discover":!$&&n==="render"?"true":void 0})});TS.displayName="Form";function IS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I0(n){let e=V.useContext(oa);return rt(e,IS(n)),e}function SS(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:u}={}){let d=Cr(),f=si(),m=zl(n,{relative:a});return V.useCallback(_=>{if(tS(_,e)){_.preventDefault();let T=t!==void 0?t:Cl(f)===Cl(m);d(n,{replace:T,state:i,preventScrollReset:o,relative:a,viewTransition:u})}},[f,d,m,t,i,e,n,o,a,u])}var RS=0,AS=()=>`__${String(++RS)}__`;function CS(){let{router:n}=I0("useSubmit"),{basename:e}=V.useContext(ir),t=qI();return V.useCallback(async(i,o={})=>{let{action:a,method:u,encType:d,formData:f,body:m}=iS(i,e);if(o.navigate===!1){let _=o.fetcherKey||AS();await n.fetch(_,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function xS(n,{relative:e}={}){let{basename:t}=V.useContext(ir),i=V.useContext(sr);rt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...zl(n||".",{relative:e})},u=si();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(_=>_==="")){d.delete("index"),f.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Qr([t,a.pathname])),Cl(a)}function PS(n,e={}){let t=V.useContext(m0);rt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=I0("useViewTransitionState"),o=zl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=zi(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=zi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Uc(o.pathname,u)!=null||Uc(o.pathname,a)!=null}new TextEncoder;var cv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},kS=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},R0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,_=a>>2,T=(a&3)<<4|d>>4;let I=(d&15)<<2|m>>6,P=m&63;f||(P=64,u||(I=64)),i.push(t[_],t[T],t[I],t[P])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(S0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):kS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||m==null||T==null)throw new NS;const I=a<<2|d>>4;if(i.push(I),m!==64){const P=d<<4&240|m>>2;if(i.push(P),T!==64){const R=m<<6&192|T;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class NS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bS=function(n){const e=S0(n);return R0.encodeByteArray(e,!0)},Bc=function(n){return bS(n).replace(/\./g,"")},A0=function(n){try{return R0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=()=>DS().__FIREBASE_DEFAULTS__,LS=()=>{if(typeof process>"u"||typeof cv>"u")return;const n=cv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},VS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&A0(n[1]);return e&&JSON.parse(e)},ph=()=>{try{return OS()||LS()||VS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},C0=n=>{var e,t;return(t=(e=ph())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},jS=n=>{const e=C0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},x0=()=>{var n;return(n=ph())===null||n===void 0?void 0:n.config},P0=n=>{var e;return(e=ph())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bc(JSON.stringify(t)),Bc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function US(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function BS(){var n;const e=(n=ph())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function k0(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $S(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qS(){const n=Gt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function HS(){return!BS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N0(){try{return typeof indexedDB=="object"}catch{return!1}}function b0(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function WS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="FirebaseError";class or extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=KS,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$s.prototype.create)}}class $s{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?GS(a,i):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new or(o,d,i)}}function GS(n,e){return n.replace(QS,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const QS=/\{\$([^}]+)}/g;function JS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function xl(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],u=e[o];if(hv(a)&&hv(u)){if(!xl(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function hv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ml(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function gl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function YS(n,e){const t=new XS(n,e);return t.subscribe.bind(t)}class XS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");ZS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Nf),o.error===void 0&&(o.error=Nf),o.complete===void 0&&(o.complete=Nf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Nf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=1e3,tR=2,nR=4*60*60*1e3,rR=.5;function dv(n,e=eR,t=tR){const i=e*Math.pow(t,n),o=Math.round(rR*i*(Math.random()-.5)*2);return Math.min(nR,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(n){return n&&n._delegate?n._delegate:n}class tr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new MS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oR(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:sR(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sR(n){return n===xs?void 0:n}function oR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new iR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Oe||(Oe={}));const lR={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},uR=Oe.INFO,cR={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},hR=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=cR[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mh{constructor(e){this.name=e,this._logLevel=uR,this._logHandler=hR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const dR=(n,e)=>e.some(t=>n instanceof t);let fv,pv;function fR(){return fv||(fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pR(){return pv||(pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D0=new WeakMap,Jf=new WeakMap,O0=new WeakMap,bf=new WeakMap,jp=new WeakMap;function mR(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Mi(n.result)),o()},u=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&D0.set(t,n)}).catch(()=>{}),jp.set(e,n),e}function gR(n){if(Jf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Jf.set(n,e)}let Yf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Jf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||O0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Mi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function yR(n){Yf=n(Yf)}function vR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Df(this),e,...t);return O0.set(i,e.sort?e.sort():[e]),Mi(i)}:pR().includes(n)?function(...e){return n.apply(Df(this),e),Mi(D0.get(this))}:function(...e){return Mi(n.apply(Df(this),e))}}function _R(n){return typeof n=="function"?vR(n):(n instanceof IDBTransaction&&gR(n),dR(n,fR())?new Proxy(n,Yf):n)}function Mi(n){if(n instanceof IDBRequest)return mR(n);if(bf.has(n))return bf.get(n);const e=_R(n);return e!==n&&(bf.set(n,e),jp.set(e,n)),e}const Df=n=>jp.get(n);function L0(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=Mi(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Mi(u.result),f.oldVersion,f.newVersion,Mi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const wR=["get","getKey","getAll","getAllKeys","count"],ER=["put","add","delete","clear"],Of=new Map;function mv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Of.get(e))return Of.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=ER.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||wR.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&f.done]))[0]};return Of.set(e,a),a}yR(n=>({...n,get:(e,t,i)=>mv(e,t)||n.get(e,t,i),has:(e,t)=>!!mv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(IR(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function IR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xf="@firebase/app",gv="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new mh("@firebase/app"),SR="@firebase/app-compat",RR="@firebase/analytics-compat",AR="@firebase/analytics",CR="@firebase/app-check-compat",xR="@firebase/app-check",PR="@firebase/auth",kR="@firebase/auth-compat",NR="@firebase/database",bR="@firebase/data-connect",DR="@firebase/database-compat",OR="@firebase/functions",LR="@firebase/functions-compat",VR="@firebase/installations",jR="@firebase/installations-compat",MR="@firebase/messaging",FR="@firebase/messaging-compat",UR="@firebase/performance",BR="@firebase/performance-compat",zR="@firebase/remote-config",$R="@firebase/remote-config-compat",qR="@firebase/storage",HR="@firebase/storage-compat",WR="@firebase/firestore",KR="@firebase/vertexai",GR="@firebase/firestore-compat",QR="firebase",JR="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="[DEFAULT]",YR={[Xf]:"fire-core",[SR]:"fire-core-compat",[AR]:"fire-analytics",[RR]:"fire-analytics-compat",[xR]:"fire-app-check",[CR]:"fire-app-check-compat",[PR]:"fire-auth",[kR]:"fire-auth-compat",[NR]:"fire-rtdb",[bR]:"fire-data-connect",[DR]:"fire-rtdb-compat",[OR]:"fire-fn",[LR]:"fire-fn-compat",[VR]:"fire-iid",[jR]:"fire-iid-compat",[MR]:"fire-fcm",[FR]:"fire-fcm-compat",[UR]:"fire-perf",[BR]:"fire-perf-compat",[zR]:"fire-rc",[$R]:"fire-rc-compat",[qR]:"fire-gcs",[HR]:"fire-gcs-compat",[WR]:"fire-fst",[GR]:"fire-fst-compat",[KR]:"fire-vertex","fire-js":"fire-js",[QR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Map,XR=new Map,ep=new Map;function yv(n,e){try{n.container.addComponent(e)}catch(t){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Rr(n){const e=n.name;if(ep.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,n);for(const t of zc.values())yv(t,n);for(const t of XR.values())yv(t,n);return!0}function qs(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ln(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fi=new $s("app","Firebase",ZR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new tr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=JR;function V0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Zf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Fi.create("bad-app-name",{appName:String(o)});if(t||(t=x0()),!t)throw Fi.create("no-options");const a=zc.get(o);if(a){if(xl(t,a.options)&&xl(i,a.config))return a;throw Fi.create("duplicate-app",{appName:o})}const u=new aR(o);for(const f of ep.values())u.addComponent(f);const d=new eA(t,i,u);return zc.set(o,d),d}function Mp(n=Zf){const e=zc.get(n);if(!e&&n===Zf&&x0())return V0();if(!e)throw Fi.create("no-app",{appName:n});return e}function jn(n,e,t){var i;let o=(i=YR[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(d.join(" "));return}Rr(new tr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firebase-heartbeat-database",nA=1,Pl="firebase-heartbeat-store";let Lf=null;function j0(){return Lf||(Lf=L0(tA,nA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Pl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fi.create("idb-open",{originalErrorMessage:n.message})})),Lf}async function rA(n){try{const t=(await j0()).transaction(Pl),i=await t.objectStore(Pl).get(M0(n));return await t.done,i}catch(e){if(e instanceof or)Xr.warn(e.message);else{const t=Fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xr.warn(t.message)}}}async function vv(n,e){try{const i=(await j0()).transaction(Pl,"readwrite");await i.objectStore(Pl).put(e,M0(n)),await i.done}catch(t){if(t instanceof or)Xr.warn(t.message);else{const i=Fi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Xr.warn(i.message)}}}function M0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=1024,sA=30;class oA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=_v();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>sA){const u=uA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Xr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_v(),{heartbeatsToSend:i,unsentEntries:o}=aA(this._heartbeatsCache.heartbeats),a=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Xr.warn(t),""}}}function _v(){return new Date().toISOString().substring(0,10)}function aA(n,e=iA){const t=[];let i=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),wv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),wv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class lA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N0()?b0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await rA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return vv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return vv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function wv(n){return Bc(JSON.stringify({version:2,heartbeats:n})).length}function uA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(n){Rr(new tr("platform-logger",e=>new TR(e),"PRIVATE")),Rr(new tr("heartbeat",e=>new oA(e),"PRIVATE")),jn(Xf,gv,n),jn(Xf,gv,"esm2017"),jn("fire-js","")}cA("");var hA="firebase",dA="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn(hA,dA,"app");const F0="@firebase/installations",Fp="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=1e4,B0=`w:${Fp}`,z0="FIS_v2",fA="https://firebaseinstallations.googleapis.com/v1",pA=60*60*1e3,mA="installations",gA="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Vs=new $s(mA,gA,yA);function $0(n){return n instanceof or&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0({projectId:n}){return`${fA}/projects/${n}/installations`}function H0(n){return{token:n.token,requestStatus:2,expiresIn:_A(n.expiresIn),creationTime:Date.now()}}async function W0(n,e){const i=(await e.json()).error;return Vs.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function K0({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function vA(n,{refreshToken:e}){const t=K0(n);return t.append("Authorization",wA(e)),t}async function G0(n){const e=await n();return e.status>=500&&e.status<600?n():e}function _A(n){return Number(n.replace("s","000"))}function wA(n){return`${z0} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=q0(n),o=K0(n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={fid:t,authVersion:z0,appId:n.appId,sdkVersion:B0},d={method:"POST",headers:o,body:JSON.stringify(u)},f=await G0(()=>fetch(i,d));if(f.ok){const m=await f.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:H0(m.authToken)}}else throw await W0("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=/^[cdef][\w-]{21}$/,tp="";function SA(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=RA(n);return IA.test(t)?t:tp}catch{return tp}}function RA(n){return TA(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Map;function Y0(n,e){const t=gh(n);X0(t,e),AA(t,e)}function X0(n,e){const t=J0.get(n);if(t)for(const i of t)i(e)}function AA(n,e){const t=CA();t&&t.postMessage({key:n,fid:e}),xA()}let Ps=null;function CA(){return!Ps&&"BroadcastChannel"in self&&(Ps=new BroadcastChannel("[Firebase] FID Change"),Ps.onmessage=n=>{X0(n.data.key,n.data.fid)}),Ps}function xA(){J0.size===0&&Ps&&(Ps.close(),Ps=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="firebase-installations-database",kA=1,js="firebase-installations-store";let Vf=null;function Up(){return Vf||(Vf=L0(PA,kA,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(js)}}})),Vf}async function $c(n,e){const t=gh(n),o=(await Up()).transaction(js,"readwrite"),a=o.objectStore(js),u=await a.get(t);return await a.put(e,t),await o.done,(!u||u.fid!==e.fid)&&Y0(n,e.fid),e}async function Z0(n){const e=gh(n),i=(await Up()).transaction(js,"readwrite");await i.objectStore(js).delete(e),await i.done}async function yh(n,e){const t=gh(n),o=(await Up()).transaction(js,"readwrite"),a=o.objectStore(js),u=await a.get(t),d=e(u);return d===void 0?await a.delete(t):await a.put(d,t),await o.done,d&&(!u||u.fid!==d.fid)&&Y0(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bp(n){let e;const t=await yh(n.appConfig,i=>{const o=NA(i),a=bA(n,o);return e=a.registrationPromise,a.installationEntry});return t.fid===tp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function NA(n){const e=n||{fid:SA(),registrationStatus:0};return ew(e)}function bA(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Vs.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=DA(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:OA(n)}:{installationEntry:e}}async function DA(n,e){try{const t=await EA(n,e);return $c(n.appConfig,t)}catch(t){throw $0(t)&&t.customData.serverCode===409?await Z0(n.appConfig):await $c(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function OA(n){let e=await Ev(n.appConfig);for(;e.registrationStatus===1;)await Q0(100),e=await Ev(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await Bp(n);return i||t}return e}function Ev(n){return yh(n,e=>{if(!e)throw Vs.create("installation-not-found");return ew(e)})}function ew(n){return LA(n)?{fid:n.fid,registrationStatus:0}:n}function LA(n){return n.registrationStatus===1&&n.registrationTime+U0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA({appConfig:n,heartbeatServiceProvider:e},t){const i=jA(n,t),o=vA(n,t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const u={installation:{sdkVersion:B0,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(u)},f=await G0(()=>fetch(i,d));if(f.ok){const m=await f.json();return H0(m)}else throw await W0("Generate Auth Token",f)}function jA(n,{fid:e}){return`${q0(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(n,e=!1){let t;const i=await yh(n.appConfig,a=>{if(!tw(a))throw Vs.create("not-registered");const u=a.authToken;if(!e&&UA(u))return a;if(u.requestStatus===1)return t=MA(n,e),a;{if(!navigator.onLine)throw Vs.create("app-offline");const d=zA(a);return t=FA(n,d),d}});return t?await t:i.authToken}async function MA(n,e){let t=await Tv(n.appConfig);for(;t.authToken.requestStatus===1;)await Q0(100),t=await Tv(n.appConfig);const i=t.authToken;return i.requestStatus===0?zp(n,e):i}function Tv(n){return yh(n,e=>{if(!tw(e))throw Vs.create("not-registered");const t=e.authToken;return $A(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function FA(n,e){try{const t=await VA(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await $c(n.appConfig,i),t}catch(t){if($0(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Z0(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await $c(n.appConfig,i)}throw t}}function tw(n){return n!==void 0&&n.registrationStatus===2}function UA(n){return n.requestStatus===2&&!BA(n)}function BA(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+pA}function zA(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function $A(n){return n.requestStatus===1&&n.requestTime+U0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qA(n){const e=n,{installationEntry:t,registrationPromise:i}=await Bp(e);return i?i.catch(console.error):zp(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HA(n,e=!1){const t=n;return await WA(t),(await zp(t,e)).token}async function WA(n){const{registrationPromise:e}=await Bp(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(n){if(!n||!n.options)throw jf("App Configuration");if(!n.name)throw jf("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw jf(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function jf(n){return Vs.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="installations",GA="installations-internal",QA=n=>{const e=n.getProvider("app").getImmediate(),t=KA(e),i=qs(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},JA=n=>{const e=n.getProvider("app").getImmediate(),t=qs(e,nw).getImmediate();return{getId:()=>qA(t),getToken:o=>HA(t,o)}};function YA(){Rr(new tr(nw,QA,"PUBLIC")),Rr(new tr(GA,JA,"PRIVATE"))}YA();jn(F0,Fp);jn(F0,Fp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc="analytics",XA="firebase_id",ZA="origin",eC=60*1e3,tC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$p="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn=new mh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},En=new $s("analytics","Analytics",nC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(n){if(!n.startsWith($p)){const e=En.create("invalid-gtag-resource",{gtagURL:n});return cn.warn(e.message),""}return n}function rw(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function iC(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function sC(n,e){const t=iC("firebase-js-sdk-policy",{createScriptURL:rC}),i=document.createElement("script"),o=`${$p}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function oC(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function aC(n,e,t,i,o,a){const u=i[o];try{if(u)await e[u];else{const f=(await rw(t)).find(m=>m.measurementId===o);f&&await e[f.appId]}}catch(d){cn.error(d)}n("config",o,a)}async function lC(n,e,t,i,o){try{let a=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const d=await rw(t);for(const f of u){const m=d.find(T=>T.measurementId===f),_=m&&e[m.appId];if(_)a.push(_);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",i,o||{})}catch(a){cn.error(a)}}function uC(n,e,t,i){async function o(a,...u){try{if(a==="event"){const[d,f]=u;await lC(n,e,t,d,f)}else if(a==="config"){const[d,f]=u;await aC(n,e,t,i,d,f)}else if(a==="consent"){const[d,f]=u;n("consent",d,f)}else if(a==="get"){const[d,f,m]=u;n("get",d,f,m)}else if(a==="set"){const[d]=u;n("set",d)}else n(a,...u)}catch(d){cn.error(d)}}return o}function cC(n,e,t,i,o){let a=function(...u){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=uC(a,n,e,t),{gtagCore:a,wrappedGtag:window[o]}}function hC(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes($p)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=30,fC=1e3;class pC{constructor(e={},t=fC){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const iw=new pC;function mC(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function gC(n){var e;const{appId:t,apiKey:i}=n,o={method:"GET",headers:mC(i)},a=tC.replace("{app-id}",t),u=await fetch(a,o);if(u.status!==200&&u.status!==304){let d="";try{const f=await u.json();!((e=f.error)===null||e===void 0)&&e.message&&(d=f.error.message)}catch{}throw En.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}async function yC(n,e=iw,t){const{appId:i,apiKey:o,measurementId:a}=n.options;if(!i)throw En.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:i};throw En.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new wC;return setTimeout(async()=>{d.abort()},eC),sw({appId:i,apiKey:o,measurementId:a},u,d,e)}async function sw(n,{throttleEndTimeMillis:e,backoffCount:t},i,o=iw){var a;const{appId:u,measurementId:d}=n;try{await vC(i,e)}catch(f){if(d)return cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:u,measurementId:d};throw f}try{const f=await gC(n);return o.deleteThrottleMetadata(u),f}catch(f){const m=f;if(!_C(m)){if(o.deleteThrottleMetadata(u),d)return cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:u,measurementId:d};throw f}const _=Number((a=m==null?void 0:m.customData)===null||a===void 0?void 0:a.httpStatus)===503?dv(t,o.intervalMillis,dC):dv(t,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+_,backoffCount:t+1};return o.setThrottleMetadata(u,T),cn.debug(`Calling attemptFetch again in ${_} millis`),sw(n,T,i,o)}}function vC(n,e){return new Promise((t,i)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),i(En.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _C(n){if(!(n instanceof or)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class wC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function EC(n,e,t,i,o){if(o&&o.global){n("event",t,i);return}else{const a=await e,u=Object.assign(Object.assign({},i),{send_to:a});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(){if(N0())try{await b0()}catch(n){return cn.warn(En.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return cn.warn(En.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function IC(n,e,t,i,o,a,u){var d;const f=yC(n);f.then(P=>{t[P.measurementId]=P.appId,n.options.measurementId&&P.measurementId!==n.options.measurementId&&cn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${P.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(P=>cn.error(P)),e.push(f);const m=TC().then(P=>{if(P)return i.getId()}),[_,T]=await Promise.all([f,m]);hC(a)||sC(a,_.measurementId),o("js",new Date);const I=(d=u==null?void 0:u.config)!==null&&d!==void 0?d:{};return I[ZA]="firebase",I.update=!0,T!=null&&(I[XA]=T),o("config",_.measurementId,I),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.app=e}_delete(){return delete El[this.app.options.appId],Promise.resolve()}}let El={},Iv=[];const Sv={};let Mf="dataLayer",RC="gtag",Rv,ow,Av=!1;function AC(){const n=[];if(k0()&&n.push("This is a browser extension environment."),WS()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),t=En.create("invalid-analytics-context",{errorInfo:e});cn.warn(t.message)}}function CC(n,e,t){AC();const i=n.options.appId;if(!i)throw En.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw En.create("no-api-key");if(El[i]!=null)throw En.create("already-exists",{id:i});if(!Av){oC(Mf);const{wrappedGtag:a,gtagCore:u}=cC(El,Iv,Sv,Mf,RC);ow=a,Rv=u,Av=!0}return El[i]=IC(n,Iv,Sv,e,Rv,Mf,t),new SC(n)}function xC(n=Mp()){n=ht(n);const e=qs(n,qc);return e.isInitialized()?e.getImmediate():PC(n)}function PC(n,e={}){const t=qs(n,qc);if(t.isInitialized()){const o=t.getImmediate();if(xl(e,t.getOptions()))return o;throw En.create("already-initialized")}return t.initialize({options:e})}function kC(n,e,t,i){n=ht(n),EC(ow,El[n.app.options.appId],e,t,i).catch(o=>cn.error(o))}const Cv="@firebase/analytics",xv="0.10.11";function NC(){Rr(new tr(qc,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return CC(i,o,t)},"PUBLIC")),Rr(new tr("analytics-internal",n,"PRIVATE")),jn(Cv,xv),jn(Cv,xv,"esm2017");function n(e){try{const t=e.getProvider(qc).getImmediate();return{logEvent:(i,o,a)=>kC(t,i,o,a)}}catch(t){throw En.create("interop-component-reg-failed",{reason:t})}}}NC();var Pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ui,aw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function k(){}k.prototype=A.prototype,D.D=A.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(O,M,F){for(var C=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)C[ve-2]=arguments[ve];return A.prototype[M].apply(O,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,k){k||(k=0);var O=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)O[M]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(M=0;16>M;++M)O[M]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=D.g[0],k=D.g[1],M=D.g[2];var F=D.g[3],C=A+(F^k&(M^F))+O[0]+3614090360&4294967295;A=k+(C<<7&4294967295|C>>>25),C=F+(M^A&(k^M))+O[1]+3905402710&4294967295,F=A+(C<<12&4294967295|C>>>20),C=M+(k^F&(A^k))+O[2]+606105819&4294967295,M=F+(C<<17&4294967295|C>>>15),C=k+(A^M&(F^A))+O[3]+3250441966&4294967295,k=M+(C<<22&4294967295|C>>>10),C=A+(F^k&(M^F))+O[4]+4118548399&4294967295,A=k+(C<<7&4294967295|C>>>25),C=F+(M^A&(k^M))+O[5]+1200080426&4294967295,F=A+(C<<12&4294967295|C>>>20),C=M+(k^F&(A^k))+O[6]+2821735955&4294967295,M=F+(C<<17&4294967295|C>>>15),C=k+(A^M&(F^A))+O[7]+4249261313&4294967295,k=M+(C<<22&4294967295|C>>>10),C=A+(F^k&(M^F))+O[8]+1770035416&4294967295,A=k+(C<<7&4294967295|C>>>25),C=F+(M^A&(k^M))+O[9]+2336552879&4294967295,F=A+(C<<12&4294967295|C>>>20),C=M+(k^F&(A^k))+O[10]+4294925233&4294967295,M=F+(C<<17&4294967295|C>>>15),C=k+(A^M&(F^A))+O[11]+2304563134&4294967295,k=M+(C<<22&4294967295|C>>>10),C=A+(F^k&(M^F))+O[12]+1804603682&4294967295,A=k+(C<<7&4294967295|C>>>25),C=F+(M^A&(k^M))+O[13]+4254626195&4294967295,F=A+(C<<12&4294967295|C>>>20),C=M+(k^F&(A^k))+O[14]+2792965006&4294967295,M=F+(C<<17&4294967295|C>>>15),C=k+(A^M&(F^A))+O[15]+1236535329&4294967295,k=M+(C<<22&4294967295|C>>>10),C=A+(M^F&(k^M))+O[1]+4129170786&4294967295,A=k+(C<<5&4294967295|C>>>27),C=F+(k^M&(A^k))+O[6]+3225465664&4294967295,F=A+(C<<9&4294967295|C>>>23),C=M+(A^k&(F^A))+O[11]+643717713&4294967295,M=F+(C<<14&4294967295|C>>>18),C=k+(F^A&(M^F))+O[0]+3921069994&4294967295,k=M+(C<<20&4294967295|C>>>12),C=A+(M^F&(k^M))+O[5]+3593408605&4294967295,A=k+(C<<5&4294967295|C>>>27),C=F+(k^M&(A^k))+O[10]+38016083&4294967295,F=A+(C<<9&4294967295|C>>>23),C=M+(A^k&(F^A))+O[15]+3634488961&4294967295,M=F+(C<<14&4294967295|C>>>18),C=k+(F^A&(M^F))+O[4]+3889429448&4294967295,k=M+(C<<20&4294967295|C>>>12),C=A+(M^F&(k^M))+O[9]+568446438&4294967295,A=k+(C<<5&4294967295|C>>>27),C=F+(k^M&(A^k))+O[14]+3275163606&4294967295,F=A+(C<<9&4294967295|C>>>23),C=M+(A^k&(F^A))+O[3]+4107603335&4294967295,M=F+(C<<14&4294967295|C>>>18),C=k+(F^A&(M^F))+O[8]+1163531501&4294967295,k=M+(C<<20&4294967295|C>>>12),C=A+(M^F&(k^M))+O[13]+2850285829&4294967295,A=k+(C<<5&4294967295|C>>>27),C=F+(k^M&(A^k))+O[2]+4243563512&4294967295,F=A+(C<<9&4294967295|C>>>23),C=M+(A^k&(F^A))+O[7]+1735328473&4294967295,M=F+(C<<14&4294967295|C>>>18),C=k+(F^A&(M^F))+O[12]+2368359562&4294967295,k=M+(C<<20&4294967295|C>>>12),C=A+(k^M^F)+O[5]+4294588738&4294967295,A=k+(C<<4&4294967295|C>>>28),C=F+(A^k^M)+O[8]+2272392833&4294967295,F=A+(C<<11&4294967295|C>>>21),C=M+(F^A^k)+O[11]+1839030562&4294967295,M=F+(C<<16&4294967295|C>>>16),C=k+(M^F^A)+O[14]+4259657740&4294967295,k=M+(C<<23&4294967295|C>>>9),C=A+(k^M^F)+O[1]+2763975236&4294967295,A=k+(C<<4&4294967295|C>>>28),C=F+(A^k^M)+O[4]+1272893353&4294967295,F=A+(C<<11&4294967295|C>>>21),C=M+(F^A^k)+O[7]+4139469664&4294967295,M=F+(C<<16&4294967295|C>>>16),C=k+(M^F^A)+O[10]+3200236656&4294967295,k=M+(C<<23&4294967295|C>>>9),C=A+(k^M^F)+O[13]+681279174&4294967295,A=k+(C<<4&4294967295|C>>>28),C=F+(A^k^M)+O[0]+3936430074&4294967295,F=A+(C<<11&4294967295|C>>>21),C=M+(F^A^k)+O[3]+3572445317&4294967295,M=F+(C<<16&4294967295|C>>>16),C=k+(M^F^A)+O[6]+76029189&4294967295,k=M+(C<<23&4294967295|C>>>9),C=A+(k^M^F)+O[9]+3654602809&4294967295,A=k+(C<<4&4294967295|C>>>28),C=F+(A^k^M)+O[12]+3873151461&4294967295,F=A+(C<<11&4294967295|C>>>21),C=M+(F^A^k)+O[15]+530742520&4294967295,M=F+(C<<16&4294967295|C>>>16),C=k+(M^F^A)+O[2]+3299628645&4294967295,k=M+(C<<23&4294967295|C>>>9),C=A+(M^(k|~F))+O[0]+4096336452&4294967295,A=k+(C<<6&4294967295|C>>>26),C=F+(k^(A|~M))+O[7]+1126891415&4294967295,F=A+(C<<10&4294967295|C>>>22),C=M+(A^(F|~k))+O[14]+2878612391&4294967295,M=F+(C<<15&4294967295|C>>>17),C=k+(F^(M|~A))+O[5]+4237533241&4294967295,k=M+(C<<21&4294967295|C>>>11),C=A+(M^(k|~F))+O[12]+1700485571&4294967295,A=k+(C<<6&4294967295|C>>>26),C=F+(k^(A|~M))+O[3]+2399980690&4294967295,F=A+(C<<10&4294967295|C>>>22),C=M+(A^(F|~k))+O[10]+4293915773&4294967295,M=F+(C<<15&4294967295|C>>>17),C=k+(F^(M|~A))+O[1]+2240044497&4294967295,k=M+(C<<21&4294967295|C>>>11),C=A+(M^(k|~F))+O[8]+1873313359&4294967295,A=k+(C<<6&4294967295|C>>>26),C=F+(k^(A|~M))+O[15]+4264355552&4294967295,F=A+(C<<10&4294967295|C>>>22),C=M+(A^(F|~k))+O[6]+2734768916&4294967295,M=F+(C<<15&4294967295|C>>>17),C=k+(F^(M|~A))+O[13]+1309151649&4294967295,k=M+(C<<21&4294967295|C>>>11),C=A+(M^(k|~F))+O[4]+4149444226&4294967295,A=k+(C<<6&4294967295|C>>>26),C=F+(k^(A|~M))+O[11]+3174756917&4294967295,F=A+(C<<10&4294967295|C>>>22),C=M+(A^(F|~k))+O[2]+718787259&4294967295,M=F+(C<<15&4294967295|C>>>17),C=k+(F^(M|~A))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+F&4294967295}i.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var k=A-this.blockSize,O=this.B,M=this.h,F=0;F<A;){if(M==0)for(;F<=k;)o(this,D,F),F+=this.blockSize;if(typeof D=="string"){for(;F<A;)if(O[M++]=D.charCodeAt(F++),M==this.blockSize){o(this,O),M=0;break}}else for(;F<A;)if(O[M++]=D[F++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=A},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var k=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=k&255,k/=256;for(this.u(D),D=Array(16),A=k=0;4>A;++A)for(var O=0;32>O;O+=8)D[k++]=this.g[A]>>>O&255;return D};function a(D,A){var k=d;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=A(D)}function u(D,A){this.h=A;for(var k=[],O=!0,M=D.length-1;0<=M;M--){var F=D[M]|0;O&&F==A||(k[M]=F,O=!1)}this.g=k}var d={};function f(D){return-128<=D&&128>D?a(D,function(A){return new u([A|0],0>A?-1:0)}):new u([D|0],0>D?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return x(m(-D));for(var A=[],k=1,O=0;D>=k;O++)A[O]=D/k|0,k*=4294967296;return new u(A,0)}function _(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return x(_(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(A,8)),O=T,M=0;M<D.length;M+=8){var F=Math.min(8,D.length-M),C=parseInt(D.substring(M,M+F),A);8>F?(F=m(Math.pow(A,F)),O=O.j(F).add(m(C))):(O=O.j(k),O=O.add(m(C)))}return O}var T=f(0),I=f(1),P=f(16777216);n=u.prototype,n.m=function(){if(b(this))return-x(this).m();for(var D=0,A=1,k=0;k<this.g.length;k++){var O=this.i(k);D+=(0<=O?O:4294967296+O)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(R(this))return"0";if(b(this))return"-"+x(this).toString(D);for(var A=m(Math.pow(D,6)),k=this,O="";;){var M=J(k,A).g;k=$(k,M.j(A));var F=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=M,R(k))return F+O;for(;6>F.length;)F="0"+F;O=F+O}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function R(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function b(D){return D.h==-1}n.l=function(D){return D=$(this,D),b(D)?-1:R(D)?0:1};function x(D){for(var A=D.g.length,k=[],O=0;O<A;O++)k[O]=~D.g[O];return new u(k,~D.h).add(I)}n.abs=function(){return b(this)?x(this):this},n.add=function(D){for(var A=Math.max(this.g.length,D.g.length),k=[],O=0,M=0;M<=A;M++){var F=O+(this.i(M)&65535)+(D.i(M)&65535),C=(F>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);O=C>>>16,F&=65535,C&=65535,k[M]=C<<16|F}return new u(k,k[k.length-1]&-2147483648?-1:0)};function $(D,A){return D.add(x(A))}n.j=function(D){if(R(this)||R(D))return T;if(b(this))return b(D)?x(this).j(x(D)):x(x(this).j(D));if(b(D))return x(this.j(x(D)));if(0>this.l(P)&&0>D.l(P))return m(this.m()*D.m());for(var A=this.g.length+D.g.length,k=[],O=0;O<2*A;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<D.g.length;M++){var F=this.i(O)>>>16,C=this.i(O)&65535,ve=D.i(M)>>>16,De=D.i(M)&65535;k[2*O+2*M]+=C*De,Q(k,2*O+2*M),k[2*O+2*M+1]+=F*De,Q(k,2*O+2*M+1),k[2*O+2*M+1]+=C*ve,Q(k,2*O+2*M+1),k[2*O+2*M+2]+=F*ve,Q(k,2*O+2*M+2)}for(O=0;O<A;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=A;O<2*A;O++)k[O]=0;return new u(k,0)};function Q(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function K(D,A){this.g=D,this.h=A}function J(D,A){if(R(A))throw Error("division by zero");if(R(D))return new K(T,T);if(b(D))return A=J(x(D),A),new K(x(A.g),x(A.h));if(b(A))return A=J(D,x(A)),new K(x(A.g),A.h);if(30<D.g.length){if(b(D)||b(A))throw Error("slowDivide_ only works with positive integers.");for(var k=I,O=A;0>=O.l(D);)k=ie(k),O=ie(O);var M=ae(k,1),F=ae(O,1);for(O=ae(O,2),k=ae(k,2);!R(O);){var C=F.add(O);0>=C.l(D)&&(M=M.add(k),F=C),O=ae(O,1),k=ae(k,1)}return A=$(D,M.j(A)),new K(M,A)}for(M=T;0<=D.l(A);){for(k=Math.max(1,Math.floor(D.m()/A.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),F=m(k),C=F.j(A);b(C)||0<C.l(D);)k-=O,F=m(k),C=F.j(A);R(F)&&(F=I),M=M.add(F),D=$(D,C)}return new K(M,D)}n.A=function(D){return J(this,D).h},n.and=function(D){for(var A=Math.max(this.g.length,D.g.length),k=[],O=0;O<A;O++)k[O]=this.i(O)&D.i(O);return new u(k,this.h&D.h)},n.or=function(D){for(var A=Math.max(this.g.length,D.g.length),k=[],O=0;O<A;O++)k[O]=this.i(O)|D.i(O);return new u(k,this.h|D.h)},n.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),k=[],O=0;O<A;O++)k[O]=this.i(O)^D.i(O);return new u(k,this.h^D.h)};function ie(D){for(var A=D.g.length+1,k=[],O=0;O<A;O++)k[O]=D.i(O)<<1|D.i(O-1)>>>31;return new u(k,D.h)}function ae(D,A){var k=A>>5;A%=32;for(var O=D.g.length-k,M=[],F=0;F<O;F++)M[F]=0<A?D.i(F+k)>>>A|D.i(F+k+1)<<32-A:D.i(F+k);return new u(M,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,aw=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=_,Ui=u}).apply(typeof Pv<"u"?Pv:typeof self<"u"?self:typeof window<"u"?window:{});var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lw,yl,uw,Ac,np,cw,hw,dw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,w){return c==Array.prototype||c==Object.prototype||(c[g]=w.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vc=="object"&&vc];for(var g=0;g<c.length;++g){var w=c[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function o(c,g){if(g)e:{var w=i;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in w))break e;w=w[B]}c=c[c.length-1],S=w[c],g=g(S),g!=S&&g!=null&&e(w,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var w=0,S=!1,B={next:function(){if(!S&&w<c.length){var W=w++;return{value:g(W,c[W]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function _(c,g,w){return c.call.apply(c.bind,arguments)}function T(c,g,w){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(g,B)}}return function(){return c.apply(g,arguments)}}function I(c,g,w){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,I.apply(null,arguments)}function P(c,g){var w=Array.prototype.slice.call(arguments,1);return function(){var S=w.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function R(c,g){function w(){}w.prototype=g.prototype,c.aa=g.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(S,B,W){for(var oe=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)oe[Ke-2]=arguments[Ke];return g.prototype[B].apply(S,oe)}}function b(c){const g=c.length;if(0<g){const w=Array(g);for(let S=0;S<g;S++)w[S]=c[S];return w}return[]}function x(c,g){for(let w=1;w<arguments.length;w++){const S=arguments[w];if(f(S)){const B=c.length||0,W=S.length||0;c.length=B+W;for(let oe=0;oe<W;oe++)c[B+oe]=S[oe]}else c.push(S)}}class ${constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Q(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function J(c){return J[" "](c),c}J[" "]=function(){};var ie=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ae(c,g,w){for(const S in c)g.call(w,c[S],S,c)}function D(c,g){for(const w in c)g.call(void 0,c[w],w,c)}function A(c){const g={};for(const w in c)g[w]=c[w];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let w,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(w in S)c[w]=S[w];for(let W=0;W<k.length;W++)w=k[W],Object.prototype.hasOwnProperty.call(S,w)&&(c[w]=S[w])}}function M(c){var g=1;c=c.split(":");const w=[];for(;0<g&&c.length;)w.push(c.shift()),g--;return c.length&&w.push(c.join(":")),w}function F(c){d.setTimeout(()=>{throw c},0)}function C(){var c=fe;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ve{constructor(){this.h=this.g=null}add(g,w){const S=De.get();S.set(g,w),this.h?this.h.next=S:this.g=S,this.h=S}}var De=new $(()=>new Pe,c=>c.reset());class Pe{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ne=!1,fe=new ve,le=()=>{const c=d.Promise.resolve(void 0);Te=()=>{c.then(U)}};var U=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(w){F(w)}var g=De;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ne=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};d.addEventListener("test",w,g),d.removeEventListener("test",w,g)}catch{}return c}();function Ne(c,g){if(ge.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ie){e:{try{J(g.nodeName);var B=!0;break e}catch{}B=!1}B||(g=null)}}else w=="mouseover"?g=c.fromElement:w=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}R(Ne,ge);var Me={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),He=0;function Qe(c,g,w,S,B){this.listener=c,this.proxy=null,this.src=g,this.type=w,this.capture=!!S,this.ha=B,this.key=++He,this.da=this.fa=!1}function St(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function xr(c){this.src=c,this.g={},this.h=0}xr.prototype.add=function(c,g,w,S,B){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var oe=oi(c,g,S,B);return-1<oe?(g=c[oe],w||(g.fa=!1)):(g=new Qe(g,this.src,W,!!S,B),g.fa=w,c.push(g)),g};function Gs(c,g){var w=g.type;if(w in c.g){var S=c.g[w],B=Array.prototype.indexOf.call(S,g,void 0),W;(W=0<=B)&&Array.prototype.splice.call(S,B,1),W&&(St(g),c.g[w].length==0&&(delete c.g[w],c.h--))}}function oi(c,g,w,S){for(var B=0;B<c.length;++B){var W=c[B];if(!W.da&&W.listener==g&&W.capture==!!w&&W.ha==S)return B}return-1}var es="closure_lm_"+(1e6*Math.random()|0),Qs={};function ya(c,g,w,S,B){if(Array.isArray(g)){for(var W=0;W<g.length;W++)ya(c,g[W],w,S,B);return null}return w=wa(w),c&&c[qe]?c.K(g,w,m(S)?!!S.capture:!!S,B):va(c,g,w,!1,S,B)}function va(c,g,w,S,B,W){if(!g)throw Error("Invalid event type");var oe=m(B)?!!B.capture:!!B,Ke=Ys(c);if(Ke||(c[es]=Ke=new xr(c)),w=Ke.add(g,w,S,oe,W),w.proxy)return w;if(S=tu(),w.proxy=S,S.src=c,S.listener=w,c.addEventListener)ke||(B=oe),B===void 0&&(B=!1),c.addEventListener(g.toString(),S,B);else if(c.attachEvent)c.attachEvent(kr(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return w}function tu(){function c(w){return g.call(c.src,c.listener,w)}const g=_a;return c}function Js(c,g,w,S,B){if(Array.isArray(g))for(var W=0;W<g.length;W++)Js(c,g[W],w,S,B);else S=m(S)?!!S.capture:!!S,w=wa(w),c&&c[qe]?(c=c.i,g=String(g).toString(),g in c.g&&(W=c.g[g],w=oi(W,w,S,B),-1<w&&(St(W[w]),Array.prototype.splice.call(W,w,1),W.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ys(c))&&(g=c.g[g.toString()],c=-1,g&&(c=oi(g,w,S,B)),(w=-1<c?g[c]:null)&&Pr(w))}function Pr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[qe])Gs(g.i,c);else{var w=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(w,S,c.capture):g.detachEvent?g.detachEvent(kr(w),S):g.addListener&&g.removeListener&&g.removeListener(S),(w=Ys(g))?(Gs(w,c),w.h==0&&(w.src=null,g[es]=null)):St(c)}}}function kr(c){return c in Qs?Qs[c]:Qs[c]="on"+c}function _a(c,g){if(c.da)c=!0;else{g=new Ne(g,this);var w=c.listener,S=c.ha||c.src;c.fa&&Pr(c),c=w.call(S,g)}return c}function Ys(c){return c=c[es],c instanceof xr?c:null}var Xs="__closure_events_fn_"+(1e9*Math.random()>>>0);function wa(c){return typeof c=="function"?c:(c[Xs]||(c[Xs]=function(g){return c.handleEvent(g)}),c[Xs])}function yt(){Y.call(this),this.i=new xr(this),this.M=this,this.F=null}R(yt,Y),yt.prototype[qe]=!0,yt.prototype.removeEventListener=function(c,g,w,S){Js(this,c,g,w,S)};function vt(c,g){var w,S=c.F;if(S)for(w=[];S;S=S.F)w.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new ge(g,c);else if(g instanceof ge)g.target=g.target||c;else{var B=g;g=new ge(S,c),O(g,B)}if(B=!0,w)for(var W=w.length-1;0<=W;W--){var oe=g.g=w[W];B=Nr(oe,S,!0,g)&&B}if(oe=g.g=c,B=Nr(oe,S,!0,g)&&B,B=Nr(oe,S,!1,g)&&B,w)for(W=0;W<w.length;W++)oe=g.g=w[W],B=Nr(oe,S,!1,g)&&B}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var w=c.g[g],S=0;S<w.length;S++)St(w[S]);delete c.g[g],c.h--}}this.F=null},yt.prototype.K=function(c,g,w,S){return this.i.add(String(c),g,!1,w,S)},yt.prototype.L=function(c,g,w,S){return this.i.add(String(c),g,!0,w,S)};function Nr(c,g,w,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var B=!0,W=0;W<g.length;++W){var oe=g[W];if(oe&&!oe.da&&oe.capture==w){var Ke=oe.listener,_t=oe.ha||oe.src;oe.fa&&Gs(c.i,oe),B=Ke.call(_t,S)!==!1&&B}}return B&&!S.defaultPrevented}function Ea(c,g,w){if(typeof c=="function")w&&(c=I(c,w));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function ai(c){c.g=Ea(()=>{c.g=null,c.i&&(c.i=!1,ai(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ts extends Y{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ai(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(c){Y.call(this),this.h=c,this.g={}}R(ns,Y);var Ta=[];function Ia(c){ae(c.g,function(g,w){this.g.hasOwnProperty(w)&&Pr(g)},c),c.g={}}ns.prototype.N=function(){ns.aa.N.call(this),Ia(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sa=d.JSON.stringify,Ra=d.JSON.parse,Aa=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function rs(){}rs.prototype.h=null;function Zs(c){return c.h||(c.h=c.i())}function eo(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lr(){ge.call(this,"d")}R(lr,ge);function to(){ge.call(this,"c")}R(to,ge);var ur={},Ca=null;function is(){return Ca=Ca||new yt}ur.La="serverreachability";function xa(c){ge.call(this,ur.La,c)}R(xa,ge);function br(c){const g=is();vt(g,new xa(g))}ur.STAT_EVENT="statevent";function Pa(c,g){ge.call(this,ur.STAT_EVENT,c),this.stat=g}R(Pa,ge);function lt(c){const g=is();vt(g,new Pa(g,c))}ur.Ma="timingevent";function no(c,g){ge.call(this,ur.Ma,c),this.size=g}R(no,ge);function Fn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function ss(){this.g=!0}ss.prototype.xa=function(){this.g=!1};function os(c,g,w,S,B,W){c.info(function(){if(c.g)if(W)for(var oe="",Ke=W.split("&"),_t=0;_t<Ke.length;_t++){var Fe=Ke[_t].split("=");if(1<Fe.length){var Rt=Fe[0];Fe=Fe[1];var dt=Rt.split("_");oe=2<=dt.length&&dt[1]=="type"?oe+(Rt+"="+Fe+"&"):oe+(Rt+"=redacted&")}}else oe=null;else oe=W;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+g+`
`+w+`
`+oe})}function ro(c,g,w,S,B,W,oe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+g+`
`+w+`
`+W+" "+oe})}function Un(c,g,w,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Yh(c,w)+(S?" "+S:"")})}function ka(c,g){c.info(function(){return"TIMEOUT: "+g})}ss.prototype.info=function(){};function Yh(c,g){if(!c.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var S=w[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var W=B[0];if(W!="noop"&&W!="stop"&&W!="close")for(var oe=1;oe<B.length;oe++)B[oe]=""}}}}return Sa(w)}catch{return g}}var io={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function as(){}R(as,rs),as.prototype.g=function(){return new XMLHttpRequest},as.prototype.i=function(){return{}},Bn=new as;function zn(c,g,w,S){this.j=c,this.i=g,this.l=w,this.R=S||1,this.U=new ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ru}function ru(){this.i=null,this.g="",this.h=!1}var Na={},so={};function oo(c,g,w){c.L=1,c.v=di(pn(g)),c.m=w,c.P=!0,ba(c,null)}function ba(c,g){c.F=Date.now(),Je(c),c.A=pn(c.v);var w=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),pi(w.i,"t",S),c.C=0,w=c.j.J,c.h=new ru,c.g=Eu(c.j,w?g:null,!c.m),0<c.O&&(c.M=new ts(I(c.Y,c,c.g),c.O)),g=c.U,w=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Ta[0]=B.toString()),B=Ta);for(var W=0;W<B.length;W++){var oe=ya(w,B[W],S||g.handleEvent,!1,g.h||g);if(!oe)break;g.g[oe.key]=oe}g=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),br(),os(c.i,c.u,c.A,c.l,c.R,c.m)}zn.prototype.ca=function(c){c=c.target;const g=this.M;g&&en(c)==3?g.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)e:{const dt=en(this.g);var g=this.g.Ba();const An=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||Ma(this.g)))){this.J||dt!=4||g==7||(g==8||0>=An?br(3):br(2)),ls(this);var w=this.g.Z();this.X=w;t:if(iu(this)){var S=Ma(this.g);c="";var B=S.length,W=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),li(this);var oe="";break t}this.h.i=new d.TextDecoder}for(g=0;g<B;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(W&&g==B-1)});S.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=w==200,ro(this.i,this.u,this.A,this.l,this.R,dt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,_t=this.g;if((Ke=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Ke)){var Fe=Ke;break t}}Fe=null}if(w=Fe)Un(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Da(this,w);else{this.o=!1,this.s=3,lt(12),Sn(this),li(this);break e}}if(this.P){w=!0;let gn;for(;!this.J&&this.C<oe.length;)if(gn=Xh(this,oe),gn==so){dt==4&&(this.s=4,lt(14),w=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Na){this.s=4,lt(15),Un(this.i,this.l,oe,"[Invalid Chunk]"),w=!1;break}else Un(this.i,this.l,gn,null),Da(this,gn);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||oe.length!=0||this.h.h||(this.s=1,lt(16),w=!1),this.o=this.o&&w,!w)Un(this.i,this.l,oe,"[Invalid Chunked Response]"),Sn(this),li(this);else if(0<oe.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Ua(Rt),Rt.M=!0,lt(11))}}else Un(this.i,this.l,oe,null),Da(this,oe);dt==4&&Sn(this),this.o&&!this.J&&(dt==4?vo(this.j,this):(this.o=!1,Je(this)))}else fo(this.g),w==400&&0<oe.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Sn(this),li(this)}}}catch{}finally{}};function iu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Xh(c,g){var w=c.C,S=g.indexOf(`
`,w);return S==-1?so:(w=Number(g.substring(w,S)),isNaN(w)?Na:(S+=1,S+w>g.length?so:(g=g.slice(S,S+w),c.C=S+w,g)))}zn.prototype.cancel=function(){this.J=!0,Sn(this)};function Je(c){c.S=Date.now()+c.I,su(c,c.I)}function su(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Fn(I(c.ba,c),g)}function ls(c){c.B&&(d.clearTimeout(c.B),c.B=null)}zn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ka(this.i,this.A),this.L!=2&&(br(),lt(17)),Sn(this),this.s=2,li(this)):su(this,this.S-c)};function li(c){c.j.G==0||c.J||vo(c.j,c)}function Sn(c){ls(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Ia(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Da(c,g){try{var w=c.j;if(w.G!=0&&(w.g==c||Qt(w.h,c))){if(!c.K&&Qt(w.h,c)&&w.G==3){try{var S=w.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)yo(w),Kn(w);else break e;go(w),lt(18)}}else w.za=B[1],0<w.za-w.T&&37500>B[2]&&w.F&&w.v==0&&!w.C&&(w.C=Fn(I(w.Za,w),6e3));if(1>=au(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else jr(w,11)}else if((c.K||w.g==c)&&yo(w),!Q(g))for(B=w.Da.g.parse(g),g=0;g<B.length;g++){let Fe=B[g];if(w.T=Fe[0],Fe=Fe[1],w.G==2)if(Fe[0]=="c"){w.K=Fe[1],w.ia=Fe[2];const Rt=Fe[3];Rt!=null&&(w.la=Rt,w.j.info("VER="+w.la));const dt=Fe[4];dt!=null&&(w.Aa=dt,w.j.info("SVER="+w.Aa));const An=Fe[5];An!=null&&typeof An=="number"&&0<An&&(S=1.5*An,w.L=S,w.j.info("backChannelRequestTimeoutMs_="+S)),S=w;const gn=c.g;if(gn){const ms=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var W=S.h;W.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Oa(W,W.h),W.h=null))}if(S.D){const wo=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(S.ya=wo,Ge(S.I,S.D,wo))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),S=w;var oe=c;if(S.qa=wu(S,S.J?S.ia:null,S.W),oe.K){lu(S.h,oe);var Ke=oe,_t=S.L;_t&&(Ke.I=_t),Ke.B&&(ls(Ke),Je(Ke)),S.g=oe}else ps(S);0<w.i.length&&fr(w)}else Fe[0]!="stop"&&Fe[0]!="close"||jr(w,7);else w.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?jr(w,7):bt(w):Fe[0]!="noop"&&w.l&&w.l.ta(Fe),w.v=0)}}br(4)}catch{}}var ou=class{constructor(c,g){this.g=c,this.map=g}};function us(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function au(c){return c.h?1:c.g?c.g.size:0}function Qt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Oa(c,g){c.g?c.g.add(g):c.h=g}function lu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}us.prototype.cancel=function(){if(this.i=uu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function uu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const w of c.g.values())g=g.concat(w.D);return g}return b(c.i)}function ao(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],w=c.length,S=0;S<w;S++)g.push(c[S]);return g}g=[],w=0;for(S in c)g[w++]=c[S];return g}function lo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var w=0;w<c;w++)g.push(w);return g}g=[],w=0;for(const S in c)g[w++]=S;return g}}}function ui(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var w=lo(c),S=ao(c),B=S.length,W=0;W<B;W++)g.call(void 0,S[W],w&&w[W],c)}var cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zh(c,g){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var S=c[w].indexOf("="),B=null;if(0<=S){var W=c[w].substring(0,S);B=c[w].substring(S+1)}else W=c[w];g(W,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Dr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Dr){this.h=c.h,hs(this,c.j),this.o=c.o,this.g=c.g,ci(this,c.s),this.l=c.l;var g=c.i,w=new cr;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),hi(this,w),this.m=c.m}else c&&(g=String(c).match(cs))?(this.h=!1,hs(this,g[1]||"",!0),this.o=Ve(g[2]||""),this.g=Ve(g[3]||"",!0),ci(this,g[4]),this.l=Ve(g[5]||"",!0),hi(this,g[6]||"",!0),this.m=Ve(g[7]||"")):(this.h=!1,this.i=new cr(null,this.h))}Dr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(fi(g,uo,!0),":");var w=this.g;return(w||g=="file")&&(c.push("//"),(g=this.o)&&c.push(fi(g,uo,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(fi(w,w.charAt(0)=="/"?du:hu,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",fi(w,La)),c.join("")};function pn(c){return new Dr(c)}function hs(c,g,w){c.j=w?Ve(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ci(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function hi(c,g,w){g instanceof cr?(c.i=g,hr(c.i,c.h)):(w||(g=fi(g,fu)),c.i=new cr(g,c.h))}function Ge(c,g,w){c.i.set(g,w)}function di(c){return Ge(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ve(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function fi(c,g,w){return typeof c=="string"?(c=encodeURI(c).replace(g,cu),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var uo=/[#\/\?@]/g,hu=/[#\?:]/g,du=/[#\?]/g,fu=/[#\?@]/g,La=/#/g;function cr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Nt(c){c.g||(c.g=new Map,c.h=0,c.i&&Zh(c.i,function(g,w){c.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}n=cr.prototype,n.add=function(c,g){Nt(this),this.i=null,c=Rn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(g),this.h+=1,this};function $n(c,g){Nt(c),g=Rn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function qn(c,g){return Nt(c),g=Rn(c,g),c.g.has(g)}n.forEach=function(c,g){Nt(this),this.g.forEach(function(w,S){w.forEach(function(B){c.call(g,B,S,this)},this)},this)},n.na=function(){Nt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let S=0;S<g.length;S++){const B=c[S];for(let W=0;W<B.length;W++)w.push(g[S])}return w},n.V=function(c){Nt(this);let g=[];if(typeof c=="string")qn(this,c)&&(g=g.concat(this.g.get(Rn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)g=g.concat(c[w])}return g},n.set=function(c,g){return Nt(this),this.i=null,c=Rn(this,c),qn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function pi(c,g,w){$n(c,g),0<w.length&&(c.i=null,c.g.set(Rn(c,g),b(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var S=g[w];const W=encodeURIComponent(String(S)),oe=this.V(S);for(S=0;S<oe.length;S++){var B=W;oe[S]!==""&&(B+="="+encodeURIComponent(String(oe[S]))),c.push(B)}}return this.i=c.join("&")};function Rn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function hr(c,g){g&&!c.j&&(Nt(c),c.i=null,c.g.forEach(function(w,S){var B=S.toLowerCase();S!=B&&($n(this,S),pi(this,B,w))},c)),c.j=g}function ed(c,g){const w=new ss;if(d.Image){const S=new Image;S.onload=P(Zt,w,"TestLoadImage: loaded",!0,g,S),S.onerror=P(Zt,w,"TestLoadImage: error",!1,g,S),S.onabort=P(Zt,w,"TestLoadImage: abort",!1,g,S),S.ontimeout=P(Zt,w,"TestLoadImage: timeout",!1,g,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function pu(c,g){const w=new ss,S=new AbortController,B=setTimeout(()=>{S.abort(),Zt(w,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(W=>{clearTimeout(B),W.ok?Zt(w,"TestPingServer: ok",!0,g):Zt(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),Zt(w,"TestPingServer: error",!1,g)})}function Zt(c,g,w,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(w)}catch{}}function td(){this.g=new Aa}function mu(c,g,w){const S=w||"";try{ui(c,function(B,W){let oe=B;m(B)&&(oe=Sa(B)),g.push(S+W+"="+encodeURIComponent(oe))})}catch(B){throw g.push(S+"type="+encodeURIComponent("_badmap")),B}}function Or(c){this.l=c.Ub||null,this.j=c.eb||!1}R(Or,rs),Or.prototype.g=function(){return new ds(this.l,this.j)},Or.prototype.i=function(c){return function(){return c}}({});function ds(c,g){yt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(ds,yt),n=ds.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Wn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function gu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Hn(this):Wn(this),this.readyState==3&&gu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Hn(this))},n.Qa=function(c){this.g&&(this.response=c,Hn(this))},n.ga=function(){this.g&&Hn(this)};function Hn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wn(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=g.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Lr(c){let g="";return ae(c,function(w,S){g+=S,g+=":",g+=w,g+=`\r
`}),g}function mi(c,g,w){e:{for(S in w){var S=!1;break e}S=!0}S||(w=Lr(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):Ge(c,g,w))}function tt(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(tt,yt);var nd=/^https?$/i,Va=["POST","PUT"];n=tt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,w,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?Zs(this.o):Zs(Bn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(W){fs(this,W);return}if(c=w||"",w=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)w.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const W of S.keys())w.set(W,S.get(W));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(w.keys()).find(W=>W.toLowerCase()=="content-type"),B=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Va,g,void 0))||S||B||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,oe]of w)this.g.setRequestHeader(W,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ho(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){fs(this,W)}};function fs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,co(c),mn(c)}function co(c){c.A||(c.A=!0,vt(c,"complete"),vt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,vt(this,"complete"),vt(this,"abort"),mn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mn(this,!0)),tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},n.bb=function(){ja(this)};function ja(c){if(c.h&&typeof u<"u"&&(!c.v[1]||en(c)!=4||c.Z()!=2)){if(c.u&&en(c)==4)Ea(c.Ea,0,c);else if(vt(c,"readystatechange"),en(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var S;if(S=oe===0){var B=String(c.D).match(cs)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),S=!nd.test(B?B.toLowerCase():"")}w=S}if(w)vt(c,"complete"),vt(c,"success");else{c.m=6;try{var W=2<en(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",co(c)}}finally{mn(c)}}}}function mn(c,g){if(c.g){ho(c);const w=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||vt(c,"ready");try{w.onreadystatechange=S}catch{}}}function ho(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function en(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ra(g)}};function Ma(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function fo(c){const g={};c=(c.g&&2<=en(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(Q(c[S]))continue;var w=M(c[S]);const B=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const W=g[B]||[];g[B]=W,W.push(w)}D(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function dr(c,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||g}function Fa(c){this.Aa=0,this.i=[],this.j=new ss,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=dr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=dr("baseRetryDelayMs",5e3,c),this.cb=dr("retryDelaySeedMs",1e4,c),this.Wa=dr("forwardChannelMaxRetries",2,c),this.wa=dr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new us(c&&c.concurrentRequestLimit),this.Da=new td,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Fa.prototype,n.la=8,n.G=1,n.connect=function(c,g,w,S){lt(0),this.W=c,this.H=g||{},w&&S!==void 0&&(this.H.OSID=w,this.H.OAID=S),this.F=this.X,this.I=wu(this,null,this.W),fr(this)};function bt(c){if(po(c),c.G==3){var g=c.U++,w=pn(c.I);if(Ge(w,"SID",c.K),Ge(w,"RID",g),Ge(w,"TYPE","terminate"),Vr(c,w),g=new zn(c,c.j,g),g.L=2,g.v=di(pn(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&d.Image&&(new Image().src=g.v,w=!0),w||(g.g=Eu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Je(g)}_u(c)}function Kn(c){c.g&&(Ua(c),c.g.cancel(),c.g=null)}function po(c){Kn(c),c.u&&(d.clearTimeout(c.u),c.u=null),yo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function fr(c){if(!fn(c.h)&&!c.s){c.s=!0;var g=c.Ga;Te||le(),ne||(Te(),ne=!0),fe.add(g,c),c.B=0}}function rd(c,g){return au(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Fn(I(c.Ga,c,g),vu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new zn(this,this.j,c);let W=this.o;if(this.S&&(W?(W=A(W),O(W,this.S)):W=this.S),this.m!==null||this.O||(B.H=W,W=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var S=this.i[w];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=gi(this,B,g),w=pn(this.I),Ge(w,"RID",c),Ge(w,"CVER",22),this.D&&Ge(w,"X-HTTP-Session-Id",this.D),Vr(this,w),W&&(this.O?g="headers="+encodeURIComponent(String(Lr(W)))+"&"+g:this.m&&mi(w,this.m,W)),Oa(this.h,B),this.Ua&&Ge(w,"TYPE","init"),this.P?(Ge(w,"$req",g),Ge(w,"SID","null"),B.T=!0,oo(B,w,null)):oo(B,w,g),this.G=2}}else this.G==3&&(c?mo(this,c):this.i.length==0||fn(this.h)||mo(this))};function mo(c,g){var w;g?w=g.l:w=c.U++;const S=pn(c.I);Ge(S,"SID",c.K),Ge(S,"RID",w),Ge(S,"AID",c.T),Vr(c,S),c.m&&c.o&&mi(S,c.m,c.o),w=new zn(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),g&&(c.i=g.D.concat(c.i)),g=gi(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Oa(c.h,w),oo(w,S,g)}function Vr(c,g){c.H&&ae(c.H,function(w,S){Ge(g,S,w)}),c.l&&ui({},function(w,S){Ge(g,S,w)})}function gi(c,g,w){w=Math.min(c.i.length,w);var S=c.l?I(c.l.Na,c.l,c):null;e:{var B=c.i;let W=-1;for(;;){const oe=["count="+w];W==-1?0<w?(W=B[0].g,oe.push("ofs="+W)):W=0:oe.push("ofs="+W);let Ke=!0;for(let _t=0;_t<w;_t++){let Fe=B[_t].g;const Rt=B[_t].map;if(Fe-=W,0>Fe)W=Math.max(0,B[_t].g-100),Ke=!1;else try{mu(Rt,oe,"req"+Fe+"_")}catch{S&&S(Rt)}}if(Ke){S=oe.join("&");break e}}}return c=c.i.splice(0,w),g.D=c,S}function ps(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Te||le(),ne||(Te(),ne=!0),fe.add(g,c),c.v=0}}function go(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Fn(I(c.Fa,c),vu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Fn(I(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Kn(this),yu(this))};function Ua(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function yu(c){c.g=new zn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=pn(c.qa);Ge(g,"RID","rpc"),Ge(g,"SID",c.K),Ge(g,"AID",c.T),Ge(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ge(g,"TO",c.ja),Ge(g,"TYPE","xmlhttp"),Vr(c,g),c.m&&c.o&&mi(g,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=di(pn(g)),w.m=null,w.P=!0,ba(w,c)}n.Za=function(){this.C!=null&&(this.C=null,Kn(this),go(this),lt(19))};function yo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function vo(c,g){var w=null;if(c.g==g){yo(c),Ua(c),c.g=null;var S=2}else if(Qt(c.h,g))w=g.D,lu(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var B=c.B;S=is(),vt(S,new no(S,w)),fr(c)}else ps(c);else if(B=g.s,B==3||B==0&&0<g.X||!(S==1&&rd(c,g)||S==2&&go(c)))switch(w&&0<w.length&&(g=c.h,g.i=g.i.concat(w)),B){case 1:jr(c,5);break;case 4:jr(c,10);break;case 3:jr(c,6);break;default:jr(c,2)}}}function vu(c,g){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*g}function jr(c,g){if(c.j.info("Error code "+g),g==2){var w=I(c.fb,c),S=c.Xa;const B=!S;S=new Dr(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||hs(S,"https"),di(S),B?ed(S.toString(),w):pu(S.toString(),w)}else lt(2);c.G=0,c.l&&c.l.sa(g),_u(c),po(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function _u(c){if(c.G=0,c.ka=[],c.l){const g=uu(c.h);(g.length!=0||c.i.length!=0)&&(x(c.ka,g),x(c.ka,c.i),c.h.i.length=0,b(c.i),c.i.length=0),c.l.ra()}}function wu(c,g,w){var S=w instanceof Dr?pn(w):new Dr(w);if(S.g!="")g&&(S.g=g+"."+S.g),ci(S,S.s);else{var B=d.location;S=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;var W=new Dr(null);S&&hs(W,S),g&&(W.g=g),B&&ci(W,B),w&&(W.l=w),S=W}return w=c.D,g=c.ya,w&&g&&Ge(S,w,g),Ge(S,"VER",c.la),Vr(c,S),S}function Eu(c,g,w){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new tt(new Or({eb:w})):new tt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ba(){}n=Ba.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function _o(){}_o.prototype.g=function(c,g){return new Jt(c,g)};function Jt(c,g){yt.call(this),this.g=new Fa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!Q(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Q(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new pr(this)}R(Jt,yt),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){bt(this.g)},Jt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Sa(c),c=w);g.i.push(new ou(g.Ya++,c)),g.G==3&&fr(g)},Jt.prototype.N=function(){this.g.l=null,delete this.j,bt(this.g),delete this.g,Jt.aa.N.call(this)};function Tu(c){lr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const w in g){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}R(Tu,lr);function Iu(){to.call(this),this.status=1}R(Iu,to);function pr(c){this.g=c}R(pr,Ba),pr.prototype.ua=function(){vt(this.g,"a")},pr.prototype.ta=function(c){vt(this.g,new Tu(c))},pr.prototype.sa=function(c){vt(this.g,new Iu)},pr.prototype.ra=function(){vt(this.g,"b")},_o.prototype.createWebChannel=_o.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,dw=function(){return new _o},hw=function(){return is()},cw=ur,np={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},io.NO_ERROR=0,io.TIMEOUT=8,io.HTTP_ERROR=6,Ac=io,nu.COMPLETE="complete",uw=nu,eo.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",yt.prototype.listen=yt.prototype.K,yl=eo,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,lw=tt}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});const kv="@firebase/firestore",Nv="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ua="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new mh("@firebase/firestore");function Bo(){return Ms.logLevel}function ce(n,...e){if(Ms.logLevel<=Oe.DEBUG){const t=e.map(qp);Ms.debug(`Firestore (${ua}): ${n}`,...t)}}function Zr(n,...e){if(Ms.logLevel<=Oe.ERROR){const t=e.map(qp);Ms.error(`Firestore (${ua}): ${n}`,...t)}}function Jo(n,...e){if(Ms.logLevel<=Oe.WARN){const t=e.map(qp);Ms.warn(`Firestore (${ua}): ${n}`,...t)}}function qp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n="Unexpected state"){const e=`FIRESTORE (${ua}) INTERNAL ASSERTION FAILED: `+n;throw Zr(e),new Error(e)}function We(n,e){n||Se()}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends or{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($t.UNAUTHENTICATED))}shutdown(){}}class DC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class OC{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Jr,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},d=f=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Jr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string"),new fw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new $t(e)}}class LC{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class VC{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new LC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jC{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ln(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){We(this.o===void 0);const i=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new bv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string"),this.R=t.token,new bv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=MC(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%62))}return i}}function je(n,e){return n<e?-1:n>e?1:0}function Yo(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=-62135596800,Ov=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Ov);return new Tt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Dv)throw new he(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ov}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Dv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Tt(0,0))}static max(){return new Ae(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="__name__";class wr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Se(),i===void 0?i=e.length-t:i>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return wr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=wr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=wr.isNumericId(e),o=wr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?wr.extractNumericId(e).compare(wr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ui.fromString(e.substring(4,e.length-2))}}class et extends wr{construct(e,t,i){return new et(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new et(t)}static emptyPath(){return new et([])}}const FC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends wr{construct(e,t,i){return new Vt(e,t,i)}static isValidIdentifier(e){return FC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Lv}static keyField(){return new Vt([Lv])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new he(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new he(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new he(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(i+=d,o++):(a(),o++)}if(a(),u)throw new he(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(t)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(et.fromString(e))}static fromName(e){return new _e(et.fromString(e).popFirst(5))}static empty(){return new _e(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=-1;function UC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(i===1e9?new Tt(t+1,0):new Tt(t,i));return new $i(o,_e.empty(),e)}function BC(n){return new $i(n.readTime,n.key,kl)}class $i{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new $i(Ae.min(),_e.empty(),kl)}static max(){return new $i(Ae.max(),_e.empty(),kl)}}function zC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==$C)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,i)=>{t(e)})}static reject(e){return new Z((t,i)=>{i(e)})}static waitFor(e){return new Z((t,i)=>{let o=0,a=0,u=!1;e.forEach(d=>{++o,d.next(()=>{++a,u&&a===o&&t()},f=>i(f))}),u=!0,a===o&&t()})}static or(e){let t=Z.resolve(!1);for(const i of e)t=t.next(o=>o?Z.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new Z((i,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(_=>{u[m]=_,++d,d===a&&i(u)},_=>o(_))}})}static doWhile(e,t){return new Z((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function HC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ha(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}vh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=-1;function _h(n){return n==null}function Hc(n){return n===0&&1/n==-1/0}function WC(n){return typeof n=="number"&&Number.isInteger(n)&&!Hc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="";function KC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Vv(e)),e=GC(n.get(t),e);return Vv(e)}function GC(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case mw:t+="";break;default:t+=a}}return t}function Vv(n){return n+mw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _c(this.root,e,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _c(this.root,e,this.comparator,!0)}}class _c{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Lt.RED,this.left=o??Lt.EMPTY,this.right=a??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Lt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Lt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Mv(this.data.getIterator())}getIteratorFrom(e){return new Mv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new It(this.comparator);return t.data=e,t}}class Mv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new wn([])}unionWith(e){let t=new It(Vt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new yw("Invalid base64 string: "+a):a}}(e);return new jt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const QC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(n){if(We(!!n),typeof n=="string"){let e=0;const t=QC.exec(n);if(We(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ct(n.seconds),nanos:ct(n.nanos)}}function ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Hi(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="server_timestamp",_w="__type__",ww="__previous_value__",Ew="__local_write_time__";function Wp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[_w])===null||t===void 0?void 0:t.stringValue)===vw}function wh(n){const e=n.mapValue.fields[ww];return Wp(e)?wh(e):e}function Nl(n){const e=qi(n.mapValue.fields[Ew].timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,t,i,o,a,u,d,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m}}const Wc="(default)";class bl{constructor(e,t){this.projectId=e,this.database=t||Wc}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(e){return e instanceof bl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="__type__",Iw="__max__",wc={mapValue:{fields:{__type__:{stringValue:Iw}}}},Sw="__vector__",Kc="value";function Wi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Wp(n)?4:XC(n)?9007199254740991:YC(n)?10:11:Se()}function Ar(n,e){if(n===e)return!0;const t=Wi(n);if(t!==Wi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Nl(n).isEqual(Nl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=qi(o.timestampValue),d=qi(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Hi(o.bytesValue).isEqual(Hi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return ct(o.geoPointValue.latitude)===ct(a.geoPointValue.latitude)&&ct(o.geoPointValue.longitude)===ct(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return ct(o.integerValue)===ct(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=ct(o.doubleValue),d=ct(a.doubleValue);return u===d?Hc(u)===Hc(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Yo(n.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(jv(u)!==jv(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Ar(u[f],d[f])))return!1;return!0}(n,e);default:return Se()}}function Dl(n,e){return(n.values||[]).find(t=>Ar(t,e))!==void 0}function Xo(n,e){if(n===e)return 0;const t=Wi(n),i=Wi(e);if(t!==i)return je(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=ct(a.integerValue||a.doubleValue),f=ct(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return Fv(n.timestampValue,e.timestampValue);case 4:return Fv(Nl(n),Nl(e));case 5:return je(n.stringValue,e.stringValue);case 6:return function(a,u){const d=Hi(a),f=Hi(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const _=je(d[m],f[m]);if(_!==0)return _}return je(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=je(ct(a.latitude),ct(u.latitude));return d!==0?d:je(ct(a.longitude),ct(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Uv(n.arrayValue,e.arrayValue);case 10:return function(a,u){var d,f,m,_;const T=a.fields||{},I=u.fields||{},P=(d=T[Kc])===null||d===void 0?void 0:d.arrayValue,R=(f=I[Kc])===null||f===void 0?void 0:f.arrayValue,b=je(((m=P==null?void 0:P.values)===null||m===void 0?void 0:m.length)||0,((_=R==null?void 0:R.values)===null||_===void 0?void 0:_.length)||0);return b!==0?b:Uv(P,R)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===wc.mapValue&&u===wc.mapValue)return 0;if(a===wc.mapValue)return 1;if(u===wc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=u.fields||{},_=Object.keys(m);f.sort(),_.sort();for(let T=0;T<f.length&&T<_.length;++T){const I=je(f[T],_[T]);if(I!==0)return I;const P=Xo(d[f[T]],m[_[T]]);if(P!==0)return P}return je(f.length,_.length)}(n.mapValue,e.mapValue);default:throw Se()}}function Fv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);const t=qi(n),i=qi(e),o=je(t.seconds,i.seconds);return o!==0?o:je(t.nanos,i.nanos)}function Uv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=Xo(t[o],i[o]);if(a)return a}return je(t.length,i.length)}function Zo(n){return rp(n)}function rp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=qi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Hi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=rp(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${rp(t.fields[u])}`;return o+"}"}(n.mapValue):Se()}function Cc(n){switch(Wi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(n);return e?16+Cc(e):16;case 5:return 2*n.stringValue.length;case 6:return Hi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Cc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Qi(i.fields,(a,u)=>{o+=a.length+Cc(u)}),o}(n.mapValue);default:throw Se()}}function Bv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ip(n){return!!n&&"integerValue"in n}function Kp(n){return!!n&&"arrayValue"in n}function zv(n){return!!n&&"nullValue"in n}function $v(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xc(n){return!!n&&"mapValue"in n}function YC(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Tw])===null||t===void 0?void 0:t.stringValue)===Sw}function Tl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Qi(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Tl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function XC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Iw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!xc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(t)}setAll(e){let t=Vt.emptyPath(),i={},o=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=d.popLast()}u?i[d.lastSegment()]=Tl(u):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());xc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];xc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Qi(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new un(Tl(this.value))}}function Rw(n){const e=[];return Qi(n.fields,(t,i)=>{const o=new Vt([t]);if(xc(i)){const a=Rw(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t,i,o,a,u,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new qt(e,0,Ae.min(),Ae.min(),Ae.min(),un.empty(),0)}static newFoundDocument(e,t,i,o){return new qt(e,1,t,Ae.min(),i,o,0)}static newNoDocument(e,t){return new qt(e,2,t,Ae.min(),Ae.min(),un.empty(),0)}static newUnknownDocument(e,t){return new qt(e,3,t,Ae.min(),Ae.min(),un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t){this.position=e,this.inclusive=t}}function qv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?i=_e.comparator(_e.fromName(u.referenceValue),t.key):i=Xo(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Hv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ar(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t="asc"){this.field=e,this.dir=t}}function ZC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{}class mt extends Aw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new tx(e,t,i):t==="array-contains"?new ix(e,i):t==="in"?new sx(e,i):t==="not-in"?new ox(e,i):t==="array-contains-any"?new ax(e,i):new mt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new nx(e,i):new rx(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Xo(t,this.value)):t!==null&&Wi(this.value)===Wi(t)&&this.matchesComparison(Xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends Aw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new nr(e,t)}matches(e){return Cw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Cw(n){return n.op==="and"}function xw(n){return ex(n)&&Cw(n)}function ex(n){for(const e of n.filters)if(e instanceof nr)return!1;return!0}function sp(n){if(n instanceof mt)return n.field.canonicalString()+n.op.toString()+Zo(n.value);if(xw(n))return n.filters.map(e=>sp(e)).join(",");{const e=n.filters.map(t=>sp(t)).join(",");return`${n.op}(${e})`}}function Pw(n,e){return n instanceof mt?function(i,o){return o instanceof mt&&i.op===o.op&&i.field.isEqual(o.field)&&Ar(i.value,o.value)}(n,e):n instanceof nr?function(i,o){return o instanceof nr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,d)=>a&&Pw(u,o.filters[d]),!0):!1}(n,e):void Se()}function kw(n){return n instanceof mt?function(t){return`${t.field.canonicalString()} ${t.op} ${Zo(t.value)}`}(n):n instanceof nr?function(t){return t.op.toString()+" {"+t.getFilters().map(kw).join(" ,")+"}"}(n):"Filter"}class tx extends mt{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class nx extends mt{constructor(e,t){super(e,"in",t),this.keys=Nw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rx extends mt{constructor(e,t){super(e,"not-in",t),this.keys=Nw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Nw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>_e.fromName(i.referenceValue))}class ix extends mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kp(t)&&Dl(t.arrayValue,this.value)}}class sx extends mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Dl(this.value.arrayValue,t)}}class ox extends mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Dl(this.value.arrayValue,t)}}class ax extends mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Dl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,t=null,i=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.le=null}}function Wv(n,e=null,t=[],i=[],o=null,a=null,u=null){return new lx(n,e,t,i,o,a,u)}function Gp(n){const e=Ce(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>sp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),_h(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Zo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Zo(i)).join(",")),e.le=t}return e.le}function Qp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ZC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Pw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Hv(n.startAt,e.startAt)&&Hv(n.endAt,e.endAt)}function op(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t=null,i=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ux(n,e,t,i,o,a,u,d){return new da(n,e,t,i,o,a,u,d)}function Eh(n){return new da(n)}function Kv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function bw(n){return n.collectionGroup!==null}function Il(n){const e=Ce(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new It(Vt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Ol(a,i))}),t.has(Vt.keyField().canonicalString())||e.he.push(new Ol(Vt.keyField(),i))}return e.he}function Er(n){const e=Ce(n);return e.Pe||(e.Pe=cx(e,Il(n))),e.Pe}function cx(n,e){if(n.limitType==="F")return Wv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Ol(o.field,a)});const t=n.endAt?new Gc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Gc(n.startAt.position,n.startAt.inclusive):null;return Wv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function ap(n,e){const t=n.filters.concat([e]);return new da(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function lp(n,e,t){return new da(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Th(n,e){return Qp(Er(n),Er(e))&&n.limitType===e.limitType}function Dw(n){return`${Gp(Er(n))}|lt:${n.limitType}`}function zo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>kw(o)).join(", ")}]`),_h(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Zo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Zo(o)).join(",")),`Target(${i})`}(Er(n))}; limitType=${n.limitType})`}function Ih(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):_e.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of Il(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(u,d,f){const m=qv(u,d,f);return u.inclusive?m<=0:m<0}(i.startAt,Il(i),o)||i.endAt&&!function(u,d,f){const m=qv(u,d,f);return u.inclusive?m>=0:m>0}(i.endAt,Il(i),o))}(n,e)}function hx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ow(n){return(e,t)=>{let i=!1;for(const o of Il(n)){const a=dx(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function dx(n,e,t){const i=n.field.isKeyField()?_e.comparator(e.key,t.key):function(a,u,d){const f=u.data.field(a),m=d.data.field(a);return f!==null&&m!==null?Xo(f,m):Se()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return gw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=new ot(_e.comparator);function ei(){return fx}const Lw=new ot(_e.comparator);function vl(...n){let e=Lw;for(const t of n)e=e.insert(t.key,t);return e}function Vw(n){let e=Lw;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ks(){return Sl()}function jw(){return Sl()}function Sl(){return new Hs(n=>n.toString(),(n,e)=>n.isEqual(e))}const px=new ot(_e.comparator),mx=new It(_e.comparator);function Le(...n){let e=mx;for(const t of n)e=e.add(t);return e}const gx=new It(je);function yx(){return gx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(e)?"-0":e}}function Mw(n){return{integerValue:""+n}}function vx(n,e){return WC(e)?Mw(e):Jp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this._=void 0}}function _x(n,e,t){return n instanceof Ll?function(o,a){const u={fields:{[_w]:{stringValue:vw},[Ew]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Wp(a)&&(a=wh(a)),a&&(u.fields[ww]=a),{mapValue:u}}(t,e):n instanceof Vl?Uw(n,e):n instanceof jl?Bw(n,e):function(o,a){const u=Fw(o,a),d=Gv(u)+Gv(o.Ie);return ip(u)&&ip(o.Ie)?Mw(d):Jp(o.serializer,d)}(n,e)}function wx(n,e,t){return n instanceof Vl?Uw(n,e):n instanceof jl?Bw(n,e):t}function Fw(n,e){return n instanceof Qc?function(i){return ip(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Ll extends Sh{}class Vl extends Sh{constructor(e){super(),this.elements=e}}function Uw(n,e){const t=zw(e);for(const i of n.elements)t.some(o=>Ar(o,i))||t.push(i);return{arrayValue:{values:t}}}class jl extends Sh{constructor(e){super(),this.elements=e}}function Bw(n,e){let t=zw(e);for(const i of n.elements)t=t.filter(o=>!Ar(o,i));return{arrayValue:{values:t}}}class Qc extends Sh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Gv(n){return ct(n.integerValue||n.doubleValue)}function zw(n){return Kp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,t){this.field=e,this.transform=t}}function Tx(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Vl&&o instanceof Vl||i instanceof jl&&o instanceof jl?Yo(i.elements,o.elements,Ar):i instanceof Qc&&o instanceof Qc?Ar(i.Ie,o.Ie):i instanceof Ll&&o instanceof Ll}(n.transform,e.transform)}class Ix{constructor(e,t){this.version=e,this.transformResults=t}}class Mn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Rh{}function $w(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Yp(n.key,Mn.none()):new ql(n.key,n.data,Mn.none());{const t=n.data,i=un.empty();let o=new It(Vt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new Ji(n.key,i,new wn(o.toArray()),Mn.none())}}function Sx(n,e,t){n instanceof ql?function(o,a,u){const d=o.value.clone(),f=Jv(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ji?function(o,a,u){if(!Pc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=Jv(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(qw(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Rl(n,e,t,i){return n instanceof ql?function(a,u,d,f){if(!Pc(a.precondition,u))return d;const m=a.value.clone(),_=Yv(a.fieldTransforms,f,u);return m.setAll(_),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ji?function(a,u,d,f){if(!Pc(a.precondition,u))return d;const m=Yv(a.fieldTransforms,f,u),_=u.data;return _.setAll(qw(a)),_.setAll(m),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(a,u,d){return Pc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function Rx(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=Fw(i.transform,o||null);a!=null&&(t===null&&(t=un.empty()),t.set(i.field,a))}return t||null}function Qv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Yo(i,o,(a,u)=>Tx(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ql extends Rh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ji extends Rh{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function qw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Jv(n,e,t){const i=new Map;We(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);i.set(a.field,wx(u,d,t[o]))}return i}function Yv(n,e,t){const i=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);i.set(o.field,_x(a,u,e))}return i}class Yp extends Rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ax extends Rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&Sx(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Rl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Rl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=jw();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const f=$w(u,d);f!==null&&i.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Ae.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,(t,i)=>Qv(t,i))&&Yo(this.baseMutations,e.baseMutations,(t,i)=>Qv(t,i))}}class Xp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){We(e.mutations.length===i.length);let o=function(){return px}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new Xp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Ue;function kx(n){switch(n){case X.OK:return Se();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Se()}}function Hw(n){if(n===void 0)return Zr("GRPC error has no .code"),X.UNKNOWN;switch(n){case pt.OK:return X.OK;case pt.CANCELLED:return X.CANCELLED;case pt.UNKNOWN:return X.UNKNOWN;case pt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case pt.INTERNAL:return X.INTERNAL;case pt.UNAVAILABLE:return X.UNAVAILABLE;case pt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case pt.NOT_FOUND:return X.NOT_FOUND;case pt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case pt.ABORTED:return X.ABORTED;case pt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case pt.DATA_LOSS:return X.DATA_LOSS;default:return Se()}}(Ue=pt||(pt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=new Ui([4294967295,4294967295],0);function Xv(n){const e=Nx().encode(n),t=new aw;return t.update(e),new Uint8Array(t.digest())}function Zv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ui([t,i],0),new Ui([o,a],0)]}class Zp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new _l(`Invalid padding: ${t}`);if(i<0)throw new _l(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new _l(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ui.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(Ui.fromNumber(i)));return o.compare(bx)===1&&(o=new Ui([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Xv(e),[i,o]=Zv(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(i,o,a);if(!this.Re(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Zp(a,o,t);return i.forEach(d=>u.insert(d)),u}insert(e){if(this.Ee===0)return;const t=Xv(e),[i,o]=Zv(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(i,o,a);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Hl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ah(Ae.min(),o,new ot(je),ei(),Le())}}class Hl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Hl(i,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class Ww{constructor(e,t){this.targetId=e,this.ge=t}}class Kw{constructor(e,t,i=jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class e_{constructor(){this.pe=0,this.ye=t_(),this.we=jt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Le(),t=Le(),i=Le();return this.ye.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Se()}}),new Hl(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=t_()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,We(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Dx{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ei(),this.$e=Ec(),this.Ke=Ec(),this.Ue=new ot(je)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const a=o.target;if(op(a))if(i===0){const u=new _e(a.path);this.ze(t,u,qt.newNoDocument(u,Ae.min()))}else We(i===1);else{const u=this.et(t);if(u!==i){const d=this.tt(e),f=d?this.nt(d,e,u):1;if(f!==0){this.Ye(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=Hi(i).toUint8Array()}catch(f){if(f instanceof yw)return Jo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Zp(u,o,a)}catch(f){return Jo(f instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Ee===0?null:d}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const u=this.ke.it(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,a,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((a,u)=>{const d=this.Xe(u);if(d){if(a.current&&op(d.target)){const f=new _e(d.target.path);this._t(f).has(u)||this.ut(u,f)||this.ze(u,f,qt.newNoDocument(f,e))}a.ve&&(t.set(u,a.Fe()),a.Me())}});let i=Le();this.Ke.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const m=this.Xe(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const o=new Ah(e,t,this.Ue,this.Qe,i);return this.Qe=ei(),this.$e=Ec(),this.Ke=Ec(),this.Ue=new ot(je),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new e_,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new It(je),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new It(je),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new e_),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Ec(){return new ot(_e.comparator)}function t_(){return new ot(_e.comparator)}const Ox={asc:"ASCENDING",desc:"DESCENDING"},Lx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vx={and:"AND",or:"OR"};class jx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function up(n,e){return n.useProto3Json||_h(e)?e:{value:e}}function Jc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Mx(n,e){return Jc(n,e.toTimestamp())}function Tr(n){return We(!!n),Ae.fromTimestamp(function(t){const i=qi(t);return new Tt(i.seconds,i.nanos)}(n))}function em(n,e){return cp(n,e).canonicalString()}function cp(n,e){const t=function(o){return new et(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Qw(n){const e=et.fromString(n);return We(eE(e)),e}function hp(n,e){return em(n.databaseId,e.path)}function Ff(n,e){const t=Qw(e);if(t.get(1)!==n.databaseId.projectId)throw new he(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(Yw(t))}function Jw(n,e){return em(n.databaseId,e)}function Fx(n){const e=Qw(n);return e.length===4?et.emptyPath():Yw(e)}function dp(n){return new et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Yw(n){return We(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function n_(n,e,t){return{name:hp(n,e),fields:t.value.mapValue.fields}}function Ux(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,_){return m.useProto3Json?(We(_===void 0||typeof _=="string"),jt.fromBase64String(_||"")):(We(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),jt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(m){const _=m.code===void 0?X.UNKNOWN:Hw(m.code);return new he(_,m.message||"")}(u);t=new Kw(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Ff(n,i.document.name),a=Tr(i.document.updateTime),u=i.document.createTime?Tr(i.document.createTime):Ae.min(),d=new un({mapValue:{fields:i.document.fields}}),f=qt.newFoundDocument(o,a,u,d),m=i.targetIds||[],_=i.removedTargetIds||[];t=new kc(m,_,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Ff(n,i.document),a=i.readTime?Tr(i.readTime):Ae.min(),u=qt.newNoDocument(o,a),d=i.removedTargetIds||[];t=new kc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Ff(n,i.document),a=i.removedTargetIds||[];t=new kc([],a,o,null)}else{if(!("filter"in e))return Se();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new Px(o,a),d=i.targetId;t=new Ww(d,u)}}return t}function Bx(n,e){let t;if(e instanceof ql)t={update:n_(n,e.key,e.value)};else if(e instanceof Yp)t={delete:hp(n,e.key)};else if(e instanceof Ji)t={update:n_(n,e.key,e.data),updateMask:Jx(e.fieldMask)};else{if(!(e instanceof Ax))return Se();t={verify:hp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const d=u.transform;if(d instanceof Ll)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Vl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof jl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Qc)return{fieldPath:u.field.canonicalString(),increment:d.Ie};throw Se()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:Mx(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se()}(n,e.precondition)),t}function zx(n,e){return n&&n.length>0?(We(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?Tr(o.updateTime):Tr(a);return u.isEqual(Ae.min())&&(u=Tr(a)),new Ix(u,o.transformResults||[])}(t,e))):[]}function $x(n,e){return{documents:[Jw(n,e.path)]}}function qx(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Jw(n,o);const a=function(m){if(m.length!==0)return Zw(nr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(_=>function(I){return{field:$o(I.field),direction:Kx(I.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=up(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:o}}function Hx(n){let e=Fx(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){We(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(T){const I=Xw(T);return I instanceof nr&&xw(I)?I.getFilters():[I]}(t.where));let u=[];t.orderBy&&(u=function(T){return T.map(I=>function(R){return new Ol(qo(R.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(I))}(t.orderBy));let d=null;t.limit&&(d=function(T){let I;return I=typeof T=="object"?T.value:T,_h(I)?null:I}(t.limit));let f=null;t.startAt&&(f=function(T){const I=!!T.before,P=T.values||[];return new Gc(P,I)}(t.startAt));let m=null;return t.endAt&&(m=function(T){const I=!T.before,P=T.values||[];return new Gc(P,I)}(t.endAt)),ux(e,o,u,a,d,"F",f,m)}function Wx(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Xw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=qo(t.unaryFilter.field);return mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=qo(t.unaryFilter.field);return mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=qo(t.unaryFilter.field);return mt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=qo(t.unaryFilter.field);return mt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(n):n.fieldFilter!==void 0?function(t){return mt.create(qo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return nr.create(t.compositeFilter.filters.map(i=>Xw(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(n):Se()}function Kx(n){return Ox[n]}function Gx(n){return Lx[n]}function Qx(n){return Vx[n]}function $o(n){return{fieldPath:n.canonicalString()}}function qo(n){return Vt.fromServerFormat(n.fieldPath)}function Zw(n){return n instanceof mt?function(t){if(t.op==="=="){if($v(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NAN"}};if(zv(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($v(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NOT_NAN"}};if(zv(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$o(t.field),op:Gx(t.op),value:t.value}}}(n):n instanceof nr?function(t){const i=t.getFilters().map(o=>Zw(o));return i.length===1?i[0]:{compositeFilter:{op:Qx(t.op),filters:i}}}(n):Se()}function Jx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function eE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,t,i,o,a=Ae.min(),u=Ae.min(),d=jt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.Tt=e}}function Xx(n){const e=Hx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this.Tn=new eP}addToCollectionParentIndex(e,t){return this.Tn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve($i.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve($i.min())}updateCollectionGroup(e,t,i){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class eP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new It(et.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new It(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tE=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(tE,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ea(0)}static Un(){return new ea(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="LruGarbageCollector",tP=1048576;function s_([n,e],[t,i]){const o=je(n,t);return o===0?je(e,i):o}class nP{constructor(e){this.Hn=e,this.buffer=new It(s_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();s_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(i_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ha(t)?ce(i_,"Ignoring IndexedDB error during garbage collection: ",t):await ca(t)}await this.er(3e5)})}}class iP{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(vh.ae);const i=new nP(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(r_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r_):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,a,u,d,f,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,u=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(a=T,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(m=Date.now(),Bo()<=Oe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${T} documents in `+(m-f)+`ms
Total Duration: ${m-_}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:T})))}}function sP(n,e){return new iP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.changes=new Hs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Z.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Rl(i.mutation,o,wn.empty(),Tt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Le()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Le()){const o=ks();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let u=vl();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=ks();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Le()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,i,o){let a=ei();const u=Sl(),d=function(){return Sl()}();return t.forEach((f,m)=>{const _=i.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof Ji)?a=a.insert(m.key,m):_!==void 0?(u.set(m.key,_.mutation.getFieldMask()),Rl(_.mutation,m,_.mutation.getFieldMask(),Tt.now())):u.set(m.key,wn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,_)=>u.set(m,_)),t.forEach((m,_)=>{var T;return d.set(m,new aP(_,(T=u.get(m))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Sl();let o=new ot((u,d)=>u-d),a=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let _=i.get(f)||wn.empty();_=d.applyToLocalView(m,_),i.set(f,_);const T=(o.get(d.batchId)||Le()).add(f);o=o.insert(d.batchId,T)})}).next(()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,_=f.value,T=jw();_.forEach(I=>{if(!a.has(I)){const P=$w(t.get(I),i.get(I));P!==null&&T.set(I,P),a=a.add(I)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,T))}return Z.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):Z.resolve(ks());let d=kl,f=a;return u.next(m=>Z.forEach(m,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),a.get(_)?Z.resolve():this.remoteDocumentCache.getEntry(e,_).next(I=>{f=f.insert(_,I)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,Le())).next(_=>({batchId:d,changes:Vw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(i=>{let o=vl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let u=vl();return this.indexManager.getCollectionParents(e,a).next(d=>Z.forEach(d,f=>{const m=function(T,I){return new da(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next(_=>{_.forEach((T,I)=>{u=u.insert(T,I)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(u=>{a.forEach((f,m)=>{const _=m.getKey();u.get(_)===null&&(u=u.insert(_,qt.newInvalidDocument(_)))});let d=vl();return u.forEach((f,m)=>{const _=a.get(f);_!==void 0&&Rl(_.mutation,m,wn.empty(),Tt.now()),Ih(t,m)&&(d=d.insert(f,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Z.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Tr(o.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:Xx(o.bundledQuery),readTime:Tr(o.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.overlays=new ot(_e.comparator),this.Rr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ks();return Z.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Et(e,t,a)}),Z.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),Z.resolve()}getOverlaysForCollection(e,t,i){const o=ks(),a=t.length+1,u=new _e(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new ot((m,_)=>m-_);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let _=a.get(m.largestBatchId);_===null&&(_=ks(),a=a.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const d=ks(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,_)=>d.set(m,_)),!(d.size()>=o)););return Z.resolve(d)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new xx(t,i));let a=this.Rr.get(t);a===void 0&&(a=Le(),this.Rr.set(t,a)),this.Rr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(){this.Vr=new It(Pt.mr),this.gr=new It(Pt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Pt(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Pt(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new _e(new et([])),i=new Pt(t,e),o=new Pt(t,e+1),a=[];return this.gr.forEachInRange([i,o],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new et([])),i=new Pt(t,e),o=new Pt(t,e+1);let a=Le();return this.gr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Pt(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||je(e.Cr,t.Cr)}static pr(e,t){return je(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new It(Pt.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Cx(a,t,i,o);this.mutationQueue.push(u);for(const d of o)this.Mr=this.Mr.add(new Pt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(u)}lookupMutationBatch(e,t){return Z.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),a=o<0?0:o;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Hp:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Pt(t,0),o=new Pt(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,o],u=>{const d=this.Or(u.Cr);a.push(d)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new It(je);return t.forEach(o=>{const a=new Pt(o,0),u=new Pt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],d=>{i=i.add(d.Cr)})}),Z.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;_e.isDocumentKey(a)||(a=a.child(""));const u=new Pt(new _e(a),0);let d=new It(je);return this.Mr.forEachWhile(f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(d=d.add(f.Cr)),!0)},u),Z.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){We(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return Z.forEach(t.mutations,o=>{const a=new Pt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Pt(t,0),o=this.Mr.firstAfterOrEqual(i);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.kr=e,this.docs=function(){return new ot(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,u=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Z.resolve(i?i.document.mutableCopy():qt.newInvalidDocument(t))}getEntries(e,t){let i=ei();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():qt.newInvalidDocument(o))}),Z.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=ei();const u=t.path,d=new _e(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:_}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||zC(BC(_),i)<=0||(o.has(_.key)||Ih(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Se()}qr(e,t){return Z.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new pP(this)}getSize(e){return Z.resolve(this.size)}}class pP extends oP{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),Z.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.persistence=e,this.Qr=new Hs(t=>Gp(t),Qp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.$r=0,this.Kr=new tm,this.targetCount=0,this.Ur=ea.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),Z.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new ea(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.zn(t),Z.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Qr.forEach((u,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Z.waitFor(a).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return Z.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),Z.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),Z.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return Z.resolve(i)}containsKey(e,t){return Z.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new vh(0),this.zr=!1,this.zr=!0,this.jr=new hP,this.referenceDelegate=e(this),this.Hr=new mP(this),this.indexManager=new Zx,this.remoteDocumentCache=function(o){return new fP(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new Yx(t),this.Yr=new uP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new dP(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){ce("MemoryPersistence","Starting transaction:",e);const o=new gP(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(a=>this.referenceDelegate.Xr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}ei(e,t){return Z.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class gP extends qC{constructor(e){super(),this.currentSequenceNumber=e}}class nm{constructor(e){this.persistence=e,this.ti=new tm,this.ni=null}static ri(e){return new nm(e)}get ii(){if(this.ni)return this.ni;throw Se()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),Z.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Z.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,i=>{const o=_e.fromPath(i);return this.si(e,o).next(a=>{a||t.removeEntry(o,Ae.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Z.or([()=>Z.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Yc{constructor(e,t){this.persistence=e,this.oi=new Hs(i=>KC(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=sP(this,t)}static ri(e,t){return new Yc(e,t)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return Z.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(a=>a?Z.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.qr(e,u=>this.ar(e,u,t).next(d=>{d||(i++,a.removeEntry(u,Ae.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Cc(e.data.value)),t}ar(e,t,i){return Z.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return Z.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=Le(),o=Le();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new rm(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return HS()?8:HC(Gt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,t,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new yP;return this._s(e,t,u).next(d=>{if(a.result=d,this.Xi)return this.us(e,t,u,d.size)})}).next(()=>a.result)}us(e,t,i,o){return i.documentReadCount<this.es?(Bo()<=Oe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(Bo()<=Oe.DEBUG&&ce("QueryEngine","Query:",zo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(Bo()<=Oe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(t))):Z.resolve())}rs(e,t){if(Kv(t))return Z.resolve(null);let i=Er(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=lp(t,null,"F"),i=Er(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Le(...a);return this.ns.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const m=this.cs(t,d);return this.ls(t,m,u,f.readTime)?this.rs(e,lp(t,null,"F")):this.hs(e,m,t,f)}))})))}ss(e,t,i,o){return Kv(t)||o.isEqual(Ae.min())?Z.resolve(null):this.ns.getDocuments(e,i).next(a=>{const u=this.cs(t,a);return this.ls(t,u,i,o)?Z.resolve(null):(Bo()<=Oe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),zo(t)),this.hs(e,u,t,UC(o,kl)).next(d=>d))})}cs(e,t){let i=new It(Ow(e));return t.forEach((o,a)=>{Ih(e,a)&&(i=i.add(a))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}_s(e,t,i){return Bo()<=Oe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",zo(t)),this.ns.getDocumentsMatchingQuery(e,t,$i.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="LocalStore",_P=3e8;class wP{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new ot(je),this.Is=new Hs(a=>Gp(a),Qp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function EP(n,e,t,i){return new wP(n,e,t,i)}async function rE(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],d=[];let f=Le();for(const m of o){u.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}for(const m of a){d.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}return t.localDocuments.getDocuments(i,f).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:d}))})})}function TP(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,f,m,_){const T=m.batch,I=T.keys();let P=Z.resolve();return I.forEach(R=>{P=P.next(()=>_.getEntry(f,R)).next(b=>{const x=m.docVersions.get(R);We(x!==null),b.version.compareTo(x)<0&&(T.applyToRemoteDocument(b,m),b.isValidDocument()&&(b.setReadTime(m.commitVersion),_.addEntry(b)))})}),P.next(()=>d.mutationQueue.removeMutationBatch(f,T))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let f=Le();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function iE(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function IP(n,e){const t=Ce(n),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((_,T)=>{const I=o.get(T);if(!I)return;d.push(t.Hr.removeMatchingKeys(a,_.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(a,_.addedDocuments,T)));let P=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(T)!==null?P=P.withResumeToken(jt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):_.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(_.resumeToken,i)),o=o.insert(T,P),function(b,x,$){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=_P?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(I,P,_)&&d.push(t.Hr.updateTargetData(a,P))});let f=ei(),m=Le();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),d.push(SP(a,u,e.documentUpdates).next(_=>{f=_.Vs,m=_.fs})),!i.isEqual(Ae.min())){const _=t.Hr.getLastRemoteSnapshotVersion(a).next(T=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(_)}return Z.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.Ts=o,a))}function SP(n,e,t){let i=Le(),o=Le();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=ei();return t.forEach((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Ae.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):ce(im,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{Vs:u,fs:o}})}function RP(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Hp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function AP(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(a=>a?(o=a,Z.resolve(o)):t.Hr.allocateTargetId(i).next(u=>(o=new Vi(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function fp(n,e,t){const i=Ce(n),o=i.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!ha(u))throw u;ce(im,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function o_(n,e,t){const i=Ce(n);let o=Ae.min(),a=Le();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,_){const T=Ce(f),I=T.Is.get(_);return I!==void 0?Z.resolve(T.Ts.get(I)):T.Hr.getTargetData(m,_)}(i,u,Er(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(u,e,t?o:Ae.min(),t?a:Le())).next(d=>(CP(i,hx(e),d),{documents:d,gs:a})))}function CP(n,e,t){let i=n.Es.get(e)||Ae.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Es.set(e,i)}class a_{constructor(){this.activeTargetIds=yx()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xP{constructor(){this.ho=new a_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new a_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="ConnectivityMonitor";class u_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(l_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(l_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=null;function pp(){return Tc===null?Tc=function(){return 268435456+Math.round(2147483648*Math.random())}():Tc++,"0x"+Tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="RestConnection",kP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NP{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===Wc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}So(e,t,i,o,a){const u=pp(),d=this.bo(e,t.toUriEncodedString());ce(Uf,`Sending RPC '${e}' ${u}:`,d,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,o,a),this.vo(e,d,f,i).then(m=>(ce(Uf,`Received RPC '${e}' ${u}: `,m),m),m=>{throw Jo(Uf,`RPC '${e}' ${u} failed with error: `,m,"url: ",d,"request:",i),m})}Co(e,t,i,o,a,u){return this.So(e,t,i,o,a)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ua}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}bo(e,t){const i=kP[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class DP extends NP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const a=pp();return new Promise((u,d)=>{const f=new lw;f.setWithCredentials(!0),f.listenOnce(uw.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Ac.NO_ERROR:const _=f.getResponseJson();ce(zt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),u(_);break;case Ac.TIMEOUT:ce(zt,`RPC '${e}' ${a} timed out`),d(new he(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:const T=f.getStatus();if(ce(zt,`RPC '${e}' ${a} failed with status:`,T,"response text:",f.getResponseText()),T>0){let I=f.getResponseJson();Array.isArray(I)&&(I=I[0]);const P=I==null?void 0:I.error;if(P&&P.status&&P.message){const R=function(x){const $=x.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf($)>=0?$:X.UNKNOWN}(P.status);d(new he(R,P.message))}else d(new he(X.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new he(X.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{ce(zt,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);ce(zt,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",m,i,15)})}Wo(e,t,i){const o=pp(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=dw(),d=hw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const _=a.join("");ce(zt,`Creating RPC '${e}' stream ${o}: ${_}`,f);const T=u.createWebChannel(_,f);let I=!1,P=!1;const R=new bP({Fo:x=>{P?ce(zt,`Not sending because RPC '${e}' stream ${o} is closed:`,x):(I||(ce(zt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),I=!0),ce(zt,`RPC '${e}' stream ${o} sending:`,x),T.send(x))},Mo:()=>T.close()}),b=(x,$,Q)=>{x.listen($,K=>{try{Q(K)}catch(J){setTimeout(()=>{throw J},0)}})};return b(T,yl.EventType.OPEN,()=>{P||(ce(zt,`RPC '${e}' stream ${o} transport opened.`),R.Qo())}),b(T,yl.EventType.CLOSE,()=>{P||(P=!0,ce(zt,`RPC '${e}' stream ${o} transport closed`),R.Ko())}),b(T,yl.EventType.ERROR,x=>{P||(P=!0,Jo(zt,`RPC '${e}' stream ${o} transport errored:`,x),R.Ko(new he(X.UNAVAILABLE,"The operation could not be completed")))}),b(T,yl.EventType.MESSAGE,x=>{var $;if(!P){const Q=x.data[0];We(!!Q);const K=Q,J=(K==null?void 0:K.error)||(($=K[0])===null||$===void 0?void 0:$.error);if(J){ce(zt,`RPC '${e}' stream ${o} received error:`,J);const ie=J.status;let ae=function(k){const O=pt[k];if(O!==void 0)return Hw(O)}(ie),D=J.message;ae===void 0&&(ae=X.INTERNAL,D="Unknown error status: "+ie+" with message "+J.message),P=!0,R.Ko(new he(ae,D)),T.close()}else ce(zt,`RPC '${e}' stream ${o} received:`,Q),R.Uo(Q)}}),b(d,cw.STAT_EVENT,x=>{x.stat===np.PROXY?ce(zt,`RPC '${e}' stream ${o} detected buffering proxy`):x.stat===np.NOPROXY&&ce(zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{R.$o()},0),R}}function Bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(n){return new jx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,t,i=1e3,o=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="PersistentStream";class oE{constructor(e,t,i,o,a,u,d,f){this.Ti=e,this.n_=i,this.r_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new sE(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Zr(t.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new he(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(c_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ce(c_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OP extends oE{constructor(e,t,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Ux(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ae.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?Tr(u.readTime):Ae.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=dp(this.serializer),t.addTarget=function(a,u){let d;const f=u.target;if(d=op(f)?{documents:$x(a,f)}:{query:qx(a,f).ht},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=Gw(a,u.resumeToken);const m=up(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ae.min())>0){d.readTime=Jc(a,u.snapshotVersion.toTimestamp());const m=up(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const i=Wx(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=dp(this.serializer),t.removeTarget=e,this.I_(t)}}class LP extends oE{constructor(e,t,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=zx(e.writeResults,e.commitTime),i=Tr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=dp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Bx(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{}class jP extends VP{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new he(X.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.So(e,cp(t,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new he(X.UNKNOWN,a.toString())})}Co(e,t,i,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Co(e,cp(t,i),o,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(X.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class MP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Zr(t),this.N_=!1):ce("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="RemoteStore";class FP{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{i.enqueueAndForget(async()=>{Ws(this)&&(ce(Fs,"Restarting streams for network reachability change."),await async function(f){const m=Ce(f);m.W_.add(4),await Wl(m),m.j_.set("Unknown"),m.W_.delete(4),await xh(m)}(this))})}),this.j_=new MP(i,o)}}async function xh(n){if(Ws(n))for(const e of n.G_)await e(!0)}async function Wl(n){for(const e of n.G_)await e(!1)}function aE(n,e){const t=Ce(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),lm(t)?am(t):fa(t).c_()&&om(t,e))}function sm(n,e){const t=Ce(n),i=fa(t);t.U_.delete(e),i.c_()&&lE(t,e),t.U_.size===0&&(i.c_()?i.P_():Ws(t)&&t.j_.set("Unknown"))}function om(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fa(n).y_(e)}function lE(n,e){n.H_.Ne(e),fa(n).w_(e)}function am(n){n.H_=new Dx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),fa(n).start(),n.j_.B_()}function lm(n){return Ws(n)&&!fa(n).u_()&&n.U_.size>0}function Ws(n){return Ce(n).W_.size===0}function uE(n){n.H_=void 0}async function UP(n){n.j_.set("Online")}async function BP(n){n.U_.forEach((e,t)=>{om(n,e)})}async function zP(n,e){uE(n),lm(n)?(n.j_.q_(e),am(n)):n.j_.set("Unknown")}async function $P(n,e,t){if(n.j_.set("Online"),e instanceof Kw&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const d of a.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.U_.delete(d),o.H_.removeTarget(d))}(n,e)}catch(i){ce(Fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Xc(n,i)}else if(e instanceof kc?n.H_.We(e):e instanceof Ww?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ae.min()))try{const i=await iE(n.localStore);t.compareTo(i)>=0&&await function(a,u){const d=a.H_.ot(u);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const _=a.U_.get(m);_&&a.U_.set(m,_.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,m)=>{const _=a.U_.get(f);if(!_)return;a.U_.set(f,_.withResumeToken(jt.EMPTY_BYTE_STRING,_.snapshotVersion)),lE(a,f);const T=new Vi(_.target,f,m,_.sequenceNumber);om(a,T)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ce(Fs,"Failed to raise snapshot:",i),await Xc(n,i)}}async function Xc(n,e,t){if(!ha(e))throw e;n.W_.add(1),await Wl(n),n.j_.set("Offline"),t||(t=()=>iE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce(Fs,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await xh(n)})}function cE(n,e){return e().catch(t=>Xc(n,t,e))}async function Ph(n){const e=Ce(n),t=Ki(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:Hp;for(;qP(e);)try{const o=await RP(e.localStore,i);if(o===null){e.K_.length===0&&t.P_();break}i=o.batchId,HP(e,o)}catch(o){await Xc(e,o)}hE(e)&&dE(e)}function qP(n){return Ws(n)&&n.K_.length<10}function HP(n,e){n.K_.push(e);const t=Ki(n);t.c_()&&t.S_&&t.b_(e.mutations)}function hE(n){return Ws(n)&&!Ki(n).u_()&&n.K_.length>0}function dE(n){Ki(n).start()}async function WP(n){Ki(n).C_()}async function KP(n){const e=Ki(n);for(const t of n.K_)e.b_(t.mutations)}async function GP(n,e,t){const i=n.K_.shift(),o=Xp.from(i,e,t);await cE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Ph(n)}async function QP(n,e){e&&Ki(n).S_&&await async function(i,o){if(function(u){return kx(u)&&u!==X.ABORTED}(o.code)){const a=i.K_.shift();Ki(i).h_(),await cE(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Ph(i)}}(n,e),hE(n)&&dE(n)}async function h_(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),ce(Fs,"RemoteStore received new credentials");const i=Ws(t);t.W_.add(3),await Wl(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await xh(t)}async function JP(n,e){const t=Ce(n);e?(t.W_.delete(2),await xh(t)):e||(t.W_.add(2),await Wl(t),t.j_.set("Unknown"))}function fa(n){return n.J_||(n.J_=function(t,i,o){const a=Ce(t);return a.M_(),new OP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:UP.bind(null,n),No:BP.bind(null,n),Lo:zP.bind(null,n),p_:$P.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),lm(n)?am(n):n.j_.set("Unknown")):(await n.J_.stop(),uE(n))})),n.J_}function Ki(n){return n.Y_||(n.Y_=function(t,i,o){const a=Ce(t);return a.M_(),new LP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:WP.bind(null,n),Lo:QP.bind(null,n),D_:KP.bind(null,n),v_:GP.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Ph(n)):(await n.Y_.stop(),n.K_.length>0&&(ce(Fs,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const u=Date.now()+i,d=new um(e,t,u,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cm(n,e){if(Zr("AsyncQueue",`${e}: ${n}`),ha(n))return new he(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{static emptySet(e){return new Wo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=vl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Wo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(){this.Z_=new ot(_e.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Se():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ta{constructor(e,t,i,o,a,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new ta(e,t,Wo.emptySet(t),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class XP{constructor(){this.queries=f_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=Ce(t),a=o.queries;o.queries=f_(),a.forEach((u,d)=>{for(const f of d.ta)f.onError(i)})})(this,new he(X.ABORTED,"Firestore shutting down"))}}function f_(){return new Hs(n=>Dw(n),Th)}async function hm(n,e){const t=Ce(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.na()&&e.ra()&&(i=2):(a=new YP,i=e.ra()?0:1);try{switch(i){case 0:a.ea=await t.onListen(o,!0);break;case 1:a.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=cm(u,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&fm(t)}async function dm(n,e){const t=Ce(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?o=e.ra()?0:1:!a.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function ZP(n,e){const t=Ce(n);let i=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.ta)d.oa(o)&&(i=!0);u.ea=o}}i&&fm(t)}function ek(n,e,t){const i=Ce(n),o=i.queries.get(e);if(o)for(const a of o.ta)a.onError(t);i.queries.delete(e)}function fm(n){n.ia.forEach(e=>{e.next()})}var mp,p_;(p_=mp||(mp={}))._a="default",p_.Cache="cache";class pm{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ta(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){this.key=e}}class pE{constructor(e){this.key=e}}class tk{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=Ow(e),this.wa=new Wo(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new d_,o=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,T)=>{const I=o.get(_),P=Ih(this.query,T)?T:null,R=!!I&&this.mutatedKeys.has(I.key),b=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let x=!1;I&&P?I.data.isEqual(P.data)?R!==b&&(i.track({type:3,doc:P}),x=!0):this.va(I,P)||(i.track({type:2,doc:P}),x=!0,(f&&this.ya(P,f)>0||m&&this.ya(P,m)<0)&&(d=!0)):!I&&P?(i.track({type:0,doc:P}),x=!0):I&&!P&&(i.track({type:1,doc:I}),x=!0,(f||m)&&(d=!0)),x&&(P?(u=u.add(P),a=b?a.add(_):a.delete(_)):(u=u.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{wa:u,Da:i,ls:d,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((_,T)=>function(P,R){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return b(P)-b(R)}(_.type,T.type)||this.ya(_.doc,T.doc)),this.Ca(i),o=o!=null&&o;const d=t&&!o?this.Fa():[],f=this.pa.size===0&&this.current&&!o?1:0,m=f!==this.ga;return this.ga=f,u.length!==0||m?{snapshot:new ta(this.query,e.wa,a,u,e.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new d_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new pE(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new fE(i))}),t}Oa(e){this.fa=e.gs,this.pa=Le();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ta.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const mm="SyncEngine";class nk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class rk{constructor(e){this.key=e,this.Ba=!1}}class ik{constructor(e,t,i,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Hs(d=>Dw(d),Th),this.qa=new Map,this.Qa=new Set,this.$a=new ot(_e.comparator),this.Ka=new Map,this.Ua=new tm,this.Wa={},this.Ga=new Map,this.za=ea.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function sk(n,e,t=!0){const i=wE(n);let o;const a=i.ka.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await mE(i,e,t,!0),o}async function ok(n,e){const t=wE(n);await mE(t,e,!0,!1)}async function mE(n,e,t,i){const o=await AP(n.localStore,Er(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await ak(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&aE(n.remoteStore,o),d}async function ak(n,e,t,i,o){n.Ha=(T,I,P)=>async function(b,x,$,Q){let K=x.view.ba($);K.ls&&(K=await o_(b.localStore,x.query,!1).then(({documents:D})=>x.view.ba(D,K)));const J=Q&&Q.targetChanges.get(x.targetId),ie=Q&&Q.targetMismatches.get(x.targetId)!=null,ae=x.view.applyChanges(K,b.isPrimaryClient,J,ie);return g_(b,x.targetId,ae.Ma),ae.snapshot}(n,T,I,P);const a=await o_(n.localStore,e,!0),u=new tk(e,a.gs),d=u.ba(a.documents),f=Hl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=u.applyChanges(d,n.isPrimaryClient,f);g_(n,t,m.Ma);const _=new nk(e,t,u);return n.ka.set(e,_),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function lk(n,e,t){const i=Ce(n),o=i.ka.get(e),a=i.qa.get(o.targetId);if(a.length>1)return i.qa.set(o.targetId,a.filter(u=>!Th(u,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await fp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&sm(i.remoteStore,o.targetId),gp(i,o.targetId)}).catch(ca)):(gp(i,o.targetId),await fp(i.localStore,o.targetId,!0))}async function uk(n,e){const t=Ce(n),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),sm(t.remoteStore,i.targetId))}async function ck(n,e,t){const i=yk(n);try{const o=await function(u,d){const f=Ce(u),m=Tt.now(),_=d.reduce((P,R)=>P.add(R.key),Le());let T,I;return f.persistence.runTransaction("Locally write mutations","readwrite",P=>{let R=ei(),b=Le();return f.ds.getEntries(P,_).next(x=>{R=x,R.forEach(($,Q)=>{Q.isValidDocument()||(b=b.add($))})}).next(()=>f.localDocuments.getOverlayedDocuments(P,R)).next(x=>{T=x;const $=[];for(const Q of d){const K=Rx(Q,T.get(Q.key).overlayedDocument);K!=null&&$.push(new Ji(Q.key,K,Rw(K.value.mapValue),Mn.exists(!0)))}return f.mutationQueue.addMutationBatch(P,m,$,d)}).next(x=>{I=x;const $=x.applyToLocalDocumentSet(T,b);return f.documentOverlayCache.saveOverlays(P,x.batchId,$)})}).then(()=>({batchId:I.batchId,changes:Vw(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,d,f){let m=u.Wa[u.currentUser.toKey()];m||(m=new ot(je)),m=m.insert(d,f),u.Wa[u.currentUser.toKey()]=m}(i,o.batchId,t),await Kl(i,o.changes),await Ph(i.remoteStore)}catch(o){const a=cm(o,"Failed to persist write");t.reject(a)}}async function gE(n,e){const t=Ce(n);try{const i=await IP(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ka.get(a);u&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Ba=!0:o.modifiedDocuments.size>0?We(u.Ba):o.removedDocuments.size>0&&(We(u.Ba),u.Ba=!1))}),await Kl(t,i,e)}catch(i){await ca(i)}}function m_(n,e,t){const i=Ce(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((a,u)=>{const d=u.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(u,d){const f=Ce(u);f.onlineState=d;let m=!1;f.queries.forEach((_,T)=>{for(const I of T.ta)I.sa(d)&&(m=!0)}),m&&fm(f)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function hk(n,e,t){const i=Ce(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ka.get(e),a=o&&o.key;if(a){let u=new ot(_e.comparator);u=u.insert(a,qt.newNoDocument(a,Ae.min()));const d=Le().add(a),f=new Ah(Ae.min(),new Map,new ot(je),u,d);await gE(i,f),i.$a=i.$a.remove(a),i.Ka.delete(e),gm(i)}else await fp(i.localStore,e,!1).then(()=>gp(i,e,t)).catch(ca)}async function dk(n,e){const t=Ce(n),i=e.batch.batchId;try{const o=await TP(t.localStore,e);vE(t,i,null),yE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Kl(t,o)}catch(o){await ca(o)}}async function fk(n,e,t){const i=Ce(n);try{const o=await function(u,d){const f=Ce(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return f.mutationQueue.lookupMutationBatch(m,d).next(T=>(We(T!==null),_=T.keys(),f.mutationQueue.removeMutationBatch(m,T))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,_,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>f.localDocuments.getDocuments(m,_))})}(i.localStore,e);vE(i,e,t),yE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Kl(i,o)}catch(o){await ca(o)}}function yE(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function vE(n,e,t){const i=Ce(n);let o=i.Wa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function gp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||_E(n,i)})}function _E(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(sm(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),gm(n))}function g_(n,e,t){for(const i of t)i instanceof fE?(n.Ua.addReference(i.key,e),pk(n,i)):i instanceof pE?(ce(mm,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||_E(n,i.key)):Se()}function pk(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(ce(mm,"New document in limbo: "+t),n.Qa.add(i),gm(n))}function gm(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(et.fromString(e)),i=n.za.next();n.Ka.set(i,new rk(t)),n.$a=n.$a.insert(t,i),aE(n.remoteStore,new Vi(Er(Eh(t.path)),i,"TargetPurposeLimboResolution",vh.ae))}}async function Kl(n,e,t){const i=Ce(n),o=[],a=[],u=[];i.ka.isEmpty()||(i.ka.forEach((d,f)=>{u.push(i.Ha(f,e,t).then(m=>{var _;if((m||t)&&i.isPrimaryClient){const T=m?!m.fromCache:(_=t==null?void 0:t.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(f.targetId,T?"current":"not-current")}if(m){o.push(m);const T=rm.Yi(f.targetId,m);a.push(T)}}))}),await Promise.all(u),i.La.p_(o),await async function(f,m){const _=Ce(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Z.forEach(m,I=>Z.forEach(I.Hi,P=>_.persistence.referenceDelegate.addReference(T,I.targetId,P)).next(()=>Z.forEach(I.Ji,P=>_.persistence.referenceDelegate.removeReference(T,I.targetId,P)))))}catch(T){if(!ha(T))throw T;ce(im,"Failed to update sequence numbers: "+T)}for(const T of m){const I=T.targetId;if(!T.fromCache){const P=_.Ts.get(I),R=P.snapshotVersion,b=P.withLastLimboFreeSnapshotVersion(R);_.Ts=_.Ts.insert(I,b)}}}(i.localStore,a))}async function mk(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){ce(mm,"User change. New user:",e.toKey());const i=await rE(t.localStore,e);t.currentUser=e,function(a,u){a.Ga.forEach(d=>{d.forEach(f=>{f.reject(new he(X.CANCELLED,u))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Kl(t,i.Rs)}}function gk(n,e){const t=Ce(n),i=t.Ka.get(e);if(i&&i.Ba)return Le().add(i.key);{let o=Le();const a=t.qa.get(e);if(!a)return o;for(const u of a){const d=t.ka.get(u);o=o.unionWith(d.view.Sa)}return o}}function wE(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=gE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hk.bind(null,e),e.La.p_=ZP.bind(null,e.eventManager),e.La.Ja=ek.bind(null,e.eventManager),e}function yk(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fk.bind(null,e),e}class Zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return EP(this.persistence,new vP,e.initialUser,this.serializer)}Xa(e){return new nE(nm.ri,this.serializer)}Za(e){return new xP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zc.provider={build:()=>new Zc};class vk extends Zc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){We(this.persistence.referenceDelegate instanceof Yc);const i=this.persistence.referenceDelegate.garbageCollector;return new rP(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new nE(i=>Yc.ri(i,t),this.serializer)}}class yp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>m_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=mk.bind(null,this.syncEngine),await JP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XP}()}createDatastore(e){const t=Ch(e.databaseInfo.databaseId),i=function(a){return new DP(a)}(e.databaseInfo);return function(a,u,d,f){return new jP(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,u,d){return new FP(i,o,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>m_(this.syncEngine,t,0),function(){return u_.D()?new u_:new PP}())}createSyncEngine(e,t){return function(o,a,u,d,f,m,_){const T=new ik(o,a,u,d,f,m);return _&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Ce(o);ce(Fs,"RemoteStore shutting down."),a.W_.add(5),await Wl(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}yp.provider={build:()=>new yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="FirestoreClient";class _k{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=pw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{ce(Gi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ce(Gi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=cm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function zf(n,e){n.asyncQueue.verifyOperationInProgress(),ce(Gi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await rE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function y_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await wk(n);ce(Gi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>h_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>h_(e.remoteStore,o)),n._onlineComponents=e}async function wk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(Gi,"Using user provided OfflineComponentProvider");try{await zf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Jo("Error using user provided cache. Falling back to memory cache: "+t),await zf(n,new Zc)}}else ce(Gi,"Using default OfflineComponentProvider"),await zf(n,new vk(void 0));return n._offlineComponents}async function EE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(Gi,"Using user provided OnlineComponentProvider"),await y_(n,n._uninitializedComponentsProvider._online)):(ce(Gi,"Using default OnlineComponentProvider"),await y_(n,new yp))),n._onlineComponents}function Ek(n){return EE(n).then(e=>e.syncEngine)}async function eh(n){const e=await EE(n),t=e.eventManager;return t.onListen=sk.bind(null,e.syncEngine),t.onUnlisten=lk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ok.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=uk.bind(null,e.syncEngine),t}function Tk(n,e,t={}){const i=new Jr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,m){const _=new ym({next:I=>{_.su(),u.enqueueAndForget(()=>dm(a,T));const P=I.docs.has(d);!P&&I.fromCache?m.reject(new he(X.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&I.fromCache&&f&&f.source==="server"?m.reject(new he(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(I)},error:I=>m.reject(I)}),T=new pm(Eh(d.path),_,{includeMetadataChanges:!0,Ta:!0});return hm(a,T)}(await eh(n),n.asyncQueue,e,t,i)),i.promise}function Ik(n,e,t={}){const i=new Jr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,m){const _=new ym({next:I=>{_.su(),u.enqueueAndForget(()=>dm(a,T)),I.fromCache&&f.source==="server"?m.reject(new he(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(I)},error:I=>m.reject(I)}),T=new pm(d,_,{includeMetadataChanges:!0,Ta:!0});return hm(a,T)}(await eh(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(n,e,t){if(!t)throw new he(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Sk(n,e,t,i){if(e===!0&&i===!0)throw new he(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function __(n){if(!_e.isDocumentKey(n))throw new he(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function w_(n){if(_e.isDocumentKey(n))throw new he(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se()}function hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kh(n);throw new he(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="firestore.googleapis.com",E_=!0;class T_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new he(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SE,this.ssl=E_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:E_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tP)throw new he(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new bC;switch(i.type){case"firstParty":return new VC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=v_.get(t);i&&(ce("ComponentProvider","Removing Datastore"),v_.delete(t),i.terminate())}(this),Promise.resolve()}}function Rk(n,e,t,i={}){var o;const a=(n=hn(n,Nh))._getSettings(),u=`${e}:${t}`;if(a.host!==SE&&a.host!==u&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),i.mockUserToken){let d,f;if(typeof i.mockUserToken=="string")d=i.mockUserToken,f=$t.MOCK_USER;else{d=FS(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new he(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new $t(m)}n._authCredentials=new DC(new fw(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class Kt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}}class Bi extends Yi{constructor(e,t,i){super(e,t,Eh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new _e(e))}withConverter(e){return new Bi(this.firestore,e,this._path)}}function Wt(n,e,...t){if(n=ht(n),IE("collection","path",e),n instanceof Nh){const i=et.fromString(e,...t);return w_(i),new Bi(n,null,i)}{if(!(n instanceof Kt||n instanceof Bi))throw new he(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(et.fromString(e,...t));return w_(i),new Bi(n.firestore,null,i)}}function kt(n,e,...t){if(n=ht(n),arguments.length===1&&(e=pw.newId()),IE("doc","path",e),n instanceof Nh){const i=et.fromString(e,...t);return __(i),new Kt(n,null,new _e(i))}{if(!(n instanceof Kt||n instanceof Bi))throw new he(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(et.fromString(e,...t));return __(i),new Kt(n.firestore,n instanceof Bi?n.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="AsyncQueue";class S_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new sE(this,"async_queue_retry"),this.Su=()=>{const i=Bf();i&&ce(I_,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=Bf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Bf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Jr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ha(e))throw e;ce(I_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d}(i);throw Zr("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=um.createAndSchedule(this,e,t,i,a=>this.Fu(a));return this.fu.push(o),o}Du(){this.gu&&Se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function R_(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of i)if(a in o&&typeof o[a]=="function")return!0;return!1}(n,["next","error","complete"])}class ti extends Nh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new S_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new S_(e),this._firestoreClient=void 0,await e}}}function Ak(n,e){const t=typeof n=="object"?n:Mp(),i=typeof n=="string"?n:Wc,o=qs(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=jS("firestore");a&&Rk(o,...a)}return o}function bh(n){if(n._terminated)throw new he(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Ck(n),n._firestoreClient}function Ck(n){var e,t,i;const o=n._freezeSettings(),a=function(d,f,m,_){return new JC(d,f,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,TE(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new _k(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new na(jt.fromBase64String(e))}catch(t){throw new he(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new na(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=/^__.*__$/;class Pk{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms):new ql(e,this.data,t,this.fieldTransforms)}}class RE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function AE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class wm{constructor(e,t,i,o,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new wm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return th(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(AE(this.Lu)&&xk.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class kk{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ch(e)}ju(e,t,i,o=!1){return new wm({Lu:e,methodName:t,zu:i,path:Vt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lh(n){const e=n._freezeSettings(),t=Ch(n._databaseId);return new kk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function CE(n,e,t,i,o,a={}){const u=n.ju(a.merge||a.mergeFields?2:0,e,t,o);Tm("Data must be an object, but it was:",u,i);const d=xE(i,u);let f,m;if(a.merge)f=new wn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const _=[];for(const T of a.mergeFields){const I=vp(e,T,t);if(!u.contains(I))throw new he(X.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);kE(_,I)||_.push(I)}f=new wn(_),m=u.fieldTransforms.filter(T=>f.covers(T.field))}else f=null,m=u.fieldTransforms;return new Pk(new un(d),f,m)}class Vh extends Oh{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}class Em extends Oh{_toFieldTransform(e){return new Ex(e.path,new Ll)}isEqual(e){return e instanceof Em}}function Nk(n,e,t,i){const o=n.ju(1,e,t);Tm("Data must be an object, but it was:",o,i);const a=[],u=un.empty();Qi(i,(f,m)=>{const _=Im(e,f,t);m=ht(m);const T=o.Ku(_);if(m instanceof Vh)a.push(_);else{const I=Gl(m,T);I!=null&&(a.push(_),u.set(_,I))}});const d=new wn(a);return new RE(u,d,o.fieldTransforms)}function bk(n,e,t,i,o,a){const u=n.ju(1,e,t),d=[vp(e,i,t)],f=[o];if(a.length%2!=0)throw new he(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<a.length;I+=2)d.push(vp(e,a[I])),f.push(a[I+1]);const m=[],_=un.empty();for(let I=d.length-1;I>=0;--I)if(!kE(m,d[I])){const P=d[I];let R=f[I];R=ht(R);const b=u.Ku(P);if(R instanceof Vh)m.push(P);else{const x=Gl(R,b);x!=null&&(m.push(P),_.set(P,x))}}const T=new wn(m);return new RE(_,T,u.fieldTransforms)}function Dk(n,e,t,i=!1){return Gl(t,n.ju(i?4:3,e))}function Gl(n,e){if(PE(n=ht(n)))return Tm("Unsupported field value:",e,n),xE(n,e);if(n instanceof Oh)return function(i,o){if(!AE(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const d of i){let f=Gl(d,o.Uu(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=ht(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return vx(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Tt.fromDate(i);return{timestampValue:Jc(o.serializer,a)}}if(i instanceof Tt){const a=new Tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Jc(o.serializer,a)}}if(i instanceof vm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof na)return{bytesValue:Gw(o.serializer,i._byteString)};if(i instanceof Kt){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:em(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof _m)return function(u,d){return{mapValue:{fields:{[Tw]:{stringValue:Sw},[Kc]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw d.Wu("VectorValues must only contain numeric values.");return Jp(d.serializer,m)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${kh(i)}`)}(n,e)}function xE(n,e){const t={};return gw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(n,(i,o)=>{const a=Gl(o,e.qu(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function PE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Tt||n instanceof vm||n instanceof na||n instanceof Kt||n instanceof Oh||n instanceof _m)}function Tm(n,e,t){if(!PE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=kh(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function vp(n,e,t){if((e=ht(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return Im(n,e);throw th("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ok=new RegExp("[~\\*/\\[\\]]");function Im(n,e,t){if(e.search(Ok)>=0)throw th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dh(...e.split("."))._internalPath}catch{throw th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function th(n,e,t,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${o}`),f+=")"),new he(X.INVALID_ARGUMENT,d+n+f)}function kE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Lk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Lk extends NE{data(){return super.data()}}function jh(n,e){return typeof e=="string"?Im(n,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sm{}class DE extends Sm{}function ni(n,e,...t){let i=[];e instanceof Sm&&i.push(e),i=i.concat(t),function(a){const u=a.filter(f=>f instanceof Rm).length,d=a.filter(f=>f instanceof Mh).length;if(u>1||u>0&&d>0)throw new he(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Mh extends DE{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Mh(e,t,i)}_apply(e){const t=this._parse(e);return OE(e._query,t),new Yi(e.firestore,e.converter,ap(e._query,t))}_parse(e){const t=Lh(e.firestore);return function(a,u,d,f,m,_,T){let I;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){C_(T,_);const R=[];for(const b of T)R.push(A_(f,a,b));I={arrayValue:{values:R}}}else I=A_(f,a,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||C_(T,_),I=Dk(d,u,T,_==="in"||_==="not-in");return mt.create(m,_,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Vn(n,e,t){const i=e,o=jh("where",n);return Mh._create(o,i,t)}class Rm extends Sm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Rm(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:nr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let u=o;const d=a.getFlattenedFilters();for(const f of d)OE(u,f),u=ap(u,f)}(e._query,t),new Yi(e.firestore,e.converter,ap(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Am extends DE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Am(e,t)}_apply(e){const t=function(o,a,u){if(o.startAt!==null)throw new he(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ol(a,u)}(e._query,this._field,this._direction);return new Yi(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new da(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Vk(n,e="asc"){const t=e,i=jh("orderBy",n);return Am._create(i,t)}function A_(n,e,t){if(typeof(t=ht(t))=="string"){if(t==="")throw new he(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bw(e)&&t.indexOf("/")!==-1)throw new he(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(et.fromString(t));if(!_e.isDocumentKey(i))throw new he(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Bv(n,new _e(i))}if(t instanceof Kt)return Bv(n,t._key);throw new he(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(t)}.`)}function C_(n,e){if(!Array.isArray(n)||n.length===0)throw new he(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OE(n,e){const t=function(o,a){for(const u of o)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class jk{convertValue(e,t="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Qi(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[Kc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>ct(u.doubleValue));return new _m(a)}convertGeoPoint(e){return new vm(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=wh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Nl(e));default:return null}}convertTimestamp(e){const t=qi(e);return new Tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=et.fromString(e);We(eE(i));const o=new bl(i.get(1),i.get(3)),a=new _e(i.popFirst(5));return o.isEqual(t)||Zr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class VE extends NE{constructor(e,t,i,o,a,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(jh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Nc extends VE{data(e={}){return super.data(e)}}class jE{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new wl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Nc(this._firestore,this._userDataWriter,i.key,i,new wl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>{const f=new Nc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new wl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new Nc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new wl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),_=u.indexOf(d.doc.key)),{type:Mk(d.type),doc:f,oldIndex:m,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Mk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(n){n=hn(n,Kt);const e=hn(n.firestore,ti);return Tk(bh(e),n._key).then(t=>ME(e,n,t))}class Cm extends jk{constructor(e){super(),this.firestore=e}convertBytes(e){return new na(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,t)}}function ra(n){n=hn(n,Yi);const e=hn(n.firestore,ti),t=bh(e),i=new Cm(e);return bE(n._query),Ik(t,n._query).then(o=>new jE(e,i,n,o))}function Fk(n,e,t){n=hn(n,Kt);const i=hn(n.firestore,ti),o=LE(n.converter,e);return Uh(i,[CE(Lh(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Mn.none())])}function bc(n,e,t,...i){n=hn(n,Kt);const o=hn(n.firestore,ti),a=Lh(o);let u;return u=typeof(e=ht(e))=="string"||e instanceof Dh?bk(a,"updateDoc",n._key,e,t,i):Nk(a,"updateDoc",n._key,e),Uh(o,[u.toMutation(n._key,Mn.exists(!0))])}function Uk(n){return Uh(hn(n.firestore,ti),[new Yp(n._key,Mn.none())])}function ia(n,e){const t=hn(n.firestore,ti),i=kt(n),o=LE(n.converter,e);return Uh(t,[CE(Lh(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Mn.exists(!1))]).then(()=>i)}function Fh(n,...e){var t,i,o;n=ht(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||R_(e[u])||(a=e[u],u++);const d={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(R_(e[u])){const T=e[u];e[u]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[u+1]=(i=T.error)===null||i===void 0?void 0:i.bind(T),e[u+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let f,m,_;if(n instanceof Kt)m=hn(n.firestore,ti),_=Eh(n._key.path),f={next:T=>{e[u]&&e[u](ME(m,n,T))},error:e[u+1],complete:e[u+2]};else{const T=hn(n,Yi);m=hn(T.firestore,ti),_=T._query;const I=new Cm(m);f={next:P=>{e[u]&&e[u](new jE(m,I,T,P))},error:e[u+1],complete:e[u+2]},bE(n._query)}return function(I,P,R,b){const x=new ym(b),$=new pm(P,x,R);return I.asyncQueue.enqueueAndForget(async()=>hm(await eh(I),$)),()=>{x.su(),I.asyncQueue.enqueueAndForget(async()=>dm(await eh(I),$))}}(bh(m),_,d,f)}function Uh(n,e){return function(i,o){const a=new Jr;return i.asyncQueue.enqueueAndForget(async()=>ck(await Ek(i),o,a)),a.promise}(bh(n),e)}function ME(n,e,t){const i=t.docs.get(e._key),o=new Cm(n);return new VE(n,o,e._key,i,new wl(t.hasPendingWrites,t.fromCache),e.converter)}function nh(){return new Em("serverTimestamp")}(function(e,t=!0){(function(o){ua=o})(la),Rr(new tr("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),d=new ti(new OC(i.getProvider("auth-internal")),new jC(u,i.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new he(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(m.options.projectId,_)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),jn(kv,Nv,e),jn(kv,Nv,"esm2017")})();function xm(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function FE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Bk=FE,UE=new $s("auth","Firebase",FE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new mh("@firebase/auth");function zk(n,...e){rh.logLevel<=Oe.WARN&&rh.warn(`Auth (${la}): ${n}`,...e)}function Dc(n,...e){rh.logLevel<=Oe.ERROR&&rh.error(`Auth (${la}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(n,...e){throw Pm(n,...e)}function Ir(n,...e){return Pm(n,...e)}function BE(n,e,t){const i=Object.assign(Object.assign({},Bk()),{[e]:t});return new $s("auth","Firebase",i).create(e,{appName:n.name})}function Yr(n){return BE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pm(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return UE.create(n,...e)}function Ie(n,e,...t){if(!n)throw Pm(e,...t)}function Wr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Dc(e),new Error(e)}function ri(n,e){n||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function $k(){return x_()==="http:"||x_()==="https:"}function x_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($k()||k0()||"connection"in navigator)?navigator.onLine:!0}function Hk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,t){this.shortDelay=e,this.longDelay=t,ri(t>e,"Short delay should be less than long delay!"),this.isMobile=US()||$S()}get(){return qk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(n,e){ri(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=new Ql(3e4,6e4);function Xi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Zi(n,e,t,i,o={}){return $E(n,o,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const d=$l(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return zS()||(m.referrerPolicy="no-referrer"),zE.fetch()(qE(n,n.config.apiHost,t,d),m)})}async function $E(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Wk),e);try{const o=new Qk(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Ic(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Ic(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Ic(n,"user-disabled",u);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw BE(n,_,m);rr(n,_)}}catch(o){if(o instanceof or)throw o;rr(n,"network-request-failed",{message:String(o)})}}async function Jl(n,e,t,i,o={}){const a=await Zi(n,e,t,i,o);return"mfaPendingCredential"in a&&rr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function qE(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?km(n.config,o):`${n.config.apiScheme}://${o}`}function Gk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Qk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ir(this.auth,"network-request-failed")),Kk.get())})}}function Ic(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Ir(n,e,i);return o.customData._tokenResponse=t,o}function P_(n){return n!==void 0&&n.enterprise!==void 0}class Jk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Gk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Yk(n,e){return Zi(n,"GET","/v2/recaptchaConfig",Xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(n,e){return Zi(n,"POST","/v1/accounts:delete",e)}async function HE(n,e){return Zi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Zk(n,e=!1){const t=ht(n),i=await t.getIdToken(e),o=Nm(i);Ie(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:Al($f(o.auth_time)),issuedAtTime:Al($f(o.iat)),expirationTime:Al($f(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function $f(n){return Number(n)*1e3}function Nm(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const o=A0(t);return o?JSON.parse(o):(Dc("Failed to decode base64 JWT payload"),null)}catch(o){return Dc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function k_(n){const e=Nm(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof or&&eN(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function eN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Ml(n,HE(t,{idToken:i}));Ie(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?WE(a.providerUserInfo):[],d=rN(n.providerData,u),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),_=f?m:!1,T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new wp(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,T)}async function nN(n){const e=ht(n);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rN(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function WE(n){return n.map(e=>{var{providerId:t}=e,i=xm(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(n,e){const t=await $E(n,{},async()=>{const i=$l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=qE(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",zE.fetch()(u,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function sN(n,e){return Zi(n,"POST","/v2/accounts:revokeToken",Xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=k_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await iN(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,u=new Ko;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(Ie(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ie(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Kr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=xm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new wp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ml(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Zk(this,e)}reload(){return nN(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await ih(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Yr(this.auth));const e=await this.getIdToken();return await Ml(this,Xk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,u,d,f,m,_;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,P=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,b=(d=t.tenantId)!==null&&d!==void 0?d:void 0,x=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,$=(m=t.createdAt)!==null&&m!==void 0?m:void 0,Q=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:K,emailVerified:J,isAnonymous:ie,providerData:ae,stsTokenManager:D}=t;Ie(K&&D,e,"internal-error");const A=Ko.fromJSON(this.name,D);Ie(typeof K=="string",e,"internal-error"),Ni(T,e.name),Ni(I,e.name),Ie(typeof J=="boolean",e,"internal-error"),Ie(typeof ie=="boolean",e,"internal-error"),Ni(P,e.name),Ni(R,e.name),Ni(b,e.name),Ni(x,e.name),Ni($,e.name),Ni(Q,e.name);const k=new Kr({uid:K,auth:e,email:I,emailVerified:J,displayName:T,isAnonymous:ie,photoURL:R,phoneNumber:P,tenantId:b,stsTokenManager:A,createdAt:$,lastLoginAt:Q});return ae&&Array.isArray(ae)&&(k.providerData=ae.map(O=>Object.assign({},O))),x&&(k._redirectEventId=x),k}static async _fromIdTokenResponse(e,t,i=!1){const o=new Ko;o.updateFromServerResponse(t);const a=new Kr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await ih(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ie(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?WE(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new Ko;d.updateFromIdToken(i);const f=new Kr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new wp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=new Map;function Gr(n){ri(n instanceof Function,"Expected a class definition");let e=N_.get(n);return e?(ri(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,N_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}KE.type="NONE";const b_=KE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(n,e,t){return`firebase:${n}:${e}:${t}`}class Go{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Oc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Oc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Kr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Go(Gr(b_),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Gr(b_);const u=Oc(i,e.config.apiKey,e.name);let d=null;for(const m of t)try{const _=await m._get(u);if(_){const T=Kr._fromJSON(e,_);m!==a&&(d=T),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Go(a,e,i):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Go(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZE(e))return"Blackberry";if(e1(e))return"Webos";if(QE(e))return"Safari";if((e.includes("chrome/")||JE(e))&&!e.includes("edge/"))return"Chrome";if(XE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function GE(n=Gt()){return/firefox\//i.test(n)}function QE(n=Gt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JE(n=Gt()){return/crios\//i.test(n)}function YE(n=Gt()){return/iemobile/i.test(n)}function XE(n=Gt()){return/android/i.test(n)}function ZE(n=Gt()){return/blackberry/i.test(n)}function e1(n=Gt()){return/webos/i.test(n)}function bm(n=Gt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function oN(n=Gt()){var e;return bm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aN(){return qS()&&document.documentMode===10}function t1(n=Gt()){return bm(n)||XE(n)||e1(n)||ZE(n)||/windows phone/i.test(n)||YE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(n,e=[]){let t;switch(n){case"Browser":t=D_(Gt());break;case"Worker":t=`${D_(Gt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${la}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(n,e={}){return Zi(n,"GET","/v2/passwordPolicy",Xi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=6;class hN{constructor(e){var t,i,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:cN,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O_(this),this.idTokenSubscription=new O_(this),this.beforeStateQueue=new lN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Gr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await HE(this,{idToken:e}),i=await Kr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ln(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Hk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(Yr(this));const t=e?ht(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(Yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uN(this),t=new hN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $s("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await sN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Gr(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[Gr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&zk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ks(n){return ht(n)}class O_{constructor(e){this.auth=e,this.observer=null,this.addObserver=YS(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fN(n){Bh=n}function r1(n){return Bh.loadJS(n)}function pN(){return Bh.recaptchaEnterpriseScript}function mN(){return Bh.gapiScript}function gN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class yN{constructor(){this.enterprise=new vN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class vN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const _N="recaptcha-enterprise",i1="NO_RECAPTCHA";class wN{constructor(e){this.type=_N,this.auth=Ks(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{Yk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new Jk(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{d(f)})})}function o(a,u,d){const f=window.grecaptcha;P_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(i1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yN().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(d=>{if(!t&&P_(window.grecaptcha))o(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=pN();f.length!==0&&(f+=d),r1(f).then(()=>{o(d,a,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function L_(n,e,t,i=!1,o=!1){const a=new wN(n);let u;if(o)u=i1;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ep(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await L_(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await L_(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(n,e){const t=qs(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(xl(a,e??{}))return o;rr(o,"already-initialized")}return t.initialize({options:e})}function TN(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Gr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function IN(n,e,t){const i=Ks(n);Ie(i._canInitEmulator,i,"emulator-config-failed"),Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=s1(e),{host:u,port:d}=SN(e),f=d===null?"":`:${d}`;i.config.emulator={url:`${a}//${u}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),RN()}function s1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function SN(n){const e=s1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:V_(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:V_(u)}}}function V_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function RN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,t){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}async function AN(n,e){return Zi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(n,e){return Jl(n,"POST","/v1/accounts:signInWithPassword",Xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(n,e){return Jl(n,"POST","/v1/accounts:signInWithEmailLink",Xi(n,e))}async function PN(n,e){return Jl(n,"POST","/v1/accounts:signInWithEmailLink",Xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends Dm{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Fl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Fl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(e,t,"signInWithPassword",CN);case"emailLink":return xN(e,{email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(e,i,"signUpPassword",AN);case"emailLink":return PN(e,{idToken:t,email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(n,e){return Jl(n,"POST","/v1/accounts:signInWithIdp",Xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="http://localhost";class Us extends Dm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=xm(t,["providerId","signInMethod"]);if(!i||!o)return null;const u=new Us(i,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Qo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Qo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qo(e,t)}buildRequest(){const e={requestUri:kN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$l(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bN(n){const e=ml(gl(n)).link,t=e?ml(gl(e)).deep_link_id:null,i=ml(gl(n)).deep_link_id;return(i?ml(gl(i)).link:null)||i||t||e||n}class Om{constructor(e){var t,i,o,a,u,d;const f=ml(gl(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,_=(i=f.oobCode)!==null&&i!==void 0?i:null,T=NN((o=f.mode)!==null&&o!==void 0?o:null);Ie(m&&_&&T,"argument-error"),this.apiKey=m,this.operation=T,this.code=_,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=bN(e);try{return new Om(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.providerId=pa.PROVIDER_ID}static credential(e,t){return Fl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Om.parseLink(t);return Ie(i,"argument-error"),Fl._fromEmailAndCode(e,i.code,i.tenantId)}}pa.PROVIDER_ID="password";pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends o1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Yl{constructor(){super("facebook.com")}static credential(e){return Us._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Us._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Di.credential(t,i)}catch{return null}}}Di.GOOGLE_SIGN_IN_METHOD="google.com";Di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Yl{constructor(){super("github.com")}static credential(e){return Us._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.GITHUB_SIGN_IN_METHOD="github.com";Oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Yl{constructor(){super("twitter.com")}static credential(e,t){return Us._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Li.credential(t,i)}catch{return null}}}Li.TWITTER_SIGN_IN_METHOD="twitter.com";Li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(n,e){return Jl(n,"POST","/v1/accounts:signUp",Xi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await Kr._fromIdTokenResponse(e,i,o),u=j_(i);return new Bs({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=j_(i);return new Bs({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function j_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends or{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new sh(e,t,i,o)}}function a1(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(n,a,e,i):a})}async function ON(n,e,t=!1){const i=await Ml(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Bs._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(n,e,t=!1){const{auth:i}=n;if(Ln(i.app))return Promise.reject(Yr(i));const o="reauthenticate";try{const a=await Ml(n,a1(i,o,e,n),t);Ie(a.idToken,i,"internal-error");const u=Nm(a.idToken);Ie(u,i,"internal-error");const{sub:d}=u;return Ie(n.uid===d,i,"user-mismatch"),Bs._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&rr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(n,e,t=!1){if(Ln(n.app))return Promise.reject(Yr(n));const i="signIn",o=await a1(n,i,e),a=await Bs._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function VN(n,e){return l1(Ks(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(n){const e=Ks(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jN(n,e,t){if(Ln(n.app))return Promise.reject(Yr(n));const i=Ks(n),u=await Ep(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DN).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&u1(n),f}),d=await Bs._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(d.user),d}function MN(n,e,t){return Ln(n.app)?Promise.reject(Yr(n)):VN(ht(n),pa.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&u1(n),i})}function FN(n,e,t,i){return ht(n).onIdTokenChanged(e,t,i)}function UN(n,e,t){return ht(n).beforeAuthStateChanged(e,t)}function zh(n,e,t,i){return ht(n).onAuthStateChanged(e,t,i)}function BN(n){return ht(n).signOut()}const oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=1e3,$N=10;class h1 extends c1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);aN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,$N):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},zN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}h1.type="LOCAL";const qN=h1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1 extends c1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}d1.type="SESSION";const f1=d1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new $h(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(u).map(async m=>m(t.origin,a)),f=await HN(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const m=Lm("",20);o.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(T){const I=T;if(I.data.eventId===m)switch(I.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(I.data.response);break;default:clearTimeout(_),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function KN(n){Sr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function GN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function JN(){return p1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="firebaseLocalStorageDb",YN=1,ah="firebaseLocalStorage",g1="fbase_key";class Xl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qh(n,e){return n.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function XN(){const n=indexedDB.deleteDatabase(m1);return new Xl(n).toPromise()}function Tp(){const n=indexedDB.open(m1,YN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(ah,{keyPath:g1})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(ah)?e(i):(i.close(),await XN(),e(await Tp()))})})}async function M_(n,e,t){const i=qh(n,!0).put({[g1]:e,value:t});return new Xl(i).toPromise()}async function ZN(n,e){const t=qh(n,!1).get(e),i=await new Xl(t).toPromise();return i===void 0?null:i.value}function F_(n,e){const t=qh(n,!0).delete(e);return new Xl(t).toPromise()}const e2=800,t2=3;class y1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>t2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(JN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await GN(),!this.activeServiceWorker)return;this.sender=new WN(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tp();return await M_(e,oh,"1"),await F_(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>M_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>ZN(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>F_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=qh(o,!1).getAll();return new Xl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),e2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y1.type="LOCAL";const n2=y1;new Ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(n,e){return e?Gr(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm extends Dm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function i2(n){return l1(n.auth,new Vm(n),n.bypassAuthState)}function s2(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),LN(t,new Vm(n),n.bypassAuthState)}async function o2(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),ON(t,new Vm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i2;case"linkViaPopup":case"linkViaRedirect":return o2;case"reauthViaPopup":case"reauthViaRedirect":return s2;default:rr(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=new Ql(2e3,1e4);class Ho extends v1{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,a2.get())};e()}}Ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="pendingRedirect",Lc=new Map;class u2 extends v1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Lc.get(this.auth._key());if(!e){try{const i=await c2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Lc.set(this.auth._key(),e)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c2(n,e){const t=f2(e),i=d2(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function h2(n,e){Lc.set(n._key(),e)}function d2(n){return Gr(n._redirectPersistence)}function f2(n){return Oc(l2,n.config.apiKey,n.name)}async function p2(n,e,t=!1){if(Ln(n.app))return Promise.reject(Yr(n));const i=Ks(n),o=r2(i,e),u=await new u2(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=10*60*1e3;class g2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!y2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!_1(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ir(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=m2&&this.cachedEventUids.clear(),this.cachedEventUids.has(U_(e))}saveEventToCache(e){this.cachedEventUids.add(U_(e)),this.lastProcessedEventTime=Date.now()}}function U_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function y2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(n,e={}){return Zi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w2=/^https?/;async function E2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await v2(n);for(const t of e)try{if(T2(t))return}catch{}rr(n,"unauthorized-domain")}function T2(n){const e=_p(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!w2.test(t))return!1;if(_2.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new Ql(3e4,6e4);function B_(){const n=Sr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function S2(n){return new Promise((e,t)=>{var i,o,a;function u(){B_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B_(),t(Ir(n,"network-request-failed"))},timeout:I2.get()})}if(!((o=(i=Sr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Sr().gapi)===null||a===void 0)&&a.load)u();else{const d=gN("iframefcb");return Sr()[d]=()=>{gapi.load?u():t(Ir(n,"network-request-failed"))},r1(`${mN()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw Vc=null,e})}let Vc=null;function R2(n){return Vc=Vc||S2(n),Vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=new Ql(5e3,15e3),C2="__/auth/iframe",x2="emulator/auth/iframe",P2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N2(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?km(e,x2):`https://${n.config.authDomain}/${C2}`,i={apiKey:e.apiKey,appName:n.name,v:la},o=k2.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${$l(i).slice(1)}`}async function b2(n){const e=await R2(n),t=Sr().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:N2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P2,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const u=Ir(n,"network-request-failed"),d=Sr().setTimeout(()=>{a(u)},A2.get());function f(){Sr().clearTimeout(d),o(i)}i.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O2=500,L2=600,V2="_blank",j2="http://localhost";class z_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function M2(n,e,t,i=O2,o=L2){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f=Object.assign(Object.assign({},D2),{width:i.toString(),height:o.toString(),top:a,left:u}),m=Gt().toLowerCase();t&&(d=JE(m)?V2:t),GE(m)&&(e=e||j2,f.scrollbars="yes");const _=Object.entries(f).reduce((I,[P,R])=>`${I}${P}=${R},`,"");if(oN(m)&&d!=="_self")return F2(e||"",d),new z_(null);const T=window.open(e||"",d,_);Ie(T,n,"popup-blocked");try{T.focus()}catch{}return new z_(T)}function F2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="__/auth/handler",B2="emulator/auth/handler",z2=encodeURIComponent("fac");async function $_(n,e,t,i,o,a){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:la,eventId:o};if(e instanceof o1){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",JS(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))u[_]=T}if(e instanceof Yl){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const f=await n._getAppCheckToken(),m=f?`#${z2}=${encodeURIComponent(f)}`:"";return`${$2(n)}?${$l(d).slice(1)}${m}`}function $2({config:n}){return n.emulator?km(n,B2):`https://${n.authDomain}/${U2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="webStorageSupport";class q2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f1,this._completeRedirectFn=p2,this._overrideRedirectResult=h2}async _openPopup(e,t,i,o){var a;ri((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await $_(e,t,i,_p(),o);return M2(e,u,Lm())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await $_(e,t,i,_p(),o);return KN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(ri(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await b2(e),i=new g2(e);return t.register("authEvent",o=>(Ie(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qf,{type:qf},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[qf];u!==void 0&&t(!!u),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=E2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return t1()||QE()||bm()}}const H2=q2;var q_="@firebase/auth",H_="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G2(n){Rr(new tr("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;Ie(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n1(n)},m=new dN(i,o,a,f);return TN(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Rr(new tr("auth-internal",e=>{const t=Ks(e.getProvider("auth").getImmediate());return(i=>new W2(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(q_,H_,K2(n)),jn(q_,H_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=5*60,J2=P0("authIdTokenMaxAge")||Q2;let W_=null;const Y2=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>J2)return;const o=t==null?void 0:t.token;W_!==o&&(W_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function X2(n=Mp()){const e=qs(n,"auth");if(e.isInitialized())return e.getImmediate();const t=EN(n,{popupRedirectResolver:H2,persistence:[n2,qN,f1]}),i=P0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=Y2(a.toString());UN(t,u,()=>u(t.currentUser)),FN(t,d=>u(d))}}const o=C0("auth");return o&&IN(t,`http://${o}`),t}function Z2(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}fN({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Ir("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",Z2().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G2("Browser");const eb={apiKey:"AIzaSyCvEYvhjpYMz29KXj-n795H0GwA26YCQPI",authDomain:"event-planner-2a016.firebaseapp.com",projectId:"event-planner-2a016",storageBucket:"event-planner-2a016.firebasestorage.app",messagingSenderId:"433600383857",appId:"1:433600383857:web:099441ad748d8f269384d0",measurementId:"G-RW5E9L75RY"},jm=V0(eb),ii=X2(jm),ze=Ak(jm);xC(jm);const tb=()=>{const n=Cr(),e=()=>{ii.currentUser?n("/createevent"):n("/login")},t=()=>{n("/events/public")};return v.jsxs("div",{className:"event-container",children:[v.jsxs("div",{className:"home-left-side",children:[v.jsxs("div",{className:"logo-home animate-fade-in",children:["EQUIP",v.jsx("sup",{children:" "})]}),v.jsxs("div",{className:"hero-content animate-slide-up",children:[v.jsxs("h1",{className:"home-header",children:[" ",v.jsx("span",{className:"highlight",children:"?"})," ",v.jsx("br",{}),"   ",v.jsx("span",{className:"highlight",children:"?"})]}),v.jsxs("p",{className:"home-description",children:["       ",v.jsx("br",{}),"    ."]}),v.jsxs("div",{className:"cta-buttons",children:[v.jsx("button",{onClick:e,className:"btn-primary",children:" "}),v.jsx("button",{onClick:t,className:"btn-secondary",children:" "})]})]})]}),v.jsxs("div",{className:"home-right-side",children:[v.jsx("div",{className:"image-overlay"}),v.jsx("img",{src:"/hero-image.jpg",alt:"People celebrating at an event",className:"home-bg-image"})]})]})},Ds=()=>{const n=window.location.pathname;return v.jsx("div",{className:"sidenav",children:v.jsxs("div",{children:[v.jsxs("a",{href:"/profile",className:`sidenav-button ${n==="/profile"?"active":""}`,children:[v.jsx("div",{className:"sidebar-tab-icon",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",className:"bi bi-person",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"})})}),v.jsx("p",{children:""})]}),v.jsxs("a",{href:"/events/public",className:`sidenav-button ${n==="/events/public"?"active":""}`,children:[v.jsx("div",{className:"sidebar-tab-icon",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-megaphone",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M13 2.5a1.5 1.5 0 0 1 3 0v11a1.5 1.5 0 0 1-3 0v-.214c-2.162-1.241-4.49-1.843-6.912-2.083l.405 2.712A1 1 0 0 1 5.51 15.1h-.548a1 1 0 0 1-.916-.599l-1.85-3.49-.202-.003A2.014 2.014 0 0 1 0 9V7a2.02 2.02 0 0 1 1.992-2.013 75 75 0 0 0 2.483-.075c3.043-.154 6.148-.849 8.525-2.199zm1 0v11a.5.5 0 0 0 1 0v-11a.5.5 0 0 0-1 0m-1 1.35c-2.344 1.205-5.209 1.842-8 2.033v4.233q.27.015.537.036c2.568.189 5.093.744 7.463 1.993zm-9 6.215v-4.13a95 95 0 0 1-1.992.052A1.02 1.02 0 0 0 1 7v2c0 .55.448 1.002 1.006 1.009A61 61 0 0 1 4 10.065m-.657.975 1.609 3.037.01.024h.548l-.002-.014-.443-2.966a68 68 0 0 0-1.722-.082z"})})}),v.jsx("p",{children:""})]}),v.jsxs("a",{href:"/events/private",className:`sidenav-button ${n==="/events/private"?"active":""}`,children:[v.jsx("div",{className:"sidebar-tab-icon",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",className:"bi bi-shield-lock",viewBox:"0 0 16 16",children:[v.jsx("path",{d:"M5.338 1.59a61 61 0 0 0-2.837.856.48.48 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.7 10.7 0 0 0 2.287 2.233c.346.244.652.42.893.533q.18.085.293.118a1 1 0 0 0 .101.025 1 1 0 0 0 .1-.025q.114-.034.294-.118c.24-.113.547-.29.893-.533a10.7 10.7 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.8 11.8 0 0 1-2.517 2.453 7 7 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7 7 0 0 1-1.048-.625 11.8 11.8 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 63 63 0 0 1 5.072.56"}),v.jsx("path",{d:"M9.5 6.5a1.5 1.5 0 0 1-1 1.415l.385 1.99a.5.5 0 0 1-.491.595h-.788a.5.5 0 0 1-.49-.595l.384-1.99a1.5 1.5 0 1 1 2-1.415"})]})}),v.jsx("p",{children:""})]}),v.jsxs("a",{href:"/users",className:`sidenav-button ${n==="/users"?"active":""}`,children:[v.jsx("div",{className:"sidebar-tab-icon",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",className:"bi bi-people",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1L7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002-.014.002zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a6 6 0 0 0-1.23-.247A7 7 0 0 0 5 9c-4 0-5 3-5 4q0 1 1 1h4.216A2.24 2.24 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.5 5.5 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4"})})}),v.jsx("p",{children:""})]})]})})},K_=({user:n})=>{const e=Cr(),t=async()=>{try{await BN(ii),setTimeout(()=>{e("/",{replace:!0})},0)}catch(i){console.error(i.message)}};return n?v.jsx("button",{onClick:t,className:"navbar-button",children:" "}):v.jsx(ji,{to:"/login",className:"navbar-button",children:" "})},nb=({user:n})=>{const[e,t]=V.useState([]),[i,o]=V.useState(!1),[a,u]=V.useState(0),[d,f]=V.useState(null),[m,_]=V.useState(null),[T,I]=V.useState(!1),[P,R]=V.useState(!1),[b,x]=V.useState(null);V.useEffect(()=>{if(!n){t([]),u(0);return}const J=ni(Wt(ze,"notifications"),Vn("userId","==",n.uid),Vk("createdAt","desc")),ie=Fh(J,ae=>{const D=ae.docs.map(A=>{var k;return{id:A.id,...A.data(),createdAt:(k=A.data().createdAt)==null?void 0:k.toDate()}});t(D),u(D.filter(A=>!A.read).length)});return()=>ie()},[n]);const $=async J=>{if(!J.read)try{await bc(kt(ze,"notifications",J.id),{read:!0});const ie=e.map(ae=>ae.id===J.id?{...ae,read:!0}:ae);t(ie),u(ae=>ae-1)}catch(ie){console.error("Error marking notification as read:",ie)}if(J.type==="new_offer")try{const ie=await On(kt(ze,"offers",J.offerId));if(ie.exists()){const ae=ie.data();f({...ae,id:ie.id});const D=await On(kt(ze,"users",ae.offererId));D.exists()&&_(D.data())}}catch(ie){console.error("Error fetching offer details:",ie)}else if(J.type==="offer_response"&&J.title==="  ")try{const ie=await On(kt(ze,"events",J.eventId));if(ie.exists()){const ae=ie.data(),D=await On(kt(ze,"users",ae.userId));D.exists()&&(x(D.data()),R(!0))}}catch(ie){console.error("Error fetching contact details:",ie)}},Q=async(J,ie)=>{try{await bc(kt(ze,"offers",J),{status:ie});const D=(await On(kt(ze,"offers",J))).data();if(ie==="accepted"){for(const k of D.resources){const O=kt(ze,"resources",k.id),M=await On(O);if(M.exists()){const C=M.data().available||0,ve=k.quantity||1,De=Math.max(0,C-ve);await bc(O,{available:De,status:"reserved",reservedBy:D.offererId,reservedFor:D.eventId})}}const A={userId:D.offererId,type:"offer_response",title:"  ",message:`   "${D.eventTitle}"  !`,offerId:J,eventId:D.eventId,read:!1,createdAt:nh()};await ia(Wt(ze,"notifications"),A),I(!0),setTimeout(()=>{I(!1)},3e3)}else if(ie==="rejected"){const A={userId:D.offererId,type:"offer_response",title:"  ",message:`   "${D.eventTitle}"  .`,offerId:J,eventId:D.eventId,read:!1,createdAt:nh()};await ia(Wt(ze,"notifications"),A)}f(null),_(null)}catch(ae){console.error("Error handling offer response:",ae)}},K=J=>{if(!J)return"";const ie=J instanceof Date?J:new Date(J),D=Math.floor((new Date-ie)/1e3);return D<60?"":D<3600?` ${Math.floor(D/60)} `:D<86400?` ${Math.floor(D/3600)} `:` ${Math.floor(D/86400)} `};return v.jsxs("div",{className:"notification-bell",children:[v.jsxs("button",{className:"bell-button",onClick:()=>o(!i),children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zM8 1.918l-.797.161A4.002 4.002 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4.002 4.002 0 0 0-3.203-3.92L8 1.917zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5.002 5.002 0 0 1 13 6c0 .88.32 4.2 1.22 6z"})}),a>0&&v.jsx("span",{className:"notification-badge",children:a})]}),i&&v.jsx("div",{className:"notification-dropdown",children:e.length>0?v.jsx("div",{className:"notifications-list",children:e.map(J=>v.jsx("div",{className:`notification-item ${J.read?"":"unread"}`,onClick:()=>$(J),children:v.jsxs("div",{className:"notification-content",children:[v.jsxs("div",{className:"notification-header",children:[v.jsx("h4",{children:J.title}),v.jsx("span",{className:"notification-time",children:K(J.createdAt)})]}),v.jsx("p",{children:J.message}),J.type==="new_offer"&&!J.read&&v.jsxs("div",{className:"notification-actions",children:[v.jsx("button",{className:"accept-button",onClick:ie=>{ie.stopPropagation(),Q(J.offerId,"accepted")},children:""}),v.jsx("button",{className:"decline-button",onClick:ie=>{ie.stopPropagation(),Q(J.offerId,"declined")},children:""})]})]})},J.id))}):v.jsx("div",{className:"no-notifications",children:"  "})}),T&&v.jsx("div",{className:"success-message",children:"   !"}),P&&b&&v.jsx("div",{className:"contact-window-overlay",onClick:()=>R(!1),children:v.jsxs("div",{className:"contact-window",onClick:J=>J.stopPropagation(),children:[v.jsx("button",{className:"close-button",onClick:()=>R(!1),children:""}),v.jsx("h2",{children:" "}),v.jsx("div",{className:"contact-details",children:v.jsxs("div",{className:"contact-info",children:[v.jsxs("p",{children:[v.jsx("strong",{children:":"})," ",b.firstName," ",b.lastName]}),v.jsxs("p",{children:[v.jsx("strong",{children:":"})," ",b.phone||" "]}),v.jsxs("p",{children:[v.jsx("strong",{children:":"})," ",b.email||" "]})]})})]})}),d&&m&&v.jsx("div",{className:"offer-popup-overlay",onClick:()=>f(null),children:v.jsxs("div",{className:"offer-popup",onClick:J=>J.stopPropagation(),children:[v.jsx("button",{className:"close-button",onClick:()=>f(null),children:""}),v.jsx("h2",{children:"  "}),v.jsxs("div",{className:"offer-details",children:[v.jsx("h3",{children:""}),v.jsxs("div",{className:"contact-info",children:[v.jsxs("p",{children:[v.jsx("strong",{children:":"})," ",(m==null?void 0:m.firstName)||""," ",(m==null?void 0:m.lastName)||""]}),v.jsxs("p",{children:[v.jsx("strong",{children:":"})," ",(m==null?void 0:m.phone)||" "]}),v.jsxs("p",{children:[v.jsx("strong",{children:":"})," ",(m==null?void 0:m.email)||" "]})]}),v.jsx("h3",{children:" "}),v.jsx("div",{className:"resources-list",children:d.resources.map((J,ie)=>v.jsxs("div",{className:"resource-item",children:[v.jsx("span",{className:"resource-name",children:J.name}),v.jsxs("span",{className:"resource-price",children:[J.price," ."]})]},ie))}),v.jsxs("div",{className:"total-price",children:[v.jsx("strong",{children:" :"})," ",d.totalPrice," ."]}),v.jsxs("div",{className:"offer-actions",children:[v.jsx("button",{className:"accept-button",onClick:()=>{console.log("Accept clicked for offer:",d.id),Q(d.id,"accepted")},children:""}),v.jsx("button",{className:"decline-button",onClick:()=>{console.log("Decline clicked for offer:",d.id),Q(d.id,"declined")},children:""})]})]})]})})]})},Os=({user:n})=>{const[e,t]=V.useState([]),[i,o]=V.useState(0);V.useState(!1);const[a,u]=V.useState(null);V.useEffect(()=>{n&&(f(),d())},[n]);const d=async()=>{try{const m=await On(kt(ze,"users",n.uid));m.exists()&&u(m.data())}catch(m){console.error("Error fetching user data:",m)}},f=async()=>{try{const _=await(await fetch(`http://localhost:3000/api/notifications/${n.uid}`)).json();t(_),o(_.filter(T=>!T.is_read).length)}catch(m){console.error("Error fetching notifications:",m)}};return v.jsxs("nav",{className:"navbar",children:[v.jsx("div",{children:v.jsxs(ji,{to:"/",className:"logo",children:["EQUIP",v.jsx("sup",{children:" "})]})}),v.jsx("div",{className:"navbar-buttons",children:n?v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[v.jsxs("strong",{children:[", ",v.jsx(ji,{to:"/profile",children:a?`${a.firstName} ${a.lastName}`:"Loading..."})]}),v.jsx(nb,{user:n}),v.jsx(K_,{user:n})]}):v.jsx(K_,{user:n})})]})},rb=({event:n})=>{const e=Cr(),[t,i]=V.useState("");V.useEffect(()=>{(async()=>{try{const d=await On(kt(ze,"users",n.userId));if(d.exists()){const f=d.data();i(`${f.firstName} ${f.lastName}`)}}catch(d){console.error("Error fetching creator name:",d)}})()},[n.userId]);const a=(u=>{const d=new Date(u),f=["","","","","","",""],m=["","","","","","","","","","","",""];return{day:f[d.getDay()],date:d.getDate(),month:m[d.getMonth()]}})(n.date);return v.jsxs("div",{className:"event-card",onClick:()=>e(`/eventdetail/${n.id}`),children:[v.jsxs("div",{className:"event-card-header",children:[v.jsxs("div",{className:"event-date",children:[v.jsx("span",{className:"event-day",children:a.day}),v.jsx("span",{className:"event-date-number",children:a.date}),v.jsx("span",{className:"event-month",children:a.month})]}),v.jsxs("div",{className:"event-info",children:[v.jsxs("div",{className:"event-creator",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-person",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"})}),v.jsx("span",{children:t||"..."})]}),v.jsx("h2",{className:"event-title",children:n.title}),v.jsxs("div",{className:"event-details",children:[v.jsxs("div",{className:"event-location",children:[v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-geo-alt",viewBox:"0 0 16 16",children:[v.jsx("path",{d:"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A32 32 0 0 1 8 14.58a32 32 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10"}),v.jsx("path",{d:"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6"})]}),v.jsx("span",{children:n.location})]}),v.jsxs("div",{className:"event-time",children:[v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-clock",viewBox:"0 0 16 16",children:[v.jsx("path",{d:"M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71z"}),v.jsx("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0"})]}),v.jsxs("span",{children:[n.startTime," - ",n.endTime]})]})]})]})]}),v.jsxs("div",{className:"event-card-footer",children:[v.jsx("div",{className:"event-tags",children:n.resources.map((u,d)=>v.jsx("span",{className:"event-tag",children:u.name},d))}),n.isPrivate&&v.jsx("span",{className:"private-badge",children:""})]})]})},ib=({user:n})=>{const[e,t]=V.useState([]),[i,o]=V.useState([]),[a,u]=V.useState(!0),[d,f]=V.useState(""),m=si();return V.useEffect(()=>{const _=m.pathname.includes("/private"),T=ni(Wt(ze,"events"),Vn("visibility","==",_?"private":"public")),I=Fh(T,P=>{const R=P.docs.map(b=>({id:b.id,...b.data()}));t(R),o(R),u(!1)},P=>{console.error("Error fetching events:",P),u(!1)});return()=>I()},[m.pathname]),V.useEffect(()=>{if(d.trim()===""){o(e);return}const _=d.toLowerCase(),T=e.filter(I=>{var P;return I.title.toLowerCase().includes(_)||I.location.toLowerCase().includes(_)||((P=I.description)==null?void 0:P.toLowerCase().includes(_))});o(T)},[d,e]),a?v.jsx("div",{className:"cards-grid",children:"..."}):v.jsxs("div",{className:"event-grid-container",children:[v.jsx("div",{className:"search-bar",children:v.jsx("input",{type:"text",placeholder:" ...",value:d,onChange:_=>f(_.target.value),className:"search-input"})}),i.length===0?v.jsxs("div",{className:"cards-grid empty-state",children:[v.jsx("p",{children:"  "}),v.jsx("p",{className:"empty-state-subtitle",children:m.pathname.includes("/private")?"   ":"    "})]}):v.jsx("div",{className:"cards-grid",children:i.map(_=>v.jsx(rb,{event:_,user:n},_.id))})]})},Mm=()=>v.jsxs("footer",{className:"footer",children:[v.jsxs("div",{className:"footer-content",children:[v.jsxs("div",{className:"footer-section",children:[v.jsxs("h3",{children:["EQUIP",v.jsx("sup",{children:" "})]}),v.jsx("p",{children:"     "})]}),v.jsxs("div",{className:"footer-section",children:[v.jsx("h4",{children:" "}),v.jsxs("ul",{children:[v.jsx("li",{children:v.jsx(ji,{to:"/",children:""})}),v.jsx("li",{children:v.jsx(ji,{to:"/events/public",children:""})}),v.jsx("li",{children:v.jsx(ji,{to:"/users",children:""})})]})]}),v.jsxs("div",{className:"footer-section",children:[v.jsx("h4",{children:""}),v.jsxs("ul",{children:[v.jsx("li",{children:"Email: info@equip.mk"}),v.jsx("li",{children:": +389 XX XXX XXX"}),v.jsx("li",{children:": , "})]})]})]}),v.jsx("div",{className:"footer-bottom",children:v.jsxs("p",{children:[" ",new Date().getFullYear()," EQUIP .    ."]})})]}),G_=({user:n})=>v.jsxs("div",{className:"app-container",children:[v.jsx(Os,{user:n}),v.jsxs("div",{className:"main-container",children:[v.jsx(Ds,{}),v.jsx("div",{className:"profile-main-card",children:v.jsx("div",{className:"whole-container",children:v.jsx(ib,{})})})]}),v.jsx(Mm,{})]});var w1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Q_=bs.createContext&&bs.createContext(w1),sb=["attr","size","title"];function ob(n,e){if(n==null)return{};var t=ab(n,e),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)i=a[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function ab(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function lh(){return lh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},lh.apply(this,arguments)}function J_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function uh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?J_(Object(t),!0).forEach(function(i){lb(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):J_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function lb(n,e,t){return e=ub(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ub(n){var e=cb(n,"string");return typeof e=="symbol"?e:e+""}function cb(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function E1(n){return n&&n.map((e,t)=>bs.createElement(e.tag,uh({key:t},e.attr),E1(e.child)))}function T1(n){return e=>bs.createElement(hb,lh({attr:uh({},n.attr)},e),E1(n.child))}function hb(n){var e=t=>{var{attr:i,size:o,title:a}=n,u=ob(n,sb),d=o||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),bs.createElement("svg",lh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:f,style:uh(uh({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&bs.createElement("title",null,a),n.children)};return Q_!==void 0?bs.createElement(Q_.Consumer,null,t=>e(t)):e(w1)}function db(n){return T1({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(n)}function fb(n){return T1({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}const pb=()=>{const[n,e]=V.useState([]),[t,i]=V.useState([]),[o,a]=V.useState(!0),[u,d]=V.useState(null),[f,m]=V.useState([]),[_,T]=V.useState(!1),[I,P]=V.useState("");V.useEffect(()=>{(async()=>{try{const x=Wt(ze,"users"),Q=(await ra(x)).docs.map(K=>({id:K.id,...K.data()}));e(Q),i(Q)}catch(x){console.error("Error fetching users:",x)}finally{a(!1)}})()},[]),V.useEffect(()=>{if(I.trim()===""){i(n);return}const b=I.toLowerCase(),x=n.filter($=>{var Q,K,J;return((Q=$.firstName)==null?void 0:Q.toLowerCase().includes(b))||((K=$.lastName)==null?void 0:K.toLowerCase().includes(b))||((J=$.email)==null?void 0:J.toLowerCase().includes(b))});i(x)},[I,n]);const R=async b=>{d(b),T(!0);try{const x=ni(Wt(ze,"resources"),Vn("userId","==",b.id)),Q=(await ra(x)).docs.map(K=>({id:K.id,...K.data()}));m(Q)}catch(x){console.error("Error fetching user resources:",x)}finally{T(!1)}};return o?v.jsx("div",{className:"cards-user-grid",children:"..."}):v.jsxs("div",{className:"user-grid-container",children:[v.jsx("div",{className:"search-bar",children:v.jsx("input",{type:"text",placeholder:" ...",value:I,onChange:b=>P(b.target.value),className:"search-input"})}),t.length===0?v.jsxs("div",{className:"cards-user-grid empty-state",children:[v.jsx("p",{children:"  "}),v.jsx("p",{className:"empty-state-subtitle",children:"     "})]}):v.jsx("div",{className:"cards-user-grid",children:t.map(b=>v.jsxs("div",{className:"user-card",children:[v.jsxs("div",{className:"user-info",children:[v.jsxs("h3",{className:"user-name",children:[b.firstName," ",b.lastName]}),v.jsx("p",{className:"user-email",children:b.email}),b.phone&&v.jsxs("div",{className:"user-contact",children:[v.jsx(db,{}),v.jsx("span",{children:b.phone})]})]}),v.jsx("button",{className:"details-button",onClick:()=>R(b),children:""})]},b.id))}),u&&v.jsx("div",{className:"modal-overlay",children:v.jsxs("div",{className:"modal-content",children:[v.jsx("button",{className:"close-button",onClick:()=>d(null),children:v.jsx(fb,{})}),v.jsxs("div",{className:"user-details",children:[v.jsxs("h2",{children:[u.firstName," ",u.lastName]}),v.jsxs("div",{className:"user-info-details",children:[v.jsxs("p",{children:[v.jsx("strong",{children:":"})," ",u.firstName]}),v.jsxs("p",{children:[v.jsx("strong",{children:":"})," ",u.lastName]}),v.jsxs("p",{children:[v.jsx("strong",{children:"-:"})," ",u.email]}),u.phone&&v.jsxs("p",{children:[v.jsx("strong",{children:":"})," ",u.phone]})]}),v.jsx("h3",{children:""}),_?v.jsx("p",{children:"  ..."}):f.length>0?v.jsx("div",{className:"resources-grid",children:f.map(b=>v.jsxs("div",{className:"resource-card",children:[v.jsx("h4",{children:b.name}),v.jsxs("p",{children:[v.jsx("strong",{children:":"})," ",b.category]}),v.jsxs("p",{children:[v.jsx("strong",{children:":"})," ",b.price]})]},b.id))}):v.jsx("p",{children:" "})]})]})})]})},mb=({user:n})=>v.jsxs("div",{className:"app-container",children:[v.jsx(Os,{user:n}),v.jsxs("div",{className:"main-container",children:[v.jsx(Ds,{}),v.jsx("div",{className:"profile-main-card",children:v.jsx("div",{className:"whole-container",children:v.jsx(pb,{})})})]}),v.jsx(Mm,{})]}),gb=()=>{const[n,e]=V.useState(""),[t,i]=V.useState(""),[o,a]=V.useState(""),[u,d]=V.useState(""),[f,m]=V.useState(""),[_,T]=V.useState(""),I=Cr();V.useEffect(()=>{const R=zh(ii,b=>{b&&I("/profile")});return()=>R()},[I]);const P=async R=>{R.preventDefault();try{const x=(await jN(ii,n,t)).user;await Fk(kt(ze,"users",x.uid),{firstName:o,lastName:u,phone:f,email:n}),console.log("User data saved in Firestore"),I("/")}catch(b){T(b.message)}};return v.jsx("div",{className:"register-container",children:v.jsxs("div",{className:"register-form",children:[v.jsxs("div",{className:"logo-home",children:["EQUIP",v.jsx("sup",{children:" "})]}),v.jsx("h2",{children:""}),v.jsxs("form",{onSubmit:P,children:[v.jsx("div",{className:"form-input",children:v.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:R=>e(R.target.value)})}),v.jsx("div",{className:"form-input",children:v.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:R=>i(R.target.value)})}),v.jsx("div",{className:"form-input",children:v.jsx("input",{type:"text",placeholder:"First Name",value:o,onChange:R=>a(R.target.value)})}),v.jsx("div",{className:"form-input",children:v.jsx("input",{type:"text",placeholder:"Last Name",value:u,onChange:R=>d(R.target.value)})}),v.jsx("div",{className:"form-input",children:v.jsx("input",{type:"text",placeholder:"Phone",value:f,onChange:R=>m(R.target.value)})}),v.jsxs("small",{className:"black-text",children:["   ?   ",v.jsx("a",{href:"/login",children:""})]}),_&&v.jsx("p",{className:"error-message",children:_}),v.jsx("button",{type:"submit",className:"submit-btn",children:" "})]})]})})},yb=()=>v.jsx("div",{className:"example",children:v.jsx("p",{children:"This is just an example!"})}),vb=()=>v.jsx("div",{children:v.jsx(yb,{})}),_b=({user:n})=>{const{id:e}=OI();Cr();const[t,i]=V.useState(null),[o,a]=V.useState(!0),[u,d]=V.useState(null),[f,m]=V.useState(!1),[_,T]=V.useState(!1),[I,P]=V.useState(null),[R,b]=V.useState([]),[x,$]=V.useState([]),[Q,K]=V.useState({}),[J,ie]=V.useState(!1),[ae,D]=V.useState({});V.useEffect(()=>{(async()=>{try{const ve=await On(kt(ze,"events",e));if(ve.exists()){const De={id:ve.id,...ve.data()};i(De);const Pe=await On(kt(ze,"users",De.userId));Pe.exists()&&P(Pe.data());const Te=ni(Wt(ze,"offers"),Vn("eventId","==",ve.id),Vn("status","==","accepted")),ne=await ra(Te),fe={};ne.forEach(le=>{le.data().resources.forEach(Y=>{const ge=Y.name.toLowerCase().trim();fe[ge]||(fe[ge]=0),fe[ge]+=Y.quantity||1})}),D(fe)}else d("   ")}catch(ve){console.error("Error fetching event:",ve),d("    ")}finally{a(!1)}})()},[e]),V.useEffect(()=>{if(!n||!t)return;const C=ni(Wt(ze,"resources"),Vn("userId","==",n.uid)),ve=Fh(C,De=>{const Te=De.docs.map(ne=>({id:ne.id,...ne.data()})).filter(ne=>{if(!t.resources||t.resources.length===0)return!1;const fe=t.resources.find(Y=>Y.name.toLowerCase().trim()===ne.name.toLowerCase().trim());if(!fe)return!1;const le=fe.quantity||1;return(ne.available||0)>=le});b(Te)},De=>{console.error("Error fetching resources:",De)});return()=>ve()},[n,t]);const A=C=>{const ve=new Date(C),De=["","","","","","",""],Pe=["","","","","","","","","","","",""];return`${De[ve.getDay()]}, ${ve.getDate()} ${Pe[ve.getMonth()]}`},k=C=>{$(ve=>{if(ve.some(Pe=>Pe.id===C.id)){const Pe={...Q};return delete Pe[C.id],K(Pe),ve.filter(Te=>Te.id!==C.id)}else return[...ve,C]})},O=(C,ve)=>{K(De=>({...De,[C]:ve}))},M=async C=>{C.preventDefault(),C.stopPropagation();try{const ve={eventId:t.id,eventTitle:t.title,eventCreatorId:t.userId,offererId:n.uid,offererName:`${n.firstName} ${n.lastName}`,resources:x.map(Te=>{const ne=t.resources.find(le=>le.name.toLowerCase().trim()===Te.name.toLowerCase().trim()),fe=(ne==null?void 0:ne.quantity)||1;return{id:Te.id,name:Te.name,category:Te.category,price:Q[Te.id],quantity:fe}}),totalPrice:x.reduce((Te,ne)=>Te+(Q[ne.id]||0),0),status:"pending",createdAt:nh()},De=await ia(Wt(ze,"offers"),ve),Pe={userId:t.userId,type:"new_offer",title:"   ",message:`${n.firstName||""} ${n.lastName||""}  ${x.map(Te=>{const ne=t.resources.find(le=>le.name.toLowerCase().trim()===Te.name.toLowerCase().trim());return`${(ne==null?void 0:ne.quantity)||1}x ${Te.name}  ${Q[Te.id]} .`}).join(", ")}    "${t.title}"`,offerId:De.id,eventId:t.id,read:!1,createdAt:nh()};await ia(Wt(ze,"notifications"),Pe),ie(!0),setTimeout(()=>ie(!1),3e3),T(!1),$([]),K({})}catch(ve){console.error("Error submitting offer:",ve)}},F=()=>x.length>0&&x.every(C=>Q[C.id]&&Q[C.id]>0);return o?v.jsxs("div",{className:"app-container",children:[v.jsx(Os,{user:n}),v.jsxs("div",{className:"main-container",children:[v.jsx(Ds,{}),v.jsx("div",{className:"event-detail-container",children:v.jsx("div",{className:"loading",children:"..."})})]})]}):u?v.jsxs("div",{className:"app-container",children:[v.jsx(Os,{user:n}),v.jsxs("div",{className:"main-container",children:[v.jsx(Ds,{}),v.jsx("div",{className:"event-detail-container",children:v.jsx("div",{className:"error-message",children:u})})]})]}):t?v.jsxs("div",{className:"app-container",children:[v.jsx(Os,{user:n}),v.jsxs("div",{className:"main-container",children:[v.jsx(Ds,{}),v.jsxs("div",{className:"event-detail-container",children:[J&&v.jsxs("div",{className:"success-message",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})}),"   !"]}),v.jsxs("div",{className:"event-detail-header",children:[v.jsx("h1",{children:t.title}),v.jsxs("div",{className:"header-actions",children:[t.isPrivate&&v.jsx("span",{className:"private-badge",children:""}),n&&n.uid!==t.userId&&v.jsxs("button",{className:"offer-button",onClick:()=>T(!0),children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-box-seam",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M8.186 1.113a1 1 0 0 0-1.372 0l-2 2A1 1 0 0 0 5 4.118v2.765L3.186 8.113a1 1 0 0 0 0 1.774l2 2A1 1 0 0 0 6 12.118v2.765l1.814 1.814a1 1 0 0 0 1.372 0l2-2A1 1 0 0 0 11 11.882V9.118l1.814-1.814a1 1 0 0 0 0-1.774l-2-2A1 1 0 0 0 10 4.118V1.353a1 1 0 0 0-1.814-.24zM6 4.118l2-2 2 2v2.765L8 7.236 6 6.883zm0 7.764v2.765l2 2 2-2v-2.765L8 8.764zm6-7.764L10 1.353v2.765l2 2V4.118z"})})," "]}),n&&v.jsx("button",{className:"contact-button",onClick:()=>m(!0),children:" "})]})]}),v.jsxs("div",{className:"event-detail-info",children:[v.jsxs("div",{className:"info-section",children:[v.jsx("h3",{children:"  "}),v.jsxs("div",{className:"info-grid",children:[v.jsxs("div",{className:"info-item",children:[v.jsx("span",{className:"info-label",children:":"}),v.jsx("span",{className:"info-value",children:A(t.date)})]}),v.jsxs("div",{className:"info-item",children:[v.jsx("span",{className:"info-label",children:":"}),v.jsxs("span",{className:"info-value",children:[t.startTime," - ",t.endTime]})]}),v.jsxs("div",{className:"info-item",children:[v.jsx("span",{className:"info-label",children:":"}),v.jsx("span",{className:"info-value",children:t.location})]})]})]}),v.jsxs("div",{className:"description-section",children:[v.jsx("h3",{children:""}),v.jsx("p",{children:t.description||"   "})]}),v.jsxs("div",{className:"resources-section",children:[v.jsx("h3",{children:" "}),t.resources&&t.resources.length>0?v.jsx("div",{className:"resources-list",children:t.resources.map((C,ve)=>{const De=C.name.toLowerCase().trim(),Pe=ae[De]||0,Te=Math.max(0,(C.quantity||1)-Pe),ne=Te===0;return v.jsxs("div",{className:`resource-item ${ne?"completed":""}`,children:[v.jsxs("div",{className:"resource-info",children:[v.jsx("span",{className:"resource-name",children:C.name}),v.jsx("span",{className:"resource-category",children:C.category})]}),v.jsxs("div",{className:"resource-quantity",children:[v.jsx("span",{className:"quantity-label",children:" :"}),v.jsxs("span",{className:"quantity-value",children:[Te," / ",C.quantity||1]}),ne&&v.jsx("span",{className:"completed-badge",children:""})]})]},ve)})}):v.jsx("p",{children:"  "})]})]}),f&&I&&v.jsx("div",{className:"contact-modal",children:v.jsxs("div",{className:"contact-modal-content",children:[v.jsx("button",{className:"close-button",onClick:()=>m(!1),children:""}),v.jsx("h3",{children:" "}),v.jsxs("div",{className:"contact-info",children:[v.jsxs("div",{className:"contact-item",children:[v.jsx("span",{className:"contact-label",children:":"}),v.jsx("span",{className:"contact-value",children:I.firstName})]}),v.jsxs("div",{className:"contact-item",children:[v.jsx("span",{className:"contact-label",children:":"}),v.jsx("span",{className:"contact-value",children:I.lastName})]}),v.jsxs("div",{className:"contact-item",children:[v.jsx("span",{className:"contact-label",children:":"}),v.jsx("span",{className:"contact-value",children:I.phone})]})]})]})}),_&&v.jsx("div",{className:"popup-overlay",onClick:()=>T(!1),children:v.jsxs("div",{className:"popup-content",onClick:C=>C.stopPropagation(),children:[v.jsx("button",{className:"close-button",onClick:()=>T(!1),children:""}),v.jsx("h2",{children:" "}),R.length>0?v.jsxs("form",{onSubmit:M,children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:" :"}),v.jsx("div",{className:"resources-list",children:R.map(C=>{const ve=t.resources.find(Pe=>Pe.name.toLowerCase().trim()===C.name.toLowerCase().trim()),De=(ve==null?void 0:ve.quantity)||1;return v.jsxs("div",{className:`resource-item ${x.some(Pe=>Pe.id===C.id)?"selected":""}`,onClick:()=>k(C),children:[v.jsxs("div",{className:"resource-info",children:[v.jsx("span",{className:"resource-name",children:C.name}),v.jsx("span",{className:"resource-category",children:C.category})]}),v.jsx("div",{className:"resource-stats",children:v.jsxs("span",{className:"resource-quantity",children:[": ",C.available," / : ",De]})}),x.some(Pe=>Pe.id===C.id)&&v.jsxs("div",{className:"resource-price",children:[v.jsx("input",{type:"number",min:"0",step:"0.01",value:Q[C.id]||"",onChange:Pe=>O(C.id,parseFloat(Pe.target.value)),onClick:Pe=>Pe.stopPropagation(),placeholder:"",required:!0}),v.jsx("span",{className:"currency",children:"."})]})]},C.id)})})]}),v.jsx("button",{type:"submit",className:"submit-button",disabled:!F(),children:""})]}):v.jsxs("div",{className:"no-resources-message",children:[v.jsx("p",{children:"    ."}),v.jsx("p",{children:" :"}),v.jsx("ul",{children:t.resources.map((C,ve)=>v.jsxs("li",{children:[C.name," - : ",C.quantity||1]},ve))})]})]})})]})]})]}):null},wb=({user:n})=>{const e=Cr(),[t,i]=V.useState({title:"",isPrivate:!1,date:"",startTime:"00:00",endTime:"23:59",location:"",description:"",resources:[]}),[o,a]=V.useState(""),[u,d]=V.useState(!1),[f,m]=V.useState(""),[_,T]=V.useState(""),[I,P]=V.useState(!1),[R,b]=V.useState(null),[x,$]=V.useState(1),Q={:["","","","",""," ","","","","","","","","","","","","",""],:["","",""],:["","","",""," ","  ","a  ","  ","   ","  "]," ":["","","","","","LED ","","LED ","","","","","","",""," "," "],:[""," "," ",""," "," ",""," "],:["","",""],:["","","","","","",""],:["",""," ",""," ",""]," ":["",""," "," "],"   ":["",""," "]," ":["","",""]," ":[" "," T","","",""]," ":[""," ","    "," "," "]," ":["","","","",""," "," ","VR/AR "," "," "]},K=async A=>{if(A.preventDefault(),a(""),d(!0),!n){a("       "),d(!1);return}try{if(!t.title||!t.date||!t.location){a("   "),d(!1);return}const k={...t,userId:n.uid,createdAt:new Date().toISOString(),status:"active",visibility:t.isPrivate?"private":"public"};console.log("Creating event with data:",k);const O=await ia(Wt(ze,"events"),k);console.log("Event created with ID: ",O.id),t.isPrivate?e("/events/private"):e("/events/public")}catch(k){console.error("Error creating event: ",k),a("    .   .")}finally{d(!1)}},J=A=>{const{name:k,value:O,type:M,checked:F}=A.target;i(C=>({...C,[k]:M==="checkbox"?F:O}))},ie=A=>{b(A),$(1),P(!0)},ae=()=>{if(R){const A={id:Date.now().toString(),name:R,category:f,itemType:R,quantity:x};i(k=>({...k,resources:[...k.resources,A]})),P(!1),b(null),$(1)}},D=()=>f?Q[f]||[]:[];return v.jsxs("div",{className:"app-container",children:[v.jsx(Os,{user:n}),v.jsxs("div",{className:"main-container",children:[v.jsx(Ds,{}),v.jsxs("div",{className:"form-container",children:[v.jsxs("form",{className:"event-form",onSubmit:K,children:[v.jsx("h2",{children:" "}),o&&v.jsx("div",{className:"error-message",children:o}),v.jsxs("div",{className:"form-section",children:[v.jsxs("div",{className:"event-form-title",children:[v.jsx("label",{children:""}),v.jsxs("div",{className:"event-form-title-input",children:[v.jsx("input",{type:"text",name:"title",value:t.title,onChange:J,placeholder:"   ",required:!0}),v.jsxs("span",{className:"event-form-checkbox",children:[v.jsx("p",{children:""}),v.jsx("input",{id:"form-checkbox",type:"checkbox",name:"isPrivate",checked:t.isPrivate,onChange:J})]})]})]}),v.jsxs("div",{className:"event-form-date",children:[v.jsxs("div",{className:"event-form-date-label",children:[v.jsx("label",{children:""}),v.jsx("input",{type:"date",name:"date",value:t.date,onChange:J,required:!0})]}),v.jsxs("div",{className:"event-form-date-label",children:[v.jsx("label",{children:""}),v.jsx("input",{type:"time",name:"startTime",value:t.startTime,onChange:J,required:!0})]}),v.jsxs("div",{className:"event-form-date-label",children:[v.jsx("label",{children:""}),v.jsx("input",{type:"time",name:"endTime",value:t.endTime,onChange:J,required:!0})]})]}),v.jsxs("div",{className:"event-form-location",children:[v.jsx("label",{children:""}),v.jsx("input",{type:"text",name:"location",value:t.location,onChange:J,placeholder:"   ",required:!0})]}),v.jsxs("div",{className:"event-form-description",children:[v.jsx("label",{children:""}),v.jsx("textarea",{name:"description",value:t.description||"",onChange:J,placeholder:"   ",rows:"4"})]}),v.jsxs("div",{className:"event-form-resources",children:[v.jsx("label",{children:" "}),v.jsx("div",{className:"event-form-resources-box",children:v.jsx("div",{className:"card-pills",children:t.resources.map((A,k)=>v.jsxs("span",{className:"card-pill",children:[A.name," (",A.quantity,")",v.jsx("button",{type:"button",className:"remove-resource",onClick:()=>{i(O=>({...O,resources:O.resources.filter((M,F)=>F!==k)}))},children:""})]},k))})})]}),v.jsx("button",{type:"submit",className:"submit-button",disabled:u,children:u?"...":" "})]})]}),v.jsxs("div",{className:"event-form-resources-list",children:[v.jsx("h3",{children:" "}),v.jsx("div",{className:"resource-filters",children:v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"category",children:""}),v.jsx("select",{id:"category",value:f,onChange:A=>{m(A.target.value),T("")},required:!0,children:Object.keys(Q).map(A=>v.jsx("option",{value:A,children:A},A))})]})}),v.jsx("div",{className:"resources-list",children:D().map(A=>v.jsx("div",{className:"resource-item",onClick:()=>ie(A),children:v.jsxs("div",{className:"resource-info",children:[v.jsx("h4",{children:A}),v.jsx("span",{className:"resource-status",children:""})]})},A))}),I&&v.jsx("div",{className:"quantity-dialog",children:v.jsxs("div",{className:"quantity-dialog-content",children:[v.jsx("h3",{children:" "}),v.jsx("div",{className:"quantity-input",children:v.jsx("input",{type:"number",min:"1",value:x,onChange:A=>$(parseInt(A.target.value)||1)})}),v.jsxs("div",{className:"quantity-dialog-buttons",children:[v.jsx("button",{className:"cancel-button",onClick:()=>{P(!1),b(null),$(1)},children:""}),v.jsx("button",{className:"confirm-button",onClick:ae,children:""})]})]})})]})]})]})]})},Eb=({user:n})=>{const[e,t]=V.useState([]),[i,o]=V.useState(!0),[a,u]=V.useState(!1),[d,f]=V.useState(null),[m,_]=V.useState(!1);V.useEffect(()=>{if(!n){o(!1);return}const R=ni(Wt(ze,"resources"),Vn("userId","==",n.uid)),b=Fh(R,x=>{const $=x.docs.map(Q=>({id:Q.id,...Q.data()}));t($),o(!1)},x=>{console.error("Error fetching resources:",x),o(!1)});return()=>b()},[n]);const T=R=>{f(R),u(!0)},I=async R=>{R.preventDefault();try{const b=kt(ze,"resources",d.id);await bc(b,{name:d.name,category:d.category,description:d.description,total:d.total,available:d.total}),u(!1)}catch(b){console.error("Error updating resource:",b)}},P=async R=>{try{await Uk(kt(ze,"resources",R)),_(!1)}catch(b){console.error("Error deleting resource:",b)}};return i?v.jsx("div",{className:"item-cards-grid",children:"..."}):e.length===0?v.jsxs("div",{className:"item-cards-grid empty-state",children:[v.jsx("p",{children:"  "}),v.jsx("p",{className:"empty-state-subtitle",children:"  +     "})]}):v.jsxs("div",{className:"item-cards-grid",children:[e.map(R=>v.jsx("div",{className:"item-card",children:v.jsxs("div",{className:"item-card-content",children:[v.jsx("h3",{children:R.name}),v.jsx("p",{className:"item-category",children:R.category}),v.jsx("p",{className:"item-description",children:R.description}),v.jsxs("div",{className:"item-stats",children:[v.jsxs("div",{className:"stat",children:[v.jsx("span",{className:"stat-label",children:":"}),v.jsx("span",{className:"stat-value",children:R.total})]}),v.jsxs("div",{className:"stat",children:[v.jsx("span",{className:"stat-label",children:":"}),v.jsx("span",{className:"stat-value",children:R.available})]})]}),v.jsxs("div",{className:"item-actions",children:[v.jsx("button",{className:"edit-button",onClick:()=>T(R),children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"})})}),v.jsx("button",{className:"delete-button",onClick:()=>_(R.id),children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:[v.jsx("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),v.jsx("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})})]})]})},R.id)),a&&d&&v.jsx("div",{className:"popup-overlay",children:v.jsxs("div",{className:"popup-content",children:[v.jsx("button",{className:"close-button",onClick:()=>u(!1),children:""}),v.jsx("h2",{children:" "}),v.jsxs("form",{onSubmit:I,children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:":"}),v.jsx("input",{type:"text",value:d.name,onChange:R=>f({...d,name:R.target.value}),required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:":"}),v.jsx("input",{type:"text",value:d.category,onChange:R=>f({...d,category:R.target.value}),required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:":"}),v.jsx("textarea",{value:d.description,onChange:R=>f({...d,description:R.target.value}),required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:" :"}),v.jsx("input",{type:"number",value:d.total,onChange:R=>f({...d,total:parseInt(R.target.value)}),min:"0",required:!0})]}),v.jsx("button",{type:"submit",className:"submit-button",children:""})]})]})}),m&&v.jsx("div",{className:"popup-overlay",children:v.jsxs("div",{className:"popup-content",children:[v.jsx("h2",{children:" "}),v.jsx("p",{children:"         ?"}),v.jsxs("div",{className:"popup-actions",children:[v.jsx("button",{className:"cancel-button",onClick:()=>_(!1),children:""}),v.jsx("button",{className:"delete-button",onClick:()=>P(m),children:""})]})]})})]})},Tb=({event:n,onRemove:e})=>{const t=o=>{const a=new Date(o),u=["","","","","","",""],d=["","","","","","","","","","","",""];return`${u[a.getDay()]}, ${a.getDate()} ${d[a.getMonth()]}`},i=o=>{o.stopPropagation(),window.confirm("         ?")&&e(n.id)};return v.jsx("div",{className:"event-ticket",children:v.jsxs("div",{className:"event-ticket-content",children:[v.jsxs("div",{className:"event-ticket-header",children:[v.jsx("h2",{className:"event-ticket-title",children:n.title}),v.jsxs("div",{className:"event-ticket-actions",children:[n.isPrivate&&v.jsx("span",{className:"event-ticket-private",children:""}),v.jsx("button",{className:"event-ticket-remove",onClick:i,"aria-label":"Remove event",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash",viewBox:"0 0 16 16",children:[v.jsx("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"}),v.jsx("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"})]})})]})]}),v.jsxs("div",{className:"event-ticket-details",children:[v.jsxs("div",{className:"event-ticket-date",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-calendar",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"})}),v.jsx("span",{children:t(n.date)})]}),v.jsxs("div",{className:"event-ticket-time",children:[v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-clock",viewBox:"0 0 16 16",children:[v.jsx("path",{d:"M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71z"}),v.jsx("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0"})]}),v.jsxs("span",{children:[n.startTime," - ",n.endTime]})]})]})]})})},Ib=({user:n})=>{const[e,t]=V.useState([]),[i,o]=V.useState(!0);return V.useEffect(()=>{(async()=>{if(!n){o(!1);return}try{const u=ni(Wt(ze,"events"),Vn("userId","==",n.uid)),f=(await ra(u)).docs.map(m=>({id:m.id,...m.data()}));t(f)}catch(u){console.error("Error fetching events:",u)}finally{o(!1)}})()},[n]),i?v.jsx("div",{className:"event-cards-carousel",children:"Loading..."}):e.length===0?v.jsx("div",{className:"event-cards-carousel",children:"  "}):v.jsx("div",{className:"event-cards-carousel",children:e.map(a=>v.jsx(Tb,{event:a},a.id))})},Sb=({isOpen:n,onClose:e,user:t})=>{const[i,o]=V.useState({description:"",quantity:1,category:"",itemType:""}),[a,u]=V.useState(!1),[d,f]=V.useState(""),m={:["","","","",""," ","","","","","","","","","","","","",""],:["","",""],:["","","",""," ","  ","a  ","  ","   ","  "]," ":["","","","","","LED ","","LED ","","","","","","",""," "," "],:[""," "," ",""," "," ",""," "],:["","",""],:["","","","","","",""],:["",""," ",""," ",""]," ":["",""," "," "],"   ":["",""," "]," ":["","",""]," ":[" "," T","","",""]," ":[""," ","    "," "," "]," ":["","","","",""," "," ","VR/AR "," "," "]},_=async I=>{I.preventDefault(),u(!0),f("");try{const P={...i,name:i.itemType||i.category,userId:t.uid,createdAt:new Date().toISOString(),available:i.quantity};await ia(Wt(ze,"resources"),P),e()}catch(P){f("    .   ."),console.error("Error adding resource: ",P)}finally{u(!1)}},T=I=>{const{name:P,value:R}=I.target;o(b=>({...b,[P]:R,...P==="category"&&{itemType:""}}))};return n?v.jsx("div",{className:"popup-overlay",onClick:I=>{I.target===I.currentTarget&&e()},children:v.jsxs("div",{className:"popup-content",children:[v.jsx("button",{className:"close-button",onClick:e,children:""}),v.jsx("h2",{children:"  "}),v.jsxs("form",{onSubmit:_,children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"description",children:""}),v.jsx("textarea",{id:"description",name:"description",value:i.description,onChange:T,placeholder:" ",rows:"3"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"quantity",children:""}),v.jsx("input",{type:"number",id:"quantity",name:"quantity",value:i.quantity,onChange:T,min:"1",required:!0,placeholder:" "})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"category",children:""}),v.jsxs("select",{id:"category",name:"category",value:i.category,onChange:T,required:!0,children:[v.jsx("option",{value:"",children:" "}),Object.keys(m).map(I=>v.jsx("option",{value:I,children:I},I))]})]}),i.category&&m[i.category]&&v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"itemType",children:""}),v.jsxs("select",{id:"itemType",name:"itemType",value:i.itemType,onChange:T,required:!0,children:[v.jsx("option",{value:"",children:" "}),m[i.category].map(I=>v.jsx("option",{value:I,children:I},I))]})]}),d&&v.jsx("p",{className:"error-message",children:d}),v.jsx("button",{type:"submit",className:"submit-button",disabled:a,children:a?"...":""})]})]})}):null},Rb=({user:n})=>{const[e,t]=V.useState(null),[i,o]=V.useState(!0),[a,u]=V.useState(!1),[d,f]=V.useState([]),m=Cr();return V.useEffect(()=>{n?(async()=>{const T=kt(ze,"users",n.uid),I=await On(T);I.exists()?t(I.data()):console.log("No such document!"),o(!1)})():o(!1)},[n]),V.useEffect(()=>{(async()=>{if(n)try{const T=ni(Wt(ze,"resources"),Vn("reservedBy","==",n.uid)),I=await ra(T),P=[];for(const R of I.docs){const b=R.data();if(b.reservedFor){const x=await On(kt(ze,"events",b.reservedFor));if(x.exists()){const $=ni(Wt(ze,"offers"),Vn("eventId","==",b.reservedFor),Vn("offererId","==",n.uid),Vn("status","==","accepted")),Q=await ra($);let K=1;if(!Q.empty){const ie=Q.docs[0].data().resources.find(ae=>ae.id===R.id);ie&&(K=ie.quantity||1)}P.push({id:R.id,name:b.name,eventName:x.data().title,price:b.price,quantity:K})}}}f(P)}catch(T){console.error("Error fetching reserved resources:",T)}})()},[n]),v.jsxs("div",{className:"app-container",children:[v.jsx(Os,{user:n}),v.jsxs("div",{className:"main-container",children:[v.jsx(Ds,{}),v.jsx("div",{className:"profile-main-card",children:v.jsxs("div",{className:"whole-container",children:[v.jsxs("div",{className:"profile-info-box",children:[v.jsx("div",{className:"profile-greetings",children:i?v.jsx("div",{className:"loading-skeleton",children:"Loading..."}):v.jsx("div",{className:"profile-header",children:v.jsxs("div",{className:"profile-info",children:[e?v.jsxs("h2",{children:[", ",e.firstName," ",e.lastName]}):v.jsx("h2",{children:", Anonymous User"}),v.jsx("button",{className:"profile-create-button",onClick:()=>m("/createevent"),children:" "})]})})}),v.jsxs("div",{className:"profile-items-box",children:[v.jsx("h3",{children:" "}),v.jsx("div",{className:"profile-events-section",children:v.jsx(Ib,{user:n})}),v.jsx("h3",{children:"   "}),v.jsxs("div",{className:"profile-items-section",children:[v.jsx("button",{className:"profile-add-button",onClick:()=>u(!0),"aria-label":"Add new resource",children:"+"}),v.jsx(Eb,{user:n})]})]})]}),v.jsxs("div",{className:"profile-events-box",children:[v.jsx("h3",{children:" "}),d.length>0?v.jsx("ul",{className:"reserved-resources-list",children:d.map(_=>v.jsxs("li",{className:"reserved-resource-item",children:[v.jsxs("div",{className:"resource-info",children:[v.jsx("span",{className:"resource-name",children:_.name}),v.jsxs("span",{className:"resource-quantity",children:[": ",_.quantity]})]}),v.jsxs("span",{className:"event-name",children:[" ",_.eventName]}),v.jsx("span",{className:"resource-price",children:_.price})]},_.id))}):v.jsx("p",{className:"no-resources",children:"  "})]})]})})]}),v.jsx(Mm,{}),v.jsx(Sb,{isOpen:a,onClose:()=>u(!1),user:n})]})};function I1(n,e){return function(){return n.apply(e,arguments)}}const{toString:Ab}=Object.prototype,{getPrototypeOf:Fm}=Object,Hh=(n=>e=>{const t=Ab.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ar=n=>(n=n.toLowerCase(),e=>Hh(e)===n),Wh=n=>e=>typeof e===n,{isArray:ma}=Array,Ul=Wh("undefined");function Cb(n){return n!==null&&!Ul(n)&&n.constructor!==null&&!Ul(n.constructor)&&Tn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const S1=ar("ArrayBuffer");function xb(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&S1(n.buffer),e}const Pb=Wh("string"),Tn=Wh("function"),R1=Wh("number"),Kh=n=>n!==null&&typeof n=="object",kb=n=>n===!0||n===!1,jc=n=>{if(Hh(n)!=="object")return!1;const e=Fm(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Nb=ar("Date"),bb=ar("File"),Db=ar("Blob"),Ob=ar("FileList"),Lb=n=>Kh(n)&&Tn(n.pipe),Vb=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Tn(n.append)&&((e=Hh(n))==="formdata"||e==="object"&&Tn(n.toString)&&n.toString()==="[object FormData]"))},jb=ar("URLSearchParams"),[Mb,Fb,Ub,Bb]=["ReadableStream","Request","Response","Headers"].map(ar),zb=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zl(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,o;if(typeof n!="object"&&(n=[n]),ma(n))for(i=0,o=n.length;i<o;i++)e.call(null,n[i],i,n);else{const a=t?Object.getOwnPropertyNames(n):Object.keys(n),u=a.length;let d;for(i=0;i<u;i++)d=a[i],e.call(null,n[d],d,n)}}function A1(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,o;for(;i-- >0;)if(o=t[i],e===o.toLowerCase())return o;return null}const Ns=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,C1=n=>!Ul(n)&&n!==Ns;function Ip(){const{caseless:n}=C1(this)&&this||{},e={},t=(i,o)=>{const a=n&&A1(e,o)||o;jc(e[a])&&jc(i)?e[a]=Ip(e[a],i):jc(i)?e[a]=Ip({},i):ma(i)?e[a]=i.slice():e[a]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Zl(arguments[i],t);return e}const $b=(n,e,t,{allOwnKeys:i}={})=>(Zl(e,(o,a)=>{t&&Tn(o)?n[a]=I1(o,t):n[a]=o},{allOwnKeys:i}),n),qb=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Hb=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Wb=(n,e,t,i)=>{let o,a,u;const d={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),a=o.length;a-- >0;)u=o[a],(!i||i(u,n,e))&&!d[u]&&(e[u]=n[u],d[u]=!0);n=t!==!1&&Fm(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Kb=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},Gb=n=>{if(!n)return null;if(ma(n))return n;let e=n.length;if(!R1(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Qb=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Fm(Uint8Array)),Jb=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let o;for(;(o=i.next())&&!o.done;){const a=o.value;e.call(n,a[0],a[1])}},Yb=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},Xb=ar("HTMLFormElement"),Zb=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,o){return i.toUpperCase()+o}),Y_=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),eD=ar("RegExp"),x1=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};Zl(t,(o,a)=>{let u;(u=e(o,a,n))!==!1&&(i[a]=u||o)}),Object.defineProperties(n,i)},tD=n=>{x1(n,(e,t)=>{if(Tn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Tn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},nD=(n,e)=>{const t={},i=o=>{o.forEach(a=>{t[a]=!0})};return ma(n)?i(n):i(String(n).split(e)),t},rD=()=>{},iD=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function sD(n){return!!(n&&Tn(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const oD=n=>{const e=new Array(10),t=(i,o)=>{if(Kh(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[o]=i;const a=ma(i)?[]:{};return Zl(i,(u,d)=>{const f=t(u,o+1);!Ul(f)&&(a[d]=f)}),e[o]=void 0,a}}return i};return t(n,0)},aD=ar("AsyncFunction"),lD=n=>n&&(Kh(n)||Tn(n))&&Tn(n.then)&&Tn(n.catch),P1=((n,e)=>n?setImmediate:e?((t,i)=>(Ns.addEventListener("message",({source:o,data:a})=>{o===Ns&&a===t&&i.length&&i.shift()()},!1),o=>{i.push(o),Ns.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Tn(Ns.postMessage)),uD=typeof queueMicrotask<"u"?queueMicrotask.bind(Ns):typeof process<"u"&&process.nextTick||P1,G={isArray:ma,isArrayBuffer:S1,isBuffer:Cb,isFormData:Vb,isArrayBufferView:xb,isString:Pb,isNumber:R1,isBoolean:kb,isObject:Kh,isPlainObject:jc,isReadableStream:Mb,isRequest:Fb,isResponse:Ub,isHeaders:Bb,isUndefined:Ul,isDate:Nb,isFile:bb,isBlob:Db,isRegExp:eD,isFunction:Tn,isStream:Lb,isURLSearchParams:jb,isTypedArray:Qb,isFileList:Ob,forEach:Zl,merge:Ip,extend:$b,trim:zb,stripBOM:qb,inherits:Hb,toFlatObject:Wb,kindOf:Hh,kindOfTest:ar,endsWith:Kb,toArray:Gb,forEachEntry:Jb,matchAll:Yb,isHTMLForm:Xb,hasOwnProperty:Y_,hasOwnProp:Y_,reduceDescriptors:x1,freezeMethods:tD,toObjectSet:nD,toCamelCase:Zb,noop:rD,toFiniteNumber:iD,findKey:A1,global:Ns,isContextDefined:C1,isSpecCompliantForm:sD,toJSONObject:oD,isAsyncFn:aD,isThenable:lD,setImmediate:P1,asap:uD};function xe(n,e,t,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}G.inherits(xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const k1=xe.prototype,N1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{N1[n]={value:n}});Object.defineProperties(xe,N1);Object.defineProperty(k1,"isAxiosError",{value:!0});xe.from=(n,e,t,i,o,a)=>{const u=Object.create(k1);return G.toFlatObject(n,u,function(f){return f!==Error.prototype},d=>d!=="isAxiosError"),xe.call(u,n.message,e,t,i,o),u.cause=n,u.name=n.name,a&&Object.assign(u,a),u};const cD=null;function Sp(n){return G.isPlainObject(n)||G.isArray(n)}function b1(n){return G.endsWith(n,"[]")?n.slice(0,-2):n}function X_(n,e,t){return n?n.concat(e).map(function(o,a){return o=b1(o),!t&&a?"["+o+"]":o}).join(t?".":""):e}function hD(n){return G.isArray(n)&&!n.some(Sp)}const dD=G.toFlatObject(G,{},null,function(e){return/^is[A-Z]/.test(e)});function Gh(n,e,t){if(!G.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=G.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,x){return!G.isUndefined(x[b])});const i=t.metaTokens,o=t.visitor||_,a=t.dots,u=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(e);if(!G.isFunction(o))throw new TypeError("visitor must be a function");function m(R){if(R===null)return"";if(G.isDate(R))return R.toISOString();if(!f&&G.isBlob(R))throw new xe("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(R)||G.isTypedArray(R)?f&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function _(R,b,x){let $=R;if(R&&!x&&typeof R=="object"){if(G.endsWith(b,"{}"))b=i?b:b.slice(0,-2),R=JSON.stringify(R);else if(G.isArray(R)&&hD(R)||(G.isFileList(R)||G.endsWith(b,"[]"))&&($=G.toArray(R)))return b=b1(b),$.forEach(function(K,J){!(G.isUndefined(K)||K===null)&&e.append(u===!0?X_([b],J,a):u===null?b:b+"[]",m(K))}),!1}return Sp(R)?!0:(e.append(X_(x,b,a),m(R)),!1)}const T=[],I=Object.assign(dD,{defaultVisitor:_,convertValue:m,isVisitable:Sp});function P(R,b){if(!G.isUndefined(R)){if(T.indexOf(R)!==-1)throw Error("Circular reference detected in "+b.join("."));T.push(R),G.forEach(R,function($,Q){(!(G.isUndefined($)||$===null)&&o.call(e,$,G.isString(Q)?Q.trim():Q,b,I))===!0&&P($,b?b.concat(Q):[Q])}),T.pop()}}if(!G.isObject(n))throw new TypeError("data must be an object");return P(n),e}function Z_(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Um(n,e){this._pairs=[],n&&Gh(n,this,e)}const D1=Um.prototype;D1.append=function(e,t){this._pairs.push([e,t])};D1.toString=function(e){const t=e?function(i){return e.call(this,i,Z_)}:Z_;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function fD(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function O1(n,e,t){if(!e)return n;const i=t&&t.encode||fD;G.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let a;if(o?a=o(e,t):a=G.isURLSearchParams(e)?e.toString():new Um(e,t).toString(i),a){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class e0{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,function(i){i!==null&&e(i)})}}const L1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pD=typeof URLSearchParams<"u"?URLSearchParams:Um,mD=typeof FormData<"u"?FormData:null,gD=typeof Blob<"u"?Blob:null,yD={isBrowser:!0,classes:{URLSearchParams:pD,FormData:mD,Blob:gD},protocols:["http","https","file","blob","url","data"]},Bm=typeof window<"u"&&typeof document<"u",Rp=typeof navigator=="object"&&navigator||void 0,vD=Bm&&(!Rp||["ReactNative","NativeScript","NS"].indexOf(Rp.product)<0),_D=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wD=Bm&&window.location.href||"http://localhost",ED=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bm,hasStandardBrowserEnv:vD,hasStandardBrowserWebWorkerEnv:_D,navigator:Rp,origin:wD},Symbol.toStringTag,{value:"Module"})),Ht={...ED,...yD};function TD(n,e){return Gh(n,new Ht.classes.URLSearchParams,Object.assign({visitor:function(t,i,o,a){return Ht.isNode&&G.isBuffer(t)?(this.append(i,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function ID(n){return G.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function SD(n){const e={},t=Object.keys(n);let i;const o=t.length;let a;for(i=0;i<o;i++)a=t[i],e[a]=n[a];return e}function V1(n){function e(t,i,o,a){let u=t[a++];if(u==="__proto__")return!0;const d=Number.isFinite(+u),f=a>=t.length;return u=!u&&G.isArray(o)?o.length:u,f?(G.hasOwnProp(o,u)?o[u]=[o[u],i]:o[u]=i,!d):((!o[u]||!G.isObject(o[u]))&&(o[u]=[]),e(t,i,o[u],a)&&G.isArray(o[u])&&(o[u]=SD(o[u])),!d)}if(G.isFormData(n)&&G.isFunction(n.entries)){const t={};return G.forEachEntry(n,(i,o)=>{e(ID(i),o,t,0)}),t}return null}function RD(n,e,t){if(G.isString(n))try{return(e||JSON.parse)(n),G.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(0,JSON.stringify)(n)}const eu={transitional:L1,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",o=i.indexOf("application/json")>-1,a=G.isObject(e);if(a&&G.isHTMLForm(e)&&(e=new FormData(e)),G.isFormData(e))return o?JSON.stringify(V1(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)||G.isReadableStream(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return TD(e,this.formSerializer).toString();if((d=G.isFileList(e))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Gh(d?{"files[]":e}:e,f&&new f,this.formSerializer)}}return a||o?(t.setContentType("application/json",!1),RD(e)):e}],transformResponse:[function(e){const t=this.transitional||eu.transitional,i=t&&t.forcedJSONParsing,o=this.responseType==="json";if(G.isResponse(e)||G.isReadableStream(e))return e;if(e&&G.isString(e)&&(i&&!this.responseType||o)){const u=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(d){if(u)throw d.name==="SyntaxError"?xe.from(d,xe.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ht.classes.FormData,Blob:Ht.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],n=>{eu.headers[n]={}});const AD=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),CD=n=>{const e={};let t,i,o;return n&&n.split(`
`).forEach(function(u){o=u.indexOf(":"),t=u.substring(0,o).trim().toLowerCase(),i=u.substring(o+1).trim(),!(!t||e[t]&&AD[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},t0=Symbol("internals");function pl(n){return n&&String(n).trim().toLowerCase()}function Mc(n){return n===!1||n==null?n:G.isArray(n)?n.map(Mc):String(n)}function xD(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const PD=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Hf(n,e,t,i,o){if(G.isFunction(i))return i.call(this,e,t);if(o&&(e=t),!!G.isString(e)){if(G.isString(i))return e.indexOf(i)!==-1;if(G.isRegExp(i))return i.test(e)}}function kD(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function ND(n,e){const t=G.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(o,a,u){return this[i].call(this,e,o,a,u)},configurable:!0})})}class dn{constructor(e){e&&this.set(e)}set(e,t,i){const o=this;function a(d,f,m){const _=pl(f);if(!_)throw new Error("header name must be a non-empty string");const T=G.findKey(o,_);(!T||o[T]===void 0||m===!0||m===void 0&&o[T]!==!1)&&(o[T||f]=Mc(d))}const u=(d,f)=>G.forEach(d,(m,_)=>a(m,_,f));if(G.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(G.isString(e)&&(e=e.trim())&&!PD(e))u(CD(e),t);else if(G.isHeaders(e))for(const[d,f]of e.entries())a(f,d,i);else e!=null&&a(t,e,i);return this}get(e,t){if(e=pl(e),e){const i=G.findKey(this,e);if(i){const o=this[i];if(!t)return o;if(t===!0)return xD(o);if(G.isFunction(t))return t.call(this,o,i);if(G.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=pl(e),e){const i=G.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Hf(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let o=!1;function a(u){if(u=pl(u),u){const d=G.findKey(i,u);d&&(!t||Hf(i,i[d],d,t))&&(delete i[d],o=!0)}}return G.isArray(e)?e.forEach(a):a(e),o}clear(e){const t=Object.keys(this);let i=t.length,o=!1;for(;i--;){const a=t[i];(!e||Hf(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const t=this,i={};return G.forEach(this,(o,a)=>{const u=G.findKey(i,a);if(u){t[u]=Mc(o),delete t[a];return}const d=e?kD(a):String(a).trim();d!==a&&delete t[a],t[d]=Mc(o),i[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return G.forEach(this,(i,o)=>{i!=null&&i!==!1&&(t[o]=e&&G.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(o=>i.set(o)),i}static accessor(e){const i=(this[t0]=this[t0]={accessors:{}}).accessors,o=this.prototype;function a(u){const d=pl(u);i[d]||(ND(o,u),i[d]=!0)}return G.isArray(e)?e.forEach(a):a(e),this}}dn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(dn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});G.freezeMethods(dn);function Wf(n,e){const t=this||eu,i=e||t,o=dn.from(i.headers);let a=i.data;return G.forEach(n,function(d){a=d.call(t,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function j1(n){return!!(n&&n.__CANCEL__)}function ga(n,e,t){xe.call(this,n??"canceled",xe.ERR_CANCELED,e,t),this.name="CanceledError"}G.inherits(ga,xe,{__CANCEL__:!0});function M1(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new xe("Request failed with status code "+t.status,[xe.ERR_BAD_REQUEST,xe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function bD(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function DD(n,e){n=n||10;const t=new Array(n),i=new Array(n);let o=0,a=0,u;return e=e!==void 0?e:1e3,function(f){const m=Date.now(),_=i[a];u||(u=m),t[o]=f,i[o]=m;let T=a,I=0;for(;T!==o;)I+=t[T++],T=T%n;if(o=(o+1)%n,o===a&&(a=(a+1)%n),m-u<e)return;const P=_&&m-_;return P?Math.round(I*1e3/P):void 0}}function OD(n,e){let t=0,i=1e3/e,o,a;const u=(m,_=Date.now())=>{t=_,o=null,a&&(clearTimeout(a),a=null),n.apply(null,m)};return[(...m)=>{const _=Date.now(),T=_-t;T>=i?u(m,_):(o=m,a||(a=setTimeout(()=>{a=null,u(o)},i-T)))},()=>o&&u(o)]}const ch=(n,e,t=3)=>{let i=0;const o=DD(50,250);return OD(a=>{const u=a.loaded,d=a.lengthComputable?a.total:void 0,f=u-i,m=o(f),_=u<=d;i=u;const T={loaded:u,total:d,progress:d?u/d:void 0,bytes:f,rate:m||void 0,estimated:m&&d&&_?(d-u)/m:void 0,event:a,lengthComputable:d!=null,[e?"download":"upload"]:!0};n(T)},t)},n0=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},r0=n=>(...e)=>G.asap(()=>n(...e)),LD=Ht.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Ht.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Ht.origin),Ht.navigator&&/(msie|trident)/i.test(Ht.navigator.userAgent)):()=>!0,VD=Ht.hasStandardBrowserEnv?{write(n,e,t,i,o,a){const u=[n+"="+encodeURIComponent(e)];G.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),G.isString(i)&&u.push("path="+i),G.isString(o)&&u.push("domain="+o),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function jD(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function MD(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function F1(n,e,t){let i=!jD(e);return n&&i||t==!1?MD(n,e):e}const i0=n=>n instanceof dn?{...n}:n;function zs(n,e){e=e||{};const t={};function i(m,_,T,I){return G.isPlainObject(m)&&G.isPlainObject(_)?G.merge.call({caseless:I},m,_):G.isPlainObject(_)?G.merge({},_):G.isArray(_)?_.slice():_}function o(m,_,T,I){if(G.isUndefined(_)){if(!G.isUndefined(m))return i(void 0,m,T,I)}else return i(m,_,T,I)}function a(m,_){if(!G.isUndefined(_))return i(void 0,_)}function u(m,_){if(G.isUndefined(_)){if(!G.isUndefined(m))return i(void 0,m)}else return i(void 0,_)}function d(m,_,T){if(T in e)return i(m,_);if(T in n)return i(void 0,m)}const f={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:d,headers:(m,_,T)=>o(i0(m),i0(_),T,!0)};return G.forEach(Object.keys(Object.assign({},n,e)),function(_){const T=f[_]||o,I=T(n[_],e[_],_);G.isUndefined(I)&&T!==d||(t[_]=I)}),t}const U1=n=>{const e=zs({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:u,auth:d}=e;e.headers=u=dn.from(u),e.url=O1(F1(e.baseURL,e.url),n.params,n.paramsSerializer),d&&u.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let f;if(G.isFormData(t)){if(Ht.hasStandardBrowserEnv||Ht.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((f=u.getContentType())!==!1){const[m,..._]=f?f.split(";").map(T=>T.trim()).filter(Boolean):[];u.setContentType([m||"multipart/form-data",..._].join("; "))}}if(Ht.hasStandardBrowserEnv&&(i&&G.isFunction(i)&&(i=i(e)),i||i!==!1&&LD(e.url))){const m=o&&a&&VD.read(a);m&&u.set(o,m)}return e},FD=typeof XMLHttpRequest<"u",UD=FD&&function(n){return new Promise(function(t,i){const o=U1(n);let a=o.data;const u=dn.from(o.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:m}=o,_,T,I,P,R;function b(){P&&P(),R&&R(),o.cancelToken&&o.cancelToken.unsubscribe(_),o.signal&&o.signal.removeEventListener("abort",_)}let x=new XMLHttpRequest;x.open(o.method.toUpperCase(),o.url,!0),x.timeout=o.timeout;function $(){if(!x)return;const K=dn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),ie={data:!d||d==="text"||d==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:K,config:n,request:x};M1(function(D){t(D),b()},function(D){i(D),b()},ie),x=null}"onloadend"in x?x.onloadend=$:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout($)},x.onabort=function(){x&&(i(new xe("Request aborted",xe.ECONNABORTED,n,x)),x=null)},x.onerror=function(){i(new xe("Network Error",xe.ERR_NETWORK,n,x)),x=null},x.ontimeout=function(){let J=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const ie=o.transitional||L1;o.timeoutErrorMessage&&(J=o.timeoutErrorMessage),i(new xe(J,ie.clarifyTimeoutError?xe.ETIMEDOUT:xe.ECONNABORTED,n,x)),x=null},a===void 0&&u.setContentType(null),"setRequestHeader"in x&&G.forEach(u.toJSON(),function(J,ie){x.setRequestHeader(ie,J)}),G.isUndefined(o.withCredentials)||(x.withCredentials=!!o.withCredentials),d&&d!=="json"&&(x.responseType=o.responseType),m&&([I,R]=ch(m,!0),x.addEventListener("progress",I)),f&&x.upload&&([T,P]=ch(f),x.upload.addEventListener("progress",T),x.upload.addEventListener("loadend",P)),(o.cancelToken||o.signal)&&(_=K=>{x&&(i(!K||K.type?new ga(null,n,x):K),x.abort(),x=null)},o.cancelToken&&o.cancelToken.subscribe(_),o.signal&&(o.signal.aborted?_():o.signal.addEventListener("abort",_)));const Q=bD(o.url);if(Q&&Ht.protocols.indexOf(Q)===-1){i(new xe("Unsupported protocol "+Q+":",xe.ERR_BAD_REQUEST,n));return}x.send(a||null)})},BD=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,o;const a=function(m){if(!o){o=!0,d();const _=m instanceof Error?m:this.reason;i.abort(_ instanceof xe?_:new ga(_ instanceof Error?_.message:_))}};let u=e&&setTimeout(()=>{u=null,a(new xe(`timeout ${e} of ms exceeded`,xe.ETIMEDOUT))},e);const d=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),n=null)};n.forEach(m=>m.addEventListener("abort",a));const{signal:f}=i;return f.unsubscribe=()=>G.asap(d),f}},zD=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,o;for(;i<t;)o=i+e,yield n.slice(i,o),i=o},$D=async function*(n,e){for await(const t of qD(n))yield*zD(t,e)},qD=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},s0=(n,e,t,i)=>{const o=$D(n,e);let a=0,u,d=f=>{u||(u=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:m,value:_}=await o.next();if(m){d(),f.close();return}let T=_.byteLength;if(t){let I=a+=T;t(I)}f.enqueue(new Uint8Array(_))}catch(m){throw d(m),m}},cancel(f){return d(f),o.return()}},{highWaterMark:2})},Qh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",B1=Qh&&typeof ReadableStream=="function",HD=Qh&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),z1=(n,...e)=>{try{return!!n(...e)}catch{return!1}},WD=B1&&z1(()=>{let n=!1;const e=new Request(Ht.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),o0=64*1024,Ap=B1&&z1(()=>G.isReadableStream(new Response("").body)),hh={stream:Ap&&(n=>n.body)};Qh&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!hh[e]&&(hh[e]=G.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new xe(`Response type '${e}' is not supported`,xe.ERR_NOT_SUPPORT,i)})})})(new Response);const KD=async n=>{if(n==null)return 0;if(G.isBlob(n))return n.size;if(G.isSpecCompliantForm(n))return(await new Request(Ht.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(G.isArrayBufferView(n)||G.isArrayBuffer(n))return n.byteLength;if(G.isURLSearchParams(n)&&(n=n+""),G.isString(n))return(await HD(n)).byteLength},GD=async(n,e)=>{const t=G.toFiniteNumber(n.getContentLength());return t??KD(e)},QD=Qh&&(async n=>{let{url:e,method:t,data:i,signal:o,cancelToken:a,timeout:u,onDownloadProgress:d,onUploadProgress:f,responseType:m,headers:_,withCredentials:T="same-origin",fetchOptions:I}=U1(n);m=m?(m+"").toLowerCase():"text";let P=BD([o,a&&a.toAbortSignal()],u),R;const b=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let x;try{if(f&&WD&&t!=="get"&&t!=="head"&&(x=await GD(_,i))!==0){let ie=new Request(e,{method:"POST",body:i,duplex:"half"}),ae;if(G.isFormData(i)&&(ae=ie.headers.get("content-type"))&&_.setContentType(ae),ie.body){const[D,A]=n0(x,ch(r0(f)));i=s0(ie.body,o0,D,A)}}G.isString(T)||(T=T?"include":"omit");const $="credentials"in Request.prototype;R=new Request(e,{...I,signal:P,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:i,duplex:"half",credentials:$?T:void 0});let Q=await fetch(R);const K=Ap&&(m==="stream"||m==="response");if(Ap&&(d||K&&b)){const ie={};["status","statusText","headers"].forEach(k=>{ie[k]=Q[k]});const ae=G.toFiniteNumber(Q.headers.get("content-length")),[D,A]=d&&n0(ae,ch(r0(d),!0))||[];Q=new Response(s0(Q.body,o0,D,()=>{A&&A(),b&&b()}),ie)}m=m||"text";let J=await hh[G.findKey(hh,m)||"text"](Q,n);return!K&&b&&b(),await new Promise((ie,ae)=>{M1(ie,ae,{data:J,headers:dn.from(Q.headers),status:Q.status,statusText:Q.statusText,config:n,request:R})})}catch($){throw b&&b(),$&&$.name==="TypeError"&&/fetch/i.test($.message)?Object.assign(new xe("Network Error",xe.ERR_NETWORK,n,R),{cause:$.cause||$}):xe.from($,$&&$.code,n,R)}}),Cp={http:cD,xhr:UD,fetch:QD};G.forEach(Cp,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const a0=n=>`- ${n}`,JD=n=>G.isFunction(n)||n===null||n===!1,$1={getAdapter:n=>{n=G.isArray(n)?n:[n];const{length:e}=n;let t,i;const o={};for(let a=0;a<e;a++){t=n[a];let u;if(i=t,!JD(t)&&(i=Cp[(u=String(t)).toLowerCase()],i===void 0))throw new xe(`Unknown adapter '${u}'`);if(i)break;o[u||"#"+a]=i}if(!i){const a=Object.entries(o).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=e?a.length>1?`since :
`+a.map(a0).join(`
`):" "+a0(a[0]):"as no adapter specified";throw new xe("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:Cp};function Kf(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ga(null,n)}function l0(n){return Kf(n),n.headers=dn.from(n.headers),n.data=Wf.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),$1.getAdapter(n.adapter||eu.adapter)(n).then(function(i){return Kf(n),i.data=Wf.call(n,n.transformResponse,i),i.headers=dn.from(i.headers),i},function(i){return j1(i)||(Kf(n),i&&i.response&&(i.response.data=Wf.call(n,n.transformResponse,i.response),i.response.headers=dn.from(i.response.headers))),Promise.reject(i)})}const q1="1.8.2",Jh={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Jh[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const u0={};Jh.transitional=function(e,t,i){function o(a,u){return"[Axios v"+q1+"] Transitional option '"+a+"'"+u+(i?". "+i:"")}return(a,u,d)=>{if(e===!1)throw new xe(o(u," has been removed"+(t?" in "+t:"")),xe.ERR_DEPRECATED);return t&&!u0[u]&&(u0[u]=!0,console.warn(o(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,u,d):!0}};Jh.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function YD(n,e,t){if(typeof n!="object")throw new xe("options must be an object",xe.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let o=i.length;for(;o-- >0;){const a=i[o],u=e[a];if(u){const d=n[a],f=d===void 0||u(d,a,n);if(f!==!0)throw new xe("option "+a+" must be "+f,xe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new xe("Unknown option "+a,xe.ERR_BAD_OPTION)}}const Fc={assertOptions:YD,validators:Jh},_r=Fc.validators;class Ls{constructor(e){this.defaults=e,this.interceptors={request:new e0,response:new e0}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=zs(this.defaults,t);const{transitional:i,paramsSerializer:o,headers:a}=t;i!==void 0&&Fc.assertOptions(i,{silentJSONParsing:_r.transitional(_r.boolean),forcedJSONParsing:_r.transitional(_r.boolean),clarifyTimeoutError:_r.transitional(_r.boolean)},!1),o!=null&&(G.isFunction(o)?t.paramsSerializer={serialize:o}:Fc.assertOptions(o,{encode:_r.function,serialize:_r.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Fc.assertOptions(t,{baseUrl:_r.spelling("baseURL"),withXsrfToken:_r.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=a&&G.merge(a.common,a[t.method]);a&&G.forEach(["delete","get","head","post","put","patch","common"],R=>{delete a[R]}),t.headers=dn.concat(u,a);const d=[];let f=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(t)===!1||(f=f&&b.synchronous,d.unshift(b.fulfilled,b.rejected))});const m=[];this.interceptors.response.forEach(function(b){m.push(b.fulfilled,b.rejected)});let _,T=0,I;if(!f){const R=[l0.bind(this),void 0];for(R.unshift.apply(R,d),R.push.apply(R,m),I=R.length,_=Promise.resolve(t);T<I;)_=_.then(R[T++],R[T++]);return _}I=d.length;let P=t;for(T=0;T<I;){const R=d[T++],b=d[T++];try{P=R(P)}catch(x){b.call(this,x);break}}try{_=l0.call(this,P)}catch(R){return Promise.reject(R)}for(T=0,I=m.length;T<I;)_=_.then(m[T++],m[T++]);return _}getUri(e){e=zs(this.defaults,e);const t=F1(e.baseURL,e.url,e.allowAbsoluteUrls);return O1(t,e.params,e.paramsSerializer)}}G.forEach(["delete","get","head","options"],function(e){Ls.prototype[e]=function(t,i){return this.request(zs(i||{},{method:e,url:t,data:(i||{}).data}))}});G.forEach(["post","put","patch"],function(e){function t(i){return function(a,u,d){return this.request(zs(d||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:u}))}}Ls.prototype[e]=t(),Ls.prototype[e+"Form"]=t(!0)});class zm{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const i=this;this.promise.then(o=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](o);i._listeners=null}),this.promise.then=o=>{let a;const u=new Promise(d=>{i.subscribe(d),a=d}).then(o);return u.cancel=function(){i.unsubscribe(a)},u},e(function(a,u,d){i.reason||(i.reason=new ga(a,u,d),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new zm(function(o){e=o}),cancel:e}}}function XD(n){return function(t){return n.apply(null,t)}}function ZD(n){return G.isObject(n)&&n.isAxiosError===!0}const xp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xp).forEach(([n,e])=>{xp[e]=n});function H1(n){const e=new Ls(n),t=I1(Ls.prototype.request,e);return G.extend(t,Ls.prototype,e,{allOwnKeys:!0}),G.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return H1(zs(n,o))},t}const gt=H1(eu);gt.Axios=Ls;gt.CanceledError=ga;gt.CancelToken=zm;gt.isCancel=j1;gt.VERSION=q1;gt.toFormData=Gh;gt.AxiosError=xe;gt.Cancel=gt.CanceledError;gt.all=function(e){return Promise.all(e)};gt.spread=XD;gt.isAxiosError=ZD;gt.mergeConfig=zs;gt.AxiosHeaders=dn;gt.formToJSON=n=>V1(G.isHTMLForm(n)?new FormData(n):n);gt.getAdapter=$1.getAdapter;gt.HttpStatusCode=xp;gt.default=gt;const eO=()=>{const[n,e]=V.useState([]),[t,i]=V.useState({}),[o,a]=V.useState({}),[u,d]=V.useState(!0),[f,m]=V.useState(null);V.useEffect(()=>{(async()=>{try{const{data:P}=await gt.get("http://localhost:3000/api/items"),R=new Map;P.forEach(x=>{R.has(x.category_id)||R.set(x.category_id,{id:x.category_id,name:x.category_name,subcategories:new Map,items:[]});const $=R.get(x.category_id);x.subcategory_id?($.subcategories.has(x.subcategory_id)||$.subcategories.set(x.subcategory_id,{id:x.subcategory_id,name:x.subcategory_name,items:[]}),$.subcategories.get(x.subcategory_id).items.push(x)):$.items.push(x)});const b=Array.from(R.values()).map(x=>({...x,subcategories:Array.from(x.subcategories.values())}));e(b)}catch(P){m(P.message)}d(!1)})()},[]);const _=I=>{i(P=>{const R={};return n.forEach(b=>{R[b.id]=b.id===I?!P[I]:!1}),R}),a({})},T=I=>{a(P=>({...P,[I]:!P[I]}))};return u?v.jsx("p",{children:"Loading..."}):f?v.jsxs("p",{children:["Error: ",f]}):v.jsx("div",{className:"list-resources",children:v.jsx("ul",{className:"list-item",children:n.map(I=>v.jsxs("li",{className:"list-item",children:[v.jsx("div",{className:"list-item-toggle",onClick:()=>_(I.id),children:I.name}),t[I.id]&&v.jsxs("ul",{className:"list-expendable-box",children:[I.items.map(P=>v.jsxs("li",{className:"list-item",children:[P.name,v.jsx("span",{className:"list-item-add",children:"+"})]},P.id)),I.subcategories.map(P=>v.jsxs("li",{className:"list-item",children:[v.jsx("div",{className:"list-item-toggle",onClick:()=>T(P.id),children:P.name}),o[P.id]&&v.jsx("ul",{className:"list-expendable-box",children:P.items.map(R=>v.jsxs("li",{className:"list-item",children:[R.name,v.jsx("span",{className:"list-item-add",children:"+"})]},R.id))})]},P.id))]})]},I.id))})})},tO=()=>{const[n,e]=V.useState(""),[t,i]=V.useState(""),[o,a]=V.useState(""),[u,d]=V.useState(!1),f=Cr();V.useEffect(()=>{const _=zh(ii,T=>{T&&f("/profile")});return()=>_()},[f]);const m=async _=>{_.preventDefault(),a(""),d(!0);try{await MN(ii,n,t),f("/profile")}catch(T){a(T.message)}finally{d(!1)}};return v.jsx("div",{className:"login-container",children:v.jsxs("div",{className:"login-form",children:[v.jsxs("div",{className:"logo-home",children:["EQUIP",v.jsx("sup",{children:" "})]}),v.jsx("h2",{children:""}),v.jsxs("form",{onSubmit:m,children:[v.jsx("div",{className:"form-input",children:v.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:_=>e(_.target.value),required:!0})}),v.jsx("div",{className:"form-input",children:v.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:_=>i(_.target.value),required:!0})}),v.jsxs("small",{className:"black-text",children:["   ?   ",v.jsx("a",{href:"/register",children:""})]}),o&&v.jsx("p",{className:"error-message",children:o}),v.jsx("button",{type:"submit",className:"submit-btn",disabled:u,children:u?"...":" "})]})]})})},nO=V.createContext(),rO=({children:n})=>{const[e,t]=V.useState(null),[i,o]=V.useState(!0);return V.useEffect(()=>{const a=zh(ii,u=>{t(u),o(!1)});return()=>a()},[]),v.jsx(nO.Provider,{value:{user:e,loading:i},children:!i&&n})},c0=({children:n})=>ii.currentUser?n:v.jsx(GI,{to:"/login",replace:!0});function iO(){const[n,e]=V.useState(null);return V.useEffect(()=>{const t=zh(ii,i=>{e(i)});return()=>t()},[]),v.jsx(v.Fragment,{children:v.jsx(rO,{children:v.jsx(wS,{basename:"/Event-Planner",children:v.jsx("div",{className:"app-wrapper",children:v.jsxs(JI,{children:[v.jsx(Dn,{path:"/",element:v.jsx(tb,{})}),v.jsx(Dn,{path:"/profile",element:v.jsx(c0,{children:v.jsx(Rb,{user:n})})}),v.jsx(Dn,{path:"/events/public",element:v.jsx(G_,{user:n})}),v.jsx(Dn,{path:"/events/private",element:v.jsx(G_,{user:n})}),v.jsx(Dn,{path:"/users",element:v.jsx(c0,{children:v.jsx(mb,{user:n})})}),v.jsx(Dn,{path:"/register",element:v.jsx(gb,{})}),v.jsx(Dn,{path:"/login",element:v.jsx(tO,{})}),v.jsx(Dn,{path:"/addresource",element:v.jsx(vb,{})}),v.jsx(Dn,{path:"/eventdetail/:id",element:v.jsx(_b,{user:n})}),v.jsx(Dn,{path:"/createevent",element:v.jsx(wb,{user:n})}),v.jsx(Dn,{path:"/list",element:v.jsx(eO,{})})]})})})})})}iI.createRoot(document.getElementById("root")).render(v.jsx(V.StrictMode,{children:v.jsx(iO,{})}));
